(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const x of m.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&o(x)}).observe(document,{childList:!0,subtree:!0});function l(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(u){if(u.ep)return;u.ep=!0;const m=l(u);fetch(u.href,m)}})();var No={exports:{}},_n={},jo={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu;function Sp(){if(qu)return ge;qu=1;var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),x=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),N=Symbol.iterator;function k(T){return T===null||typeof T!="object"?null:(T=N&&T[N]||T["@@iterator"],typeof T=="function"?T:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,R={};function v(T,L,de){this.props=T,this.context=L,this.refs=R,this.updater=de||w}v.prototype.isReactComponent={},v.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},v.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function E(){}E.prototype=v.prototype;function _(T,L,de){this.props=T,this.context=L,this.refs=R,this.updater=de||w}var D=_.prototype=new E;D.constructor=_,b(D,v.prototype),D.isPureReactComponent=!0;var O=Array.isArray,q=Object.prototype.hasOwnProperty,H={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function ee(T,L,de){var ue,xe={},fe=null,je=null;if(L!=null)for(ue in L.ref!==void 0&&(je=L.ref),L.key!==void 0&&(fe=""+L.key),L)q.call(L,ue)&&!G.hasOwnProperty(ue)&&(xe[ue]=L[ue]);var be=arguments.length-2;if(be===1)xe.children=de;else if(1<be){for(var Ce=Array(be),We=0;We<be;We++)Ce[We]=arguments[We+2];xe.children=Ce}if(T&&T.defaultProps)for(ue in be=T.defaultProps,be)xe[ue]===void 0&&(xe[ue]=be[ue]);return{$$typeof:n,type:T,key:fe,ref:je,props:xe,_owner:H.current}}function V(T,L){return{$$typeof:n,type:T.type,key:L,ref:T.ref,props:T.props,_owner:T._owner}}function ne(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function ce(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(de){return L[de]})}var me=/\/+/g;function ve(T,L){return typeof T=="object"&&T!==null&&T.key!=null?ce(""+T.key):L.toString(36)}function he(T,L,de,ue,xe){var fe=typeof T;(fe==="undefined"||fe==="boolean")&&(T=null);var je=!1;if(T===null)je=!0;else switch(fe){case"string":case"number":je=!0;break;case"object":switch(T.$$typeof){case n:case i:je=!0}}if(je)return je=T,xe=xe(je),T=ue===""?"."+ve(je,0):ue,O(xe)?(de="",T!=null&&(de=T.replace(me,"$&/")+"/"),he(xe,L,de,"",function(We){return We})):xe!=null&&(ne(xe)&&(xe=V(xe,de+(!xe.key||je&&je.key===xe.key?"":(""+xe.key).replace(me,"$&/")+"/")+T)),L.push(xe)),1;if(je=0,ue=ue===""?".":ue+":",O(T))for(var be=0;be<T.length;be++){fe=T[be];var Ce=ue+ve(fe,be);je+=he(fe,L,de,Ce,xe)}else if(Ce=k(T),typeof Ce=="function")for(T=Ce.call(T),be=0;!(fe=T.next()).done;)fe=fe.value,Ce=ue+ve(fe,be++),je+=he(fe,L,de,Ce,xe);else if(fe==="object")throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return je}function Le(T,L,de){if(T==null)return T;var ue=[],xe=0;return he(T,ue,"","",function(fe){return L.call(de,fe,xe++)}),ue}function qe(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(de){(T._status===0||T._status===-1)&&(T._status=1,T._result=de)},function(de){(T._status===0||T._status===-1)&&(T._status=2,T._result=de)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var Ee={current:null},K={transition:null},ae={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:K,ReactCurrentOwner:H};function W(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:Le,forEach:function(T,L,de){Le(T,function(){L.apply(this,arguments)},de)},count:function(T){var L=0;return Le(T,function(){L++}),L},toArray:function(T){return Le(T,function(L){return L})||[]},only:function(T){if(!ne(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ge.Component=v,ge.Fragment=l,ge.Profiler=u,ge.PureComponent=_,ge.StrictMode=o,ge.Suspense=p,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,ge.act=W,ge.cloneElement=function(T,L,de){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ue=b({},T.props),xe=T.key,fe=T.ref,je=T._owner;if(L!=null){if(L.ref!==void 0&&(fe=L.ref,je=H.current),L.key!==void 0&&(xe=""+L.key),T.type&&T.type.defaultProps)var be=T.type.defaultProps;for(Ce in L)q.call(L,Ce)&&!G.hasOwnProperty(Ce)&&(ue[Ce]=L[Ce]===void 0&&be!==void 0?be[Ce]:L[Ce])}var Ce=arguments.length-2;if(Ce===1)ue.children=de;else if(1<Ce){be=Array(Ce);for(var We=0;We<Ce;We++)be[We]=arguments[We+2];ue.children=be}return{$$typeof:n,type:T.type,key:xe,ref:fe,props:ue,_owner:je}},ge.createContext=function(T){return T={$$typeof:x,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:m,_context:T},T.Consumer=T},ge.createElement=ee,ge.createFactory=function(T){var L=ee.bind(null,T);return L.type=T,L},ge.createRef=function(){return{current:null}},ge.forwardRef=function(T){return{$$typeof:g,render:T}},ge.isValidElement=ne,ge.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:qe}},ge.memo=function(T,L){return{$$typeof:f,type:T,compare:L===void 0?null:L}},ge.startTransition=function(T){var L=K.transition;K.transition={};try{T()}finally{K.transition=L}},ge.unstable_act=W,ge.useCallback=function(T,L){return Ee.current.useCallback(T,L)},ge.useContext=function(T){return Ee.current.useContext(T)},ge.useDebugValue=function(){},ge.useDeferredValue=function(T){return Ee.current.useDeferredValue(T)},ge.useEffect=function(T,L){return Ee.current.useEffect(T,L)},ge.useId=function(){return Ee.current.useId()},ge.useImperativeHandle=function(T,L,de){return Ee.current.useImperativeHandle(T,L,de)},ge.useInsertionEffect=function(T,L){return Ee.current.useInsertionEffect(T,L)},ge.useLayoutEffect=function(T,L){return Ee.current.useLayoutEffect(T,L)},ge.useMemo=function(T,L){return Ee.current.useMemo(T,L)},ge.useReducer=function(T,L,de){return Ee.current.useReducer(T,L,de)},ge.useRef=function(T){return Ee.current.useRef(T)},ge.useState=function(T){return Ee.current.useState(T)},ge.useSyncExternalStore=function(T,L,de){return Ee.current.useSyncExternalStore(T,L,de)},ge.useTransition=function(){return Ee.current.useTransition()},ge.version="18.3.1",ge}var Hu;function Bo(){return Hu||(Hu=1,jo.exports=Sp()),jo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku;function Ep(){if(Ku)return _n;Ku=1;var n=Bo(),i=Symbol.for("react.element"),l=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function x(g,p,f){var y,N={},k=null,w=null;f!==void 0&&(k=""+f),p.key!==void 0&&(k=""+p.key),p.ref!==void 0&&(w=p.ref);for(y in p)o.call(p,y)&&!m.hasOwnProperty(y)&&(N[y]=p[y]);if(g&&g.defaultProps)for(y in p=g.defaultProps,p)N[y]===void 0&&(N[y]=p[y]);return{$$typeof:i,type:g,key:k,ref:w,props:N,_owner:u.current}}return _n.Fragment=l,_n.jsx=x,_n.jsxs=x,_n}var Gu;function Cp(){return Gu||(Gu=1,No.exports=Ep()),No.exports}var e=Cp(),j=Bo(),ll={},wo={exports:{}},pt={},ko={exports:{}},So={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu;function Ip(){return Wu||(Wu=1,(function(n){function i(K,ae){var W=K.length;K.push(ae);e:for(;0<W;){var T=W-1>>>1,L=K[T];if(0<u(L,ae))K[T]=ae,K[W]=L,W=T;else break e}}function l(K){return K.length===0?null:K[0]}function o(K){if(K.length===0)return null;var ae=K[0],W=K.pop();if(W!==ae){K[0]=W;e:for(var T=0,L=K.length,de=L>>>1;T<de;){var ue=2*(T+1)-1,xe=K[ue],fe=ue+1,je=K[fe];if(0>u(xe,W))fe<L&&0>u(je,xe)?(K[T]=je,K[fe]=W,T=fe):(K[T]=xe,K[ue]=W,T=ue);else if(fe<L&&0>u(je,W))K[T]=je,K[fe]=W,T=fe;else break e}}return ae}function u(K,ae){var W=K.sortIndex-ae.sortIndex;return W!==0?W:K.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;n.unstable_now=function(){return m.now()}}else{var x=Date,g=x.now();n.unstable_now=function(){return x.now()-g}}var p=[],f=[],y=1,N=null,k=3,w=!1,b=!1,R=!1,v=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(K){for(var ae=l(f);ae!==null;){if(ae.callback===null)o(f);else if(ae.startTime<=K)o(f),ae.sortIndex=ae.expirationTime,i(p,ae);else break;ae=l(f)}}function O(K){if(R=!1,D(K),!b)if(l(p)!==null)b=!0,qe(q);else{var ae=l(f);ae!==null&&Ee(O,ae.startTime-K)}}function q(K,ae){b=!1,R&&(R=!1,E(ee),ee=-1),w=!0;var W=k;try{for(D(ae),N=l(p);N!==null&&(!(N.expirationTime>ae)||K&&!ce());){var T=N.callback;if(typeof T=="function"){N.callback=null,k=N.priorityLevel;var L=T(N.expirationTime<=ae);ae=n.unstable_now(),typeof L=="function"?N.callback=L:N===l(p)&&o(p),D(ae)}else o(p);N=l(p)}if(N!==null)var de=!0;else{var ue=l(f);ue!==null&&Ee(O,ue.startTime-ae),de=!1}return de}finally{N=null,k=W,w=!1}}var H=!1,G=null,ee=-1,V=5,ne=-1;function ce(){return!(n.unstable_now()-ne<V)}function me(){if(G!==null){var K=n.unstable_now();ne=K;var ae=!0;try{ae=G(!0,K)}finally{ae?ve():(H=!1,G=null)}}else H=!1}var ve;if(typeof _=="function")ve=function(){_(me)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Le=he.port2;he.port1.onmessage=me,ve=function(){Le.postMessage(null)}}else ve=function(){v(me,0)};function qe(K){G=K,H||(H=!0,ve())}function Ee(K,ae){ee=v(function(){K(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){b||w||(b=!0,qe(q))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return l(p)},n.unstable_next=function(K){switch(k){case 1:case 2:case 3:var ae=3;break;default:ae=k}var W=k;k=ae;try{return K()}finally{k=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var W=k;k=K;try{return ae()}finally{k=W}},n.unstable_scheduleCallback=function(K,ae,W){var T=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?T+W:T):W=T,K){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,K={id:y++,callback:ae,priorityLevel:K,startTime:W,expirationTime:L,sortIndex:-1},W>T?(K.sortIndex=W,i(f,K),l(p)===null&&K===l(f)&&(R?(E(ee),ee=-1):R=!0,Ee(O,W-T))):(K.sortIndex=L,i(p,K),b||w||(b=!0,qe(q))),K},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(K){var ae=k;return function(){var W=k;k=ae;try{return K.apply(this,arguments)}finally{k=W}}}})(So)),So}var Qu;function Rp(){return Qu||(Qu=1,ko.exports=Ip()),ko.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju;function Dp(){if(Ju)return pt;Ju=1;var n=Bo(),i=Rp();function l(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function m(t,s){x(t,s),x(t+"Capture",s)}function x(t,s){for(u[t]=s,t=0;t<s.length;t++)o.add(s[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},N={};function k(t){return p.call(N,t)?!0:p.call(y,t)?!1:f.test(t)?N[t]=!0:(y[t]=!0,!1)}function w(t,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function b(t,s,r,a){if(s===null||typeof s>"u"||w(t,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function R(t,s,r,a,c,d,h){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=d,this.removeEmptyString=h}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){v[t]=new R(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];v[s]=new R(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){v[t]=new R(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){v[t]=new R(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){v[t]=new R(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){v[t]=new R(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){v[t]=new R(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){v[t]=new R(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){v[t]=new R(t,5,!1,t.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(E,_);v[s]=new R(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(E,_);v[s]=new R(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(E,_);v[s]=new R(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){v[t]=new R(t,1,!1,t.toLowerCase(),null,!1,!1)}),v.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){v[t]=new R(t,1,!1,t.toLowerCase(),null,!0,!0)});function D(t,s,r,a){var c=v.hasOwnProperty(s)?v[s]:null;(c!==null?c.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,r,c,a)&&(r=null),a||c===null?k(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):c.mustUseProperty?t[c.propertyName]=r===null?c.type===3?!1:"":r:(s=c.attributeName,a=c.attributeNamespace,r===null?t.removeAttribute(s):(c=c.type,r=c===3||c===4&&r===!0?"":""+r,a?t.setAttributeNS(a,s,r):t.setAttribute(s,r))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),H=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ce=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),K=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=K&&t[K]||t["@@iterator"],typeof t=="function"?t:null)}var W=Object.assign,T;function L(t){if(T===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return`
`+T+t}var de=!1;function ue(t,s){if(!t||de)return"";de=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var a=z}Reflect.construct(t,[],s)}else{try{s.call()}catch(z){a=z}t.call(s.prototype)}else{try{throw Error()}catch(z){a=z}t()}}catch(z){if(z&&a&&typeof z.stack=="string"){for(var c=z.stack.split(`
`),d=a.stack.split(`
`),h=c.length-1,S=d.length-1;1<=h&&0<=S&&c[h]!==d[S];)S--;for(;1<=h&&0<=S;h--,S--)if(c[h]!==d[S]){if(h!==1||S!==1)do if(h--,S--,0>S||c[h]!==d[S]){var C=`
`+c[h].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=h&&0<=S);break}}}finally{de=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?L(t):""}function xe(t){switch(t.tag){case 5:return L(t.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function fe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case H:return"Portal";case V:return"Profiler";case ee:return"StrictMode";case ve:return"Suspense";case he:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ce:return(t.displayName||"Context")+".Consumer";case ne:return(t._context.displayName||"Context")+".Provider";case me:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Le:return s=t.displayName||null,s!==null?s:fe(t.type)||"Memo";case qe:s=t._payload,t=t._init;try{return fe(t(s))}catch{}}return null}function je(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(s);case 8:return s===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ce(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function We(t){var s=Ce(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),a=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return c.call(this)},set:function(h){a=""+h,d.call(this,h)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ar(t){t._valueTracker||(t._valueTracker=We(t))}function Gn(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return t&&(a=Ce(t)?t.checked?"true":"false":t.value),t=a,t!==r?(s.setValue(t),!0):!1}function lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ur(t,s){var r=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Wn(t,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=be(s.value!=null?s.value:r),t._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Qn(t,s){s=s.checked,s!=null&&D(t,"checked",s,!1)}function qr(t,s){Qn(t,s);var r=be(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Hr(t,s.type,r):s.hasOwnProperty("defaultValue")&&Hr(t,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Jn(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Hr(t,s,r){(s!=="number"||lr(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $s=Array.isArray;function ps(t,s,r,a){if(t=t.options,s){s={};for(var c=0;c<r.length;c++)s["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=s.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&a&&(t[r].defaultSelected=!0)}else{for(r=""+be(r),s=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}s!==null||t[c].disabled||(s=t[c])}s!==null&&(s.selected=!0)}}function Kr(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(l(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yn(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(l(92));if($s(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:be(r)}}function J(t,s){var r=be(s.value),a=be(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),a!=null&&(t.defaultValue=""+a)}function pe(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function et(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qt(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?et(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zn,nc=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,c){MSApp.execUnsafeLocalFunction(function(){return t(s,r,a,c)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Zn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Gr(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R0=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(t){R0.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Wr[s]=Wr[t]})});function ac(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Wr.hasOwnProperty(t)&&Wr[t]?(""+s).trim():s+"px"}function lc(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,c=ac(r,s[r],a);r==="float"&&(r="cssFloat"),a?t.setProperty(r,c):t[r]=c}}var D0=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _l(t,s){if(s){if(D0[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(l(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(l(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(l(61))}if(s.style!=null&&typeof s.style!="object")throw Error(l(62))}}function Al(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=null;function zl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ll=null,ir=null,or=null;function ic(t){if(t=hn(t)){if(typeof Ll!="function")throw Error(l(280));var s=t.stateNode;s&&(s=Na(s),Ll(t.stateNode,t.type,s))}}function oc(t){ir?or?or.push(t):or=[t]:ir=t}function cc(){if(ir){var t=ir,s=or;if(or=ir=null,ic(t),s)for(t=0;t<s.length;t++)ic(s[t])}}function dc(t,s){return t(s)}function uc(){}var Ol=!1;function mc(t,s,r){if(Ol)return t(s,r);Ol=!0;try{return dc(t,s,r)}finally{Ol=!1,(ir!==null||or!==null)&&(uc(),cc())}}function Qr(t,s){var r=t.stateNode;if(r===null)return null;var a=Na(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,s,typeof r));return r}var Ml=!1;if(g)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Ml=!1}function T0(t,s,r,a,c,d,h,S,C){var z=Array.prototype.slice.call(arguments,3);try{s.apply(r,z)}catch($){this.onError($)}}var Yr=!1,Xn=null,ea=!1,$l=null,_0={onError:function(t){Yr=!0,Xn=t}};function A0(t,s,r,a,c,d,h,S,C){Yr=!1,Xn=null,T0.apply(_0,arguments)}function P0(t,s,r,a,c,d,h,S,C){if(A0.apply(this,arguments),Yr){if(Yr){var z=Xn;Yr=!1,Xn=null}else throw Error(l(198));ea||(ea=!0,$l=z)}}function Fs(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function xc(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function pc(t){if(Fs(t)!==t)throw Error(l(188))}function z0(t){var s=t.alternate;if(!s){if(s=Fs(t),s===null)throw Error(l(188));return s!==t?null:t}for(var r=t,a=s;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){r=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return pc(c),t;if(d===a)return pc(c),s;d=d.sibling}throw Error(l(188))}if(r.return!==a.return)r=c,a=d;else{for(var h=!1,S=c.child;S;){if(S===r){h=!0,r=c,a=d;break}if(S===a){h=!0,a=c,r=d;break}S=S.sibling}if(!h){for(S=d.child;S;){if(S===r){h=!0,r=d,a=c;break}if(S===a){h=!0,a=d,r=c;break}S=S.sibling}if(!h)throw Error(l(189))}}if(r.alternate!==a)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:s}function gc(t){return t=z0(t),t!==null?fc(t):null}function fc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=fc(t);if(s!==null)return s;t=t.sibling}return null}var hc=i.unstable_scheduleCallback,yc=i.unstable_cancelCallback,L0=i.unstable_shouldYield,O0=i.unstable_requestPaint,Me=i.unstable_now,M0=i.unstable_getCurrentPriorityLevel,Fl=i.unstable_ImmediatePriority,vc=i.unstable_UserBlockingPriority,ta=i.unstable_NormalPriority,$0=i.unstable_LowPriority,bc=i.unstable_IdlePriority,sa=null,Ht=null;function F0(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(sa,t,void 0,(t.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:U0,B0=Math.log,V0=Math.LN2;function U0(t){return t>>>=0,t===0?32:31-(B0(t)/V0|0)|0}var ra=64,na=4194304;function Zr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function aa(t,s){var r=t.pendingLanes;if(r===0)return 0;var a=0,c=t.suspendedLanes,d=t.pingedLanes,h=r&268435455;if(h!==0){var S=h&~c;S!==0?a=Zr(S):(d&=h,d!==0&&(a=Zr(d)))}else h=r&~c,h!==0?a=Zr(h):d!==0&&(a=Zr(d));if(a===0)return 0;if(s!==0&&s!==a&&(s&c)===0&&(c=a&-a,d=s&-s,c>=d||c===16&&(d&4194240)!==0))return s;if((a&4)!==0&&(a|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=a;0<s;)r=31-Pt(s),c=1<<r,a|=t[r],s&=~c;return a}function q0(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H0(t,s){for(var r=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes;0<d;){var h=31-Pt(d),S=1<<h,C=c[h];C===-1?((S&r)===0||(S&a)!==0)&&(c[h]=q0(S,s)):C<=s&&(t.expiredLanes|=S),d&=~S}}function Bl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nc(){var t=ra;return ra<<=1,(ra&4194240)===0&&(ra=64),t}function Vl(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Xr(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Pt(s),t[s]=r}function K0(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<r;){var c=31-Pt(r),d=1<<c;s[c]=0,a[c]=-1,t[c]=-1,r&=~d}}function Ul(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var a=31-Pt(r),c=1<<a;c&s|t[a]&s&&(t[a]|=s),r&=~c}}var ke=0;function jc(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var wc,ql,kc,Sc,Ec,Hl=!1,la=[],gs=null,fs=null,hs=null,en=new Map,tn=new Map,ys=[],G0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(t,s){switch(t){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":en.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tn.delete(s.pointerId)}}function sn(t,s,r,a,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},s!==null&&(s=hn(s),s!==null&&ql(s)),t):(t.eventSystemFlags|=a,s=t.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),t)}function W0(t,s,r,a,c){switch(s){case"focusin":return gs=sn(gs,t,s,r,a,c),!0;case"dragenter":return fs=sn(fs,t,s,r,a,c),!0;case"mouseover":return hs=sn(hs,t,s,r,a,c),!0;case"pointerover":var d=c.pointerId;return en.set(d,sn(en.get(d)||null,t,s,r,a,c)),!0;case"gotpointercapture":return d=c.pointerId,tn.set(d,sn(tn.get(d)||null,t,s,r,a,c)),!0}return!1}function Ic(t){var s=Bs(t.target);if(s!==null){var r=Fs(s);if(r!==null){if(s=r.tag,s===13){if(s=xc(r),s!==null){t.blockedOn=s,Ec(t.priority,function(){kc(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ia(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Gl(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);Pl=a,r.target.dispatchEvent(a),Pl=null}else return s=hn(r),s!==null&&ql(s),t.blockedOn=r,!1;s.shift()}return!0}function Rc(t,s,r){ia(t)&&r.delete(s)}function Q0(){Hl=!1,gs!==null&&ia(gs)&&(gs=null),fs!==null&&ia(fs)&&(fs=null),hs!==null&&ia(hs)&&(hs=null),en.forEach(Rc),tn.forEach(Rc)}function rn(t,s){t.blockedOn===s&&(t.blockedOn=null,Hl||(Hl=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Q0)))}function nn(t){function s(c){return rn(c,t)}if(0<la.length){rn(la[0],t);for(var r=1;r<la.length;r++){var a=la[r];a.blockedOn===t&&(a.blockedOn=null)}}for(gs!==null&&rn(gs,t),fs!==null&&rn(fs,t),hs!==null&&rn(hs,t),en.forEach(s),tn.forEach(s),r=0;r<ys.length;r++)a=ys[r],a.blockedOn===t&&(a.blockedOn=null);for(;0<ys.length&&(r=ys[0],r.blockedOn===null);)Ic(r),r.blockedOn===null&&ys.shift()}var cr=O.ReactCurrentBatchConfig,oa=!0;function J0(t,s,r,a){var c=ke,d=cr.transition;cr.transition=null;try{ke=1,Kl(t,s,r,a)}finally{ke=c,cr.transition=d}}function Y0(t,s,r,a){var c=ke,d=cr.transition;cr.transition=null;try{ke=4,Kl(t,s,r,a)}finally{ke=c,cr.transition=d}}function Kl(t,s,r,a){if(oa){var c=Gl(t,s,r,a);if(c===null)di(t,s,a,ca,r),Cc(t,a);else if(W0(c,t,s,r,a))a.stopPropagation();else if(Cc(t,a),s&4&&-1<G0.indexOf(t)){for(;c!==null;){var d=hn(c);if(d!==null&&wc(d),d=Gl(t,s,r,a),d===null&&di(t,s,a,ca,r),d===c)break;c=d}c!==null&&a.stopPropagation()}else di(t,s,a,null,r)}}var ca=null;function Gl(t,s,r,a){if(ca=null,t=zl(a),t=Bs(t),t!==null)if(s=Fs(t),s===null)t=null;else if(r=s.tag,r===13){if(t=xc(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return ca=t,null}function Dc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M0()){case Fl:return 1;case vc:return 4;case ta:case $0:return 16;case bc:return 536870912;default:return 16}default:return 16}}var vs=null,Wl=null,da=null;function Tc(){if(da)return da;var t,s=Wl,r=s.length,a,c="value"in vs?vs.value:vs.textContent,d=c.length;for(t=0;t<r&&s[t]===c[t];t++);var h=r-t;for(a=1;a<=h&&s[r-a]===c[d-a];a++);return da=c.slice(t,1<a?1-a:void 0)}function ua(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ma(){return!0}function _c(){return!1}function ht(t){function s(r,a,c,d,h){this._reactName=r,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ma:_c,this.isPropagationStopped=_c,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),s}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=ht(dr),an=W({},dr,{view:0,detail:0}),Z0=ht(an),Jl,Yl,ln,xa=W({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&t.type==="mousemove"?(Jl=t.screenX-ln.screenX,Yl=t.screenY-ln.screenY):Yl=Jl=0,ln=t),Jl)},movementY:function(t){return"movementY"in t?t.movementY:Yl}}),Ac=ht(xa),X0=W({},xa,{dataTransfer:0}),ex=ht(X0),tx=W({},an,{relatedTarget:0}),Zl=ht(tx),sx=W({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),rx=ht(sx),nx=W({},dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ax=ht(nx),lx=W({},dr,{data:0}),Pc=ht(lx),ix={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dx(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=cx[t])?!!s[t]:!1}function Xl(){return dx}var ux=W({},an,{key:function(t){if(t.key){var s=ix[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ox[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(t){return t.type==="keypress"?ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mx=ht(ux),xx=W({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zc=ht(xx),px=W({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),gx=ht(px),fx=W({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hx=ht(fx),yx=W({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vx=ht(yx),bx=[9,13,27,32],ei=g&&"CompositionEvent"in window,on=null;g&&"documentMode"in document&&(on=document.documentMode);var Nx=g&&"TextEvent"in window&&!on,Lc=g&&(!ei||on&&8<on&&11>=on),Oc=" ",Mc=!1;function $c(t,s){switch(t){case"keyup":return bx.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function jx(t,s){switch(t){case"compositionend":return Fc(s);case"keypress":return s.which!==32?null:(Mc=!0,Oc);case"textInput":return t=s.data,t===Oc&&Mc?null:t;default:return null}}function wx(t,s){if(ur)return t==="compositionend"||!ei&&$c(t,s)?(t=Tc(),da=Wl=vs=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Lc&&s.locale!=="ko"?null:s.data;default:return null}}var kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!kx[t.type]:s==="textarea"}function Vc(t,s,r,a){oc(a),s=ya(s,"onChange"),0<s.length&&(r=new Ql("onChange","change",null,r,a),t.push({event:r,listeners:s}))}var cn=null,dn=null;function Sx(t){ld(t,0)}function pa(t){var s=fr(t);if(Gn(s))return t}function Ex(t,s){if(t==="change")return s}var Uc=!1;if(g){var ti;if(g){var si="oninput"in document;if(!si){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),si=typeof qc.oninput=="function"}ti=si}else ti=!1;Uc=ti&&(!document.documentMode||9<document.documentMode)}function Hc(){cn&&(cn.detachEvent("onpropertychange",Kc),dn=cn=null)}function Kc(t){if(t.propertyName==="value"&&pa(dn)){var s=[];Vc(s,dn,t,zl(t)),mc(Sx,s)}}function Cx(t,s,r){t==="focusin"?(Hc(),cn=s,dn=r,cn.attachEvent("onpropertychange",Kc)):t==="focusout"&&Hc()}function Ix(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pa(dn)}function Rx(t,s){if(t==="click")return pa(s)}function Dx(t,s){if(t==="input"||t==="change")return pa(s)}function Tx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var zt=typeof Object.is=="function"?Object.is:Tx;function un(t,s){if(zt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var c=r[a];if(!p.call(s,c)||!zt(t[c],s[c]))return!1}return!0}function Gc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wc(t,s){var r=Gc(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=s&&a>=s)return{node:r,offset:s-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gc(r)}}function Qc(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Qc(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Jc(){for(var t=window,s=lr();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=lr(t.document)}return s}function ri(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function _x(t){var s=Jc(),r=t.focusedElem,a=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&Qc(r.ownerDocument.documentElement,r)){if(a!==null&&ri(r)){if(s=a.start,t=a.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var c=r.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!t.extend&&d>a&&(c=a,a=d,d=c),c=Wc(r,d);var h=Wc(r,a);c&&h&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==h.node||t.focusOffset!==h.offset)&&(s=s.createRange(),s.setStart(c.node,c.offset),t.removeAllRanges(),d>a?(t.addRange(s),t.extend(h.node,h.offset)):(s.setEnd(h.node,h.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ax=g&&"documentMode"in document&&11>=document.documentMode,mr=null,ni=null,mn=null,ai=!1;function Yc(t,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ai||mr==null||mr!==lr(a)||(a=mr,"selectionStart"in a&&ri(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),mn&&un(mn,a)||(mn=a,a=ya(ni,"onSelect"),0<a.length&&(s=new Ql("onSelect","select",null,s,r),t.push({event:s,listeners:a}),s.target=mr)))}function ga(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var xr={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},li={},Zc={};g&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function fa(t){if(li[t])return li[t];if(!xr[t])return t;var s=xr[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Zc)return li[t]=s[r];return t}var Xc=fa("animationend"),ed=fa("animationiteration"),td=fa("animationstart"),sd=fa("transitionend"),rd=new Map,nd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(t,s){rd.set(t,s),m(s,[t])}for(var ii=0;ii<nd.length;ii++){var oi=nd[ii],Px=oi.toLowerCase(),zx=oi[0].toUpperCase()+oi.slice(1);bs(Px,"on"+zx)}bs(Xc,"onAnimationEnd"),bs(ed,"onAnimationIteration"),bs(td,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(sd,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lx=new Set("cancel close invalid load scroll toggle".split(" ").concat(xn));function ad(t,s,r){var a=t.type||"unknown-event";t.currentTarget=r,P0(a,s,void 0,t),t.currentTarget=null}function ld(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],c=a.event;a=a.listeners;e:{var d=void 0;if(s)for(var h=a.length-1;0<=h;h--){var S=a[h],C=S.instance,z=S.currentTarget;if(S=S.listener,C!==d&&c.isPropagationStopped())break e;ad(c,S,z),d=C}else for(h=0;h<a.length;h++){if(S=a[h],C=S.instance,z=S.currentTarget,S=S.listener,C!==d&&c.isPropagationStopped())break e;ad(c,S,z),d=C}}}if(ea)throw t=$l,ea=!1,$l=null,t}function Re(t,s){var r=s[fi];r===void 0&&(r=s[fi]=new Set);var a=t+"__bubble";r.has(a)||(id(s,t,2,!1),r.add(a))}function ci(t,s,r){var a=0;s&&(a|=4),id(r,t,a,s)}var ha="_reactListening"+Math.random().toString(36).slice(2);function pn(t){if(!t[ha]){t[ha]=!0,o.forEach(function(r){r!=="selectionchange"&&(Lx.has(r)||ci(r,!1,t),ci(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ha]||(s[ha]=!0,ci("selectionchange",!1,s))}}function id(t,s,r,a){switch(Dc(s)){case 1:var c=J0;break;case 4:c=Y0;break;default:c=Kl}r=c.bind(null,s,r,t),c=void 0,!Ml||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(s,r,{capture:!0,passive:c}):t.addEventListener(s,r,!0):c!==void 0?t.addEventListener(s,r,{passive:c}):t.addEventListener(s,r,!1)}function di(t,s,r,a,c){var d=a;if((s&1)===0&&(s&2)===0&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var S=a.stateNode.containerInfo;if(S===c||S.nodeType===8&&S.parentNode===c)break;if(h===4)for(h=a.return;h!==null;){var C=h.tag;if((C===3||C===4)&&(C=h.stateNode.containerInfo,C===c||C.nodeType===8&&C.parentNode===c))return;h=h.return}for(;S!==null;){if(h=Bs(S),h===null)return;if(C=h.tag,C===5||C===6){a=d=h;continue e}S=S.parentNode}}a=a.return}mc(function(){var z=d,$=zl(r),F=[];e:{var M=rd.get(t);if(M!==void 0){var Q=Ql,te=t;switch(t){case"keypress":if(ua(r)===0)break e;case"keydown":case"keyup":Q=mx;break;case"focusin":te="focus",Q=Zl;break;case"focusout":te="blur",Q=Zl;break;case"beforeblur":case"afterblur":Q=Zl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ex;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=gx;break;case Xc:case ed:case td:Q=rx;break;case sd:Q=hx;break;case"scroll":Q=Z0;break;case"wheel":Q=vx;break;case"copy":case"cut":case"paste":Q=ax;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=zc}var se=(s&4)!==0,$e=!se&&t==="scroll",A=se?M!==null?M+"Capture":null:M;se=[];for(var I=z,P;I!==null;){P=I;var U=P.stateNode;if(P.tag===5&&U!==null&&(P=U,A!==null&&(U=Qr(I,A),U!=null&&se.push(gn(I,U,P)))),$e)break;I=I.return}0<se.length&&(M=new Q(M,te,null,r,$),F.push({event:M,listeners:se}))}}if((s&7)===0){e:{if(M=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",M&&r!==Pl&&(te=r.relatedTarget||r.fromElement)&&(Bs(te)||te[es]))break e;if((Q||M)&&(M=$.window===$?$:(M=$.ownerDocument)?M.defaultView||M.parentWindow:window,Q?(te=r.relatedTarget||r.toElement,Q=z,te=te?Bs(te):null,te!==null&&($e=Fs(te),te!==$e||te.tag!==5&&te.tag!==6)&&(te=null)):(Q=null,te=z),Q!==te)){if(se=Ac,U="onMouseLeave",A="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(se=zc,U="onPointerLeave",A="onPointerEnter",I="pointer"),$e=Q==null?M:fr(Q),P=te==null?M:fr(te),M=new se(U,I+"leave",Q,r,$),M.target=$e,M.relatedTarget=P,U=null,Bs($)===z&&(se=new se(A,I+"enter",te,r,$),se.target=P,se.relatedTarget=$e,U=se),$e=U,Q&&te)t:{for(se=Q,A=te,I=0,P=se;P;P=pr(P))I++;for(P=0,U=A;U;U=pr(U))P++;for(;0<I-P;)se=pr(se),I--;for(;0<P-I;)A=pr(A),P--;for(;I--;){if(se===A||A!==null&&se===A.alternate)break t;se=pr(se),A=pr(A)}se=null}else se=null;Q!==null&&od(F,M,Q,se,!1),te!==null&&$e!==null&&od(F,$e,te,se,!0)}}e:{if(M=z?fr(z):window,Q=M.nodeName&&M.nodeName.toLowerCase(),Q==="select"||Q==="input"&&M.type==="file")var re=Ex;else if(Bc(M))if(Uc)re=Dx;else{re=Ix;var le=Cx}else(Q=M.nodeName)&&Q.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(re=Rx);if(re&&(re=re(t,z))){Vc(F,re,r,$);break e}le&&le(t,M,z),t==="focusout"&&(le=M._wrapperState)&&le.controlled&&M.type==="number"&&Hr(M,"number",M.value)}switch(le=z?fr(z):window,t){case"focusin":(Bc(le)||le.contentEditable==="true")&&(mr=le,ni=z,mn=null);break;case"focusout":mn=ni=mr=null;break;case"mousedown":ai=!0;break;case"contextmenu":case"mouseup":case"dragend":ai=!1,Yc(F,r,$);break;case"selectionchange":if(Ax)break;case"keydown":case"keyup":Yc(F,r,$)}var ie;if(ei)e:{switch(t){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else ur?$c(t,r)&&(oe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(oe="onCompositionStart");oe&&(Lc&&r.locale!=="ko"&&(ur||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&ur&&(ie=Tc()):(vs=$,Wl="value"in vs?vs.value:vs.textContent,ur=!0)),le=ya(z,oe),0<le.length&&(oe=new Pc(oe,t,null,r,$),F.push({event:oe,listeners:le}),ie?oe.data=ie:(ie=Fc(r),ie!==null&&(oe.data=ie)))),(ie=Nx?jx(t,r):wx(t,r))&&(z=ya(z,"onBeforeInput"),0<z.length&&($=new Pc("onBeforeInput","beforeinput",null,r,$),F.push({event:$,listeners:z}),$.data=ie))}ld(F,s)})}function gn(t,s,r){return{instance:t,listener:s,currentTarget:r}}function ya(t,s){for(var r=s+"Capture",a=[];t!==null;){var c=t,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Qr(t,r),d!=null&&a.unshift(gn(t,d,c)),d=Qr(t,s),d!=null&&a.push(gn(t,d,c))),t=t.return}return a}function pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function od(t,s,r,a,c){for(var d=s._reactName,h=[];r!==null&&r!==a;){var S=r,C=S.alternate,z=S.stateNode;if(C!==null&&C===a)break;S.tag===5&&z!==null&&(S=z,c?(C=Qr(r,d),C!=null&&h.unshift(gn(r,C,S))):c||(C=Qr(r,d),C!=null&&h.push(gn(r,C,S)))),r=r.return}h.length!==0&&t.push({event:s,listeners:h})}var Ox=/\r\n?/g,Mx=/\u0000|\uFFFD/g;function cd(t){return(typeof t=="string"?t:""+t).replace(Ox,`
`).replace(Mx,"")}function va(t,s,r){if(s=cd(s),cd(t)!==s&&r)throw Error(l(425))}function ba(){}var ui=null,mi=null;function xi(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pi=typeof setTimeout=="function"?setTimeout:void 0,$x=typeof clearTimeout=="function"?clearTimeout:void 0,dd=typeof Promise=="function"?Promise:void 0,Fx=typeof queueMicrotask=="function"?queueMicrotask:typeof dd<"u"?function(t){return dd.resolve(null).then(t).catch(Bx)}:pi;function Bx(t){setTimeout(function(){throw t})}function gi(t,s){var r=s,a=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(a===0){t.removeChild(c),nn(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=c}while(r);nn(s)}function Ns(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function ud(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var gr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+gr,fn="__reactProps$"+gr,es="__reactContainer$"+gr,fi="__reactEvents$"+gr,Vx="__reactListeners$"+gr,Ux="__reactHandles$"+gr;function Bs(t){var s=t[Kt];if(s)return s;for(var r=t.parentNode;r;){if(s=r[es]||r[Kt]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=ud(t);t!==null;){if(r=t[Kt])return r;t=ud(t)}return s}t=r,r=t.parentNode}return null}function hn(t){return t=t[Kt]||t[es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(l(33))}function Na(t){return t[fn]||null}var hi=[],hr=-1;function js(t){return{current:t}}function De(t){0>hr||(t.current=hi[hr],hi[hr]=null,hr--)}function Ie(t,s){hr++,hi[hr]=t.current,t.current=s}var ws={},tt=js(ws),ct=js(!1),Vs=ws;function yr(t,s){var r=t.type.contextTypes;if(!r)return ws;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in r)c[d]=s[d];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=c),c}function dt(t){return t=t.childContextTypes,t!=null}function ja(){De(ct),De(tt)}function md(t,s,r){if(tt.current!==ws)throw Error(l(168));Ie(tt,s),Ie(ct,r)}function xd(t,s,r){var a=t.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var c in a)if(!(c in s))throw Error(l(108,je(t)||"Unknown",c));return W({},r,a)}function wa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ws,Vs=tt.current,Ie(tt,t),Ie(ct,ct.current),!0}function pd(t,s,r){var a=t.stateNode;if(!a)throw Error(l(169));r?(t=xd(t,s,Vs),a.__reactInternalMemoizedMergedChildContext=t,De(ct),De(tt),Ie(tt,t)):De(ct),Ie(ct,r)}var ts=null,ka=!1,yi=!1;function gd(t){ts===null?ts=[t]:ts.push(t)}function qx(t){ka=!0,gd(t)}function ks(){if(!yi&&ts!==null){yi=!0;var t=0,s=ke;try{var r=ts;for(ke=1;t<r.length;t++){var a=r[t];do a=a(!0);while(a!==null)}ts=null,ka=!1}catch(c){throw ts!==null&&(ts=ts.slice(t+1)),hc(Fl,ks),c}finally{ke=s,yi=!1}}return null}var vr=[],br=0,Sa=null,Ea=0,kt=[],St=0,Us=null,ss=1,rs="";function qs(t,s){vr[br++]=Ea,vr[br++]=Sa,Sa=t,Ea=s}function fd(t,s,r){kt[St++]=ss,kt[St++]=rs,kt[St++]=Us,Us=t;var a=ss;t=rs;var c=32-Pt(a)-1;a&=~(1<<c),r+=1;var d=32-Pt(s)+c;if(30<d){var h=c-c%5;d=(a&(1<<h)-1).toString(32),a>>=h,c-=h,ss=1<<32-Pt(s)+c|r<<c|a,rs=d+t}else ss=1<<d|r<<c|a,rs=t}function vi(t){t.return!==null&&(qs(t,1),fd(t,1,0))}function bi(t){for(;t===Sa;)Sa=vr[--br],vr[br]=null,Ea=vr[--br],vr[br]=null;for(;t===Us;)Us=kt[--St],kt[St]=null,rs=kt[--St],kt[St]=null,ss=kt[--St],kt[St]=null}var yt=null,vt=null,_e=!1,Lt=null;function hd(t,s){var r=Rt(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function yd(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,yt=t,vt=Ns(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,yt=t,vt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Us!==null?{id:ss,overflow:rs}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Rt(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,yt=t,vt=null,!0):!1;default:return!1}}function Ni(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ji(t){if(_e){var s=vt;if(s){var r=s;if(!yd(t,s)){if(Ni(t))throw Error(l(418));s=Ns(r.nextSibling);var a=yt;s&&yd(t,s)?hd(a,r):(t.flags=t.flags&-4097|2,_e=!1,yt=t)}}else{if(Ni(t))throw Error(l(418));t.flags=t.flags&-4097|2,_e=!1,yt=t}}}function vd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Ca(t){if(t!==yt)return!1;if(!_e)return vd(t),_e=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!xi(t.type,t.memoizedProps)),s&&(s=vt)){if(Ni(t))throw bd(),Error(l(418));for(;s;)hd(t,s),s=Ns(s.nextSibling)}if(vd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){vt=Ns(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}vt=null}}else vt=yt?Ns(t.stateNode.nextSibling):null;return!0}function bd(){for(var t=vt;t;)t=Ns(t.nextSibling)}function Nr(){vt=yt=null,_e=!1}function wi(t){Lt===null?Lt=[t]:Lt.push(t)}var Hx=O.ReactCurrentBatchConfig;function yn(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(l(309));var a=r.stateNode}if(!a)throw Error(l(147,t));var c=a,d=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===d?s.ref:(s=function(h){var S=c.refs;h===null?delete S[d]:S[d]=h},s._stringRef=d,s)}if(typeof t!="string")throw Error(l(284));if(!r._owner)throw Error(l(290,t))}return t}function Ia(t,s){throw t=Object.prototype.toString.call(s),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Nd(t){var s=t._init;return s(t._payload)}function jd(t){function s(A,I){if(t){var P=A.deletions;P===null?(A.deletions=[I],A.flags|=16):P.push(I)}}function r(A,I){if(!t)return null;for(;I!==null;)s(A,I),I=I.sibling;return null}function a(A,I){for(A=new Map;I!==null;)I.key!==null?A.set(I.key,I):A.set(I.index,I),I=I.sibling;return A}function c(A,I){return A=_s(A,I),A.index=0,A.sibling=null,A}function d(A,I,P){return A.index=P,t?(P=A.alternate,P!==null?(P=P.index,P<I?(A.flags|=2,I):P):(A.flags|=2,I)):(A.flags|=1048576,I)}function h(A){return t&&A.alternate===null&&(A.flags|=2),A}function S(A,I,P,U){return I===null||I.tag!==6?(I=go(P,A.mode,U),I.return=A,I):(I=c(I,P),I.return=A,I)}function C(A,I,P,U){var re=P.type;return re===G?$(A,I,P.props.children,U,P.key):I!==null&&(I.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===qe&&Nd(re)===I.type)?(U=c(I,P.props),U.ref=yn(A,I,P),U.return=A,U):(U=Za(P.type,P.key,P.props,null,A.mode,U),U.ref=yn(A,I,P),U.return=A,U)}function z(A,I,P,U){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=fo(P,A.mode,U),I.return=A,I):(I=c(I,P.children||[]),I.return=A,I)}function $(A,I,P,U,re){return I===null||I.tag!==7?(I=Zs(P,A.mode,U,re),I.return=A,I):(I=c(I,P),I.return=A,I)}function F(A,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return I=go(""+I,A.mode,P),I.return=A,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case q:return P=Za(I.type,I.key,I.props,null,A.mode,P),P.ref=yn(A,null,I),P.return=A,P;case H:return I=fo(I,A.mode,P),I.return=A,I;case qe:var U=I._init;return F(A,U(I._payload),P)}if($s(I)||ae(I))return I=Zs(I,A.mode,P,null),I.return=A,I;Ia(A,I)}return null}function M(A,I,P,U){var re=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return re!==null?null:S(A,I,""+P,U);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===re?C(A,I,P,U):null;case H:return P.key===re?z(A,I,P,U):null;case qe:return re=P._init,M(A,I,re(P._payload),U)}if($s(P)||ae(P))return re!==null?null:$(A,I,P,U,null);Ia(A,P)}return null}function Q(A,I,P,U,re){if(typeof U=="string"&&U!==""||typeof U=="number")return A=A.get(P)||null,S(I,A,""+U,re);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return A=A.get(U.key===null?P:U.key)||null,C(I,A,U,re);case H:return A=A.get(U.key===null?P:U.key)||null,z(I,A,U,re);case qe:var le=U._init;return Q(A,I,P,le(U._payload),re)}if($s(U)||ae(U))return A=A.get(P)||null,$(I,A,U,re,null);Ia(I,U)}return null}function te(A,I,P,U){for(var re=null,le=null,ie=I,oe=I=0,Ye=null;ie!==null&&oe<P.length;oe++){ie.index>oe?(Ye=ie,ie=null):Ye=ie.sibling;var we=M(A,ie,P[oe],U);if(we===null){ie===null&&(ie=Ye);break}t&&ie&&we.alternate===null&&s(A,ie),I=d(we,I,oe),le===null?re=we:le.sibling=we,le=we,ie=Ye}if(oe===P.length)return r(A,ie),_e&&qs(A,oe),re;if(ie===null){for(;oe<P.length;oe++)ie=F(A,P[oe],U),ie!==null&&(I=d(ie,I,oe),le===null?re=ie:le.sibling=ie,le=ie);return _e&&qs(A,oe),re}for(ie=a(A,ie);oe<P.length;oe++)Ye=Q(ie,A,oe,P[oe],U),Ye!==null&&(t&&Ye.alternate!==null&&ie.delete(Ye.key===null?oe:Ye.key),I=d(Ye,I,oe),le===null?re=Ye:le.sibling=Ye,le=Ye);return t&&ie.forEach(function(As){return s(A,As)}),_e&&qs(A,oe),re}function se(A,I,P,U){var re=ae(P);if(typeof re!="function")throw Error(l(150));if(P=re.call(P),P==null)throw Error(l(151));for(var le=re=null,ie=I,oe=I=0,Ye=null,we=P.next();ie!==null&&!we.done;oe++,we=P.next()){ie.index>oe?(Ye=ie,ie=null):Ye=ie.sibling;var As=M(A,ie,we.value,U);if(As===null){ie===null&&(ie=Ye);break}t&&ie&&As.alternate===null&&s(A,ie),I=d(As,I,oe),le===null?re=As:le.sibling=As,le=As,ie=Ye}if(we.done)return r(A,ie),_e&&qs(A,oe),re;if(ie===null){for(;!we.done;oe++,we=P.next())we=F(A,we.value,U),we!==null&&(I=d(we,I,oe),le===null?re=we:le.sibling=we,le=we);return _e&&qs(A,oe),re}for(ie=a(A,ie);!we.done;oe++,we=P.next())we=Q(ie,A,oe,we.value,U),we!==null&&(t&&we.alternate!==null&&ie.delete(we.key===null?oe:we.key),I=d(we,I,oe),le===null?re=we:le.sibling=we,le=we);return t&&ie.forEach(function(kp){return s(A,kp)}),_e&&qs(A,oe),re}function $e(A,I,P,U){if(typeof P=="object"&&P!==null&&P.type===G&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var re=P.key,le=I;le!==null;){if(le.key===re){if(re=P.type,re===G){if(le.tag===7){r(A,le.sibling),I=c(le,P.props.children),I.return=A,A=I;break e}}else if(le.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===qe&&Nd(re)===le.type){r(A,le.sibling),I=c(le,P.props),I.ref=yn(A,le,P),I.return=A,A=I;break e}r(A,le);break}else s(A,le);le=le.sibling}P.type===G?(I=Zs(P.props.children,A.mode,U,P.key),I.return=A,A=I):(U=Za(P.type,P.key,P.props,null,A.mode,U),U.ref=yn(A,I,P),U.return=A,A=U)}return h(A);case H:e:{for(le=P.key;I!==null;){if(I.key===le)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){r(A,I.sibling),I=c(I,P.children||[]),I.return=A,A=I;break e}else{r(A,I);break}else s(A,I);I=I.sibling}I=fo(P,A.mode,U),I.return=A,A=I}return h(A);case qe:return le=P._init,$e(A,I,le(P._payload),U)}if($s(P))return te(A,I,P,U);if(ae(P))return se(A,I,P,U);Ia(A,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,I!==null&&I.tag===6?(r(A,I.sibling),I=c(I,P),I.return=A,A=I):(r(A,I),I=go(P,A.mode,U),I.return=A,A=I),h(A)):r(A,I)}return $e}var jr=jd(!0),wd=jd(!1),Ra=js(null),Da=null,wr=null,ki=null;function Si(){ki=wr=Da=null}function Ei(t){var s=Ra.current;De(Ra),t._currentValue=s}function Ci(t,s,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),t===r)break;t=t.return}}function kr(t,s){Da=t,ki=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(ut=!0),t.firstContext=null)}function Et(t){var s=t._currentValue;if(ki!==t)if(t={context:t,memoizedValue:s,next:null},wr===null){if(Da===null)throw Error(l(308));wr=t,Da.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return s}var Hs=null;function Ii(t){Hs===null?Hs=[t]:Hs.push(t)}function kd(t,s,r,a){var c=s.interleaved;return c===null?(r.next=r,Ii(s)):(r.next=c.next,c.next=r),s.interleaved=r,ns(t,a)}function ns(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ss=!1;function Ri(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function as(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Es(t,s,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Ne&2)!==0){var c=a.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s,ns(t,r)}return c=a.interleaved,c===null?(s.next=s,Ii(a)):(s.next=c.next,c.next=s),a.interleaved=s,ns(t,r)}function Ta(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,Ul(t,r)}}function Ed(t,s){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?c=d=h:d=d.next=h,r=r.next}while(r!==null);d===null?c=d=s:d=d.next=s}else c=d=s;r={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function _a(t,s,r,a){var c=t.updateQueue;Ss=!1;var d=c.firstBaseUpdate,h=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var C=S,z=C.next;C.next=null,h===null?d=z:h.next=z,h=C;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==h&&(S===null?$.firstBaseUpdate=z:S.next=z,$.lastBaseUpdate=C))}if(d!==null){var F=c.baseState;h=0,$=z=C=null,S=d;do{var M=S.lane,Q=S.eventTime;if((a&M)===M){$!==null&&($=$.next={eventTime:Q,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var te=t,se=S;switch(M=s,Q=r,se.tag){case 1:if(te=se.payload,typeof te=="function"){F=te.call(Q,F,M);break e}F=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=se.payload,M=typeof te=="function"?te.call(Q,F,M):te,M==null)break e;F=W({},F,M);break e;case 2:Ss=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,M=c.effects,M===null?c.effects=[S]:M.push(S))}else Q={eventTime:Q,lane:M,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(z=$=Q,C=F):$=$.next=Q,h|=M;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;M=S,S=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);if($===null&&(C=F),c.baseState=C,c.firstBaseUpdate=z,c.lastBaseUpdate=$,s=c.shared.interleaved,s!==null){c=s;do h|=c.lane,c=c.next;while(c!==s)}else d===null&&(c.shared.lanes=0);Ws|=h,t.lanes=h,t.memoizedState=F}}function Cd(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var a=t[s],c=a.callback;if(c!==null){if(a.callback=null,a=r,typeof c!="function")throw Error(l(191,c));c.call(a)}}}var vn={},Gt=js(vn),bn=js(vn),Nn=js(vn);function Ks(t){if(t===vn)throw Error(l(174));return t}function Di(t,s){switch(Ie(Nn,s),Ie(bn,t),Ie(Gt,vn),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:qt(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=qt(s,t)}De(Gt),Ie(Gt,s)}function Sr(){De(Gt),De(bn),De(Nn)}function Id(t){Ks(Nn.current);var s=Ks(Gt.current),r=qt(s,t.type);s!==r&&(Ie(bn,t),Ie(Gt,r))}function Ti(t){bn.current===t&&(De(Gt),De(bn))}var Ae=js(0);function Aa(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _i=[];function Ai(){for(var t=0;t<_i.length;t++)_i[t]._workInProgressVersionPrimary=null;_i.length=0}var Pa=O.ReactCurrentDispatcher,Pi=O.ReactCurrentBatchConfig,Gs=0,Pe=null,He=null,Qe=null,za=!1,jn=!1,wn=0,Kx=0;function st(){throw Error(l(321))}function zi(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!zt(t[r],s[r]))return!1;return!0}function Li(t,s,r,a,c,d){if(Gs=d,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pa.current=t===null||t.memoizedState===null?Jx:Yx,t=r(a,c),jn){d=0;do{if(jn=!1,wn=0,25<=d)throw Error(l(301));d+=1,Qe=He=null,s.updateQueue=null,Pa.current=Zx,t=r(a,c)}while(jn)}if(Pa.current=Ma,s=He!==null&&He.next!==null,Gs=0,Qe=He=Pe=null,za=!1,s)throw Error(l(300));return t}function Oi(){var t=wn!==0;return wn=0,t}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Pe.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Ct(){if(He===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var s=Qe===null?Pe.memoizedState:Qe.next;if(s!==null)Qe=s,He=t;else{if(t===null)throw Error(l(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Qe===null?Pe.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function kn(t,s){return typeof s=="function"?s(t):s}function Mi(t){var s=Ct(),r=s.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var a=He,c=a.baseQueue,d=r.pending;if(d!==null){if(c!==null){var h=c.next;c.next=d.next,d.next=h}a.baseQueue=c=d,r.pending=null}if(c!==null){d=c.next,a=a.baseState;var S=h=null,C=null,z=d;do{var $=z.lane;if((Gs&$)===$)C!==null&&(C=C.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),a=z.hasEagerState?z.eagerState:t(a,z.action);else{var F={lane:$,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};C===null?(S=C=F,h=a):C=C.next=F,Pe.lanes|=$,Ws|=$}z=z.next}while(z!==null&&z!==d);C===null?h=a:C.next=S,zt(a,s.memoizedState)||(ut=!0),s.memoizedState=a,s.baseState=h,s.baseQueue=C,r.lastRenderedState=a}if(t=r.interleaved,t!==null){c=t;do d=c.lane,Pe.lanes|=d,Ws|=d,c=c.next;while(c!==t)}else c===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function $i(t){var s=Ct(),r=s.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var a=r.dispatch,c=r.pending,d=s.memoizedState;if(c!==null){r.pending=null;var h=c=c.next;do d=t(d,h.action),h=h.next;while(h!==c);zt(d,s.memoizedState)||(ut=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),r.lastRenderedState=d}return[d,a]}function Rd(){}function Dd(t,s){var r=Pe,a=Ct(),c=s(),d=!zt(a.memoizedState,c);if(d&&(a.memoizedState=c,ut=!0),a=a.queue,Fi(Ad.bind(null,r,a,t),[t]),a.getSnapshot!==s||d||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,Sn(9,_d.bind(null,r,a,c,s),void 0,null),Je===null)throw Error(l(349));(Gs&30)!==0||Td(r,s,c)}return c}function Td(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Pe.updateQueue,s===null?(s={lastEffect:null,stores:null},Pe.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function _d(t,s,r,a){s.value=r,s.getSnapshot=a,Pd(s)&&zd(t)}function Ad(t,s,r){return r(function(){Pd(s)&&zd(t)})}function Pd(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!zt(t,r)}catch{return!0}}function zd(t){var s=ns(t,1);s!==null&&Ft(s,t,1,-1)}function Ld(t){var s=Wt();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:t},s.queue=t,t=t.dispatch=Qx.bind(null,Pe,t),[s.memoizedState,t]}function Sn(t,s,r,a){return t={tag:t,create:s,destroy:r,deps:a,next:null},s=Pe.updateQueue,s===null?(s={lastEffect:null,stores:null},Pe.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,s.lastEffect=t)),t}function Od(){return Ct().memoizedState}function La(t,s,r,a){var c=Wt();Pe.flags|=t,c.memoizedState=Sn(1|s,r,void 0,a===void 0?null:a)}function Oa(t,s,r,a){var c=Ct();a=a===void 0?null:a;var d=void 0;if(He!==null){var h=He.memoizedState;if(d=h.destroy,a!==null&&zi(a,h.deps)){c.memoizedState=Sn(s,r,d,a);return}}Pe.flags|=t,c.memoizedState=Sn(1|s,r,d,a)}function Md(t,s){return La(8390656,8,t,s)}function Fi(t,s){return Oa(2048,8,t,s)}function $d(t,s){return Oa(4,2,t,s)}function Fd(t,s){return Oa(4,4,t,s)}function Bd(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Vd(t,s,r){return r=r!=null?r.concat([t]):null,Oa(4,4,Bd.bind(null,s,t),r)}function Bi(){}function Ud(t,s){var r=Ct();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&zi(s,a[1])?a[0]:(r.memoizedState=[t,s],t)}function qd(t,s){var r=Ct();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&zi(s,a[1])?a[0]:(t=t(),r.memoizedState=[t,s],t)}function Hd(t,s,r){return(Gs&21)===0?(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=r):(zt(r,s)||(r=Nc(),Pe.lanes|=r,Ws|=r,t.baseState=!0),s)}function Gx(t,s){var r=ke;ke=r!==0&&4>r?r:4,t(!0);var a=Pi.transition;Pi.transition={};try{t(!1),s()}finally{ke=r,Pi.transition=a}}function Kd(){return Ct().memoizedState}function Wx(t,s,r){var a=Ds(t);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Gd(t))Wd(s,r);else if(r=kd(t,s,r,a),r!==null){var c=lt();Ft(r,t,a,c),Qd(r,s,a)}}function Qx(t,s,r){var a=Ds(t),c={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gd(t))Wd(s,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var h=s.lastRenderedState,S=d(h,r);if(c.hasEagerState=!0,c.eagerState=S,zt(S,h)){var C=s.interleaved;C===null?(c.next=c,Ii(s)):(c.next=C.next,C.next=c),s.interleaved=c;return}}catch{}finally{}r=kd(t,s,c,a),r!==null&&(c=lt(),Ft(r,t,a,c),Qd(r,s,a))}}function Gd(t){var s=t.alternate;return t===Pe||s!==null&&s===Pe}function Wd(t,s){jn=za=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Qd(t,s,r){if((r&4194240)!==0){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,Ul(t,r)}}var Ma={readContext:Et,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Jx={readContext:Et,useCallback:function(t,s){return Wt().memoizedState=[t,s===void 0?null:s],t},useContext:Et,useEffect:Md,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,La(4194308,4,Bd.bind(null,s,t),r)},useLayoutEffect:function(t,s){return La(4194308,4,t,s)},useInsertionEffect:function(t,s){return La(4,2,t,s)},useMemo:function(t,s){var r=Wt();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var a=Wt();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},a.queue=t,t=t.dispatch=Wx.bind(null,Pe,t),[a.memoizedState,t]},useRef:function(t){var s=Wt();return t={current:t},s.memoizedState=t},useState:Ld,useDebugValue:Bi,useDeferredValue:function(t){return Wt().memoizedState=t},useTransition:function(){var t=Ld(!1),s=t[0];return t=Gx.bind(null,t[1]),Wt().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var a=Pe,c=Wt();if(_e){if(r===void 0)throw Error(l(407));r=r()}else{if(r=s(),Je===null)throw Error(l(349));(Gs&30)!==0||Td(a,s,r)}c.memoizedState=r;var d={value:r,getSnapshot:s};return c.queue=d,Md(Ad.bind(null,a,d,t),[t]),a.flags|=2048,Sn(9,_d.bind(null,a,d,r,s),void 0,null),r},useId:function(){var t=Wt(),s=Je.identifierPrefix;if(_e){var r=rs,a=ss;r=(a&~(1<<32-Pt(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=wn++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=Kx++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Yx={readContext:Et,useCallback:Ud,useContext:Et,useEffect:Fi,useImperativeHandle:Vd,useInsertionEffect:$d,useLayoutEffect:Fd,useMemo:qd,useReducer:Mi,useRef:Od,useState:function(){return Mi(kn)},useDebugValue:Bi,useDeferredValue:function(t){var s=Ct();return Hd(s,He.memoizedState,t)},useTransition:function(){var t=Mi(kn)[0],s=Ct().memoizedState;return[t,s]},useMutableSource:Rd,useSyncExternalStore:Dd,useId:Kd,unstable_isNewReconciler:!1},Zx={readContext:Et,useCallback:Ud,useContext:Et,useEffect:Fi,useImperativeHandle:Vd,useInsertionEffect:$d,useLayoutEffect:Fd,useMemo:qd,useReducer:$i,useRef:Od,useState:function(){return $i(kn)},useDebugValue:Bi,useDeferredValue:function(t){var s=Ct();return He===null?s.memoizedState=t:Hd(s,He.memoizedState,t)},useTransition:function(){var t=$i(kn)[0],s=Ct().memoizedState;return[t,s]},useMutableSource:Rd,useSyncExternalStore:Dd,useId:Kd,unstable_isNewReconciler:!1};function Ot(t,s){if(t&&t.defaultProps){s=W({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function Vi(t,s,r,a){s=t.memoizedState,r=r(a,s),r=r==null?s:W({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $a={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var a=lt(),c=Ds(t),d=as(a,c);d.payload=s,r!=null&&(d.callback=r),s=Es(t,d,c),s!==null&&(Ft(s,t,c,a),Ta(s,t,c))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var a=lt(),c=Ds(t),d=as(a,c);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=Es(t,d,c),s!==null&&(Ft(s,t,c,a),Ta(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=lt(),a=Ds(t),c=as(r,a);c.tag=2,s!=null&&(c.callback=s),s=Es(t,c,a),s!==null&&(Ft(s,t,a,r),Ta(s,t,a))}};function Jd(t,s,r,a,c,d,h){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,d,h):s.prototype&&s.prototype.isPureReactComponent?!un(r,a)||!un(c,d):!0}function Yd(t,s,r){var a=!1,c=ws,d=s.contextType;return typeof d=="object"&&d!==null?d=Et(d):(c=dt(s)?Vs:tt.current,a=s.contextTypes,d=(a=a!=null)?yr(t,c):ws),s=new s(r,d),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=$a,t.stateNode=s,s._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=d),s}function Zd(t,s,r,a){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==t&&$a.enqueueReplaceState(s,s.state,null)}function Ui(t,s,r,a){var c=t.stateNode;c.props=r,c.state=t.memoizedState,c.refs={},Ri(t);var d=s.contextType;typeof d=="object"&&d!==null?c.context=Et(d):(d=dt(s)?Vs:tt.current,c.context=yr(t,d)),c.state=t.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(Vi(t,s,d,r),c.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(s=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),s!==c.state&&$a.enqueueReplaceState(c,c.state,null),_a(t,r,c,a),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function Er(t,s){try{var r="",a=s;do r+=xe(a),a=a.return;while(a);var c=r}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:s,stack:c,digest:null}}function qi(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function Hi(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var Xx=typeof WeakMap=="function"?WeakMap:Map;function Xd(t,s,r){r=as(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){Ka||(Ka=!0,lo=a),Hi(t,s)},r}function eu(t,s,r){r=as(-1,r),r.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var c=s.value;r.payload=function(){return a(c)},r.callback=function(){Hi(t,s)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){Hi(t,s),typeof a!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var h=s.stack;this.componentDidCatch(s.value,{componentStack:h!==null?h:""})}),r}function tu(t,s,r){var a=t.pingCache;if(a===null){a=t.pingCache=new Xx;var c=new Set;a.set(s,c)}else c=a.get(s),c===void 0&&(c=new Set,a.set(s,c));c.has(r)||(c.add(r),t=xp.bind(null,t,s,r),s.then(t,t))}function su(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function ru(t,s,r,a,c){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=as(-1,1),s.tag=2,Es(r,s,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=c,t)}var ep=O.ReactCurrentOwner,ut=!1;function at(t,s,r,a){s.child=t===null?wd(s,null,r,a):jr(s,t.child,r,a)}function nu(t,s,r,a,c){r=r.render;var d=s.ref;return kr(s,c),a=Li(t,s,r,a,d,c),r=Oi(),t!==null&&!ut?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~c,ls(t,s,c)):(_e&&r&&vi(s),s.flags|=1,at(t,s,a,c),s.child)}function au(t,s,r,a,c){if(t===null){var d=r.type;return typeof d=="function"&&!po(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=d,lu(t,s,d,a,c)):(t=Za(r.type,null,a,s,s.mode,c),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,(t.lanes&c)===0){var h=d.memoizedProps;if(r=r.compare,r=r!==null?r:un,r(h,a)&&t.ref===s.ref)return ls(t,s,c)}return s.flags|=1,t=_s(d,a),t.ref=s.ref,t.return=s,s.child=t}function lu(t,s,r,a,c){if(t!==null){var d=t.memoizedProps;if(un(d,a)&&t.ref===s.ref)if(ut=!1,s.pendingProps=a=d,(t.lanes&c)!==0)(t.flags&131072)!==0&&(ut=!0);else return s.lanes=t.lanes,ls(t,s,c)}return Ki(t,s,r,a,c)}function iu(t,s,r){var a=s.pendingProps,c=a.children,d=t!==null?t.memoizedState:null;if(a.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Ir,bt),bt|=r;else{if((r&1073741824)===0)return t=d!==null?d.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Ie(Ir,bt),bt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:r,Ie(Ir,bt),bt|=a}else d!==null?(a=d.baseLanes|r,s.memoizedState=null):a=r,Ie(Ir,bt),bt|=a;return at(t,s,c,r),s.child}function ou(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Ki(t,s,r,a,c){var d=dt(r)?Vs:tt.current;return d=yr(s,d),kr(s,c),r=Li(t,s,r,a,d,c),a=Oi(),t!==null&&!ut?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~c,ls(t,s,c)):(_e&&a&&vi(s),s.flags|=1,at(t,s,r,c),s.child)}function cu(t,s,r,a,c){if(dt(r)){var d=!0;wa(s)}else d=!1;if(kr(s,c),s.stateNode===null)Ba(t,s),Yd(s,r,a),Ui(s,r,a,c),a=!0;else if(t===null){var h=s.stateNode,S=s.memoizedProps;h.props=S;var C=h.context,z=r.contextType;typeof z=="object"&&z!==null?z=Et(z):(z=dt(r)?Vs:tt.current,z=yr(s,z));var $=r.getDerivedStateFromProps,F=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function";F||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==a||C!==z)&&Zd(s,h,a,z),Ss=!1;var M=s.memoizedState;h.state=M,_a(s,a,h,c),C=s.memoizedState,S!==a||M!==C||ct.current||Ss?(typeof $=="function"&&(Vi(s,r,$,a),C=s.memoizedState),(S=Ss||Jd(s,r,S,a,M,C,z))?(F||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=C),h.props=a,h.state=C,h.context=z,a=S):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{h=s.stateNode,Sd(t,s),S=s.memoizedProps,z=s.type===s.elementType?S:Ot(s.type,S),h.props=z,F=s.pendingProps,M=h.context,C=r.contextType,typeof C=="object"&&C!==null?C=Et(C):(C=dt(r)?Vs:tt.current,C=yr(s,C));var Q=r.getDerivedStateFromProps;($=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==F||M!==C)&&Zd(s,h,a,C),Ss=!1,M=s.memoizedState,h.state=M,_a(s,a,h,c);var te=s.memoizedState;S!==F||M!==te||ct.current||Ss?(typeof Q=="function"&&(Vi(s,r,Q,a),te=s.memoizedState),(z=Ss||Jd(s,r,z,a,M,te,C)||!1)?($||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,te,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,te,C)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===t.memoizedProps&&M===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&M===t.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=te),h.props=a,h.state=te,h.context=C,a=z):(typeof h.componentDidUpdate!="function"||S===t.memoizedProps&&M===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&M===t.memoizedState||(s.flags|=1024),a=!1)}return Gi(t,s,r,a,d,c)}function Gi(t,s,r,a,c,d){ou(t,s);var h=(s.flags&128)!==0;if(!a&&!h)return c&&pd(s,r,!1),ls(t,s,d);a=s.stateNode,ep.current=s;var S=h&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,t!==null&&h?(s.child=jr(s,t.child,null,d),s.child=jr(s,null,S,d)):at(t,s,S,d),s.memoizedState=a.state,c&&pd(s,r,!0),s.child}function du(t){var s=t.stateNode;s.pendingContext?md(t,s.pendingContext,s.pendingContext!==s.context):s.context&&md(t,s.context,!1),Di(t,s.containerInfo)}function uu(t,s,r,a,c){return Nr(),wi(c),s.flags|=256,at(t,s,r,a),s.child}var Wi={dehydrated:null,treeContext:null,retryLane:0};function Qi(t){return{baseLanes:t,cachePool:null,transitions:null}}function mu(t,s,r){var a=s.pendingProps,c=Ae.current,d=!1,h=(s.flags&128)!==0,S;if((S=h)||(S=t!==null&&t.memoizedState===null?!1:(c&2)!==0),S?(d=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),Ie(Ae,c&1),t===null)return ji(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(h=a.children,t=a.fallback,d?(a=s.mode,d=s.child,h={mode:"hidden",children:h},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=Xa(h,a,0,null),t=Zs(t,a,r,null),d.return=s,t.return=s,d.sibling=t,s.child=d,s.child.memoizedState=Qi(r),s.memoizedState=Wi,t):Ji(s,h));if(c=t.memoizedState,c!==null&&(S=c.dehydrated,S!==null))return tp(t,s,h,a,S,c,r);if(d){d=a.fallback,h=s.mode,c=t.child,S=c.sibling;var C={mode:"hidden",children:a.children};return(h&1)===0&&s.child!==c?(a=s.child,a.childLanes=0,a.pendingProps=C,s.deletions=null):(a=_s(c,C),a.subtreeFlags=c.subtreeFlags&14680064),S!==null?d=_s(S,d):(d=Zs(d,h,r,null),d.flags|=2),d.return=s,a.return=s,a.sibling=d,s.child=a,a=d,d=s.child,h=t.child.memoizedState,h=h===null?Qi(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=t.childLanes&~r,s.memoizedState=Wi,a}return d=t.child,t=d.sibling,a=_s(d,{mode:"visible",children:a.children}),(s.mode&1)===0&&(a.lanes=r),a.return=s,a.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=a,s.memoizedState=null,a}function Ji(t,s){return s=Xa({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Fa(t,s,r,a){return a!==null&&wi(a),jr(s,t.child,null,r),t=Ji(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function tp(t,s,r,a,c,d,h){if(r)return s.flags&256?(s.flags&=-257,a=qi(Error(l(422))),Fa(t,s,h,a)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(d=a.fallback,c=s.mode,a=Xa({mode:"visible",children:a.children},c,0,null),d=Zs(d,c,h,null),d.flags|=2,a.return=s,d.return=s,a.sibling=d,s.child=a,(s.mode&1)!==0&&jr(s,t.child,null,h),s.child.memoizedState=Qi(h),s.memoizedState=Wi,d);if((s.mode&1)===0)return Fa(t,s,h,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var S=a.dgst;return a=S,d=Error(l(419)),a=qi(d,a,void 0),Fa(t,s,h,a)}if(S=(h&t.childLanes)!==0,ut||S){if(a=Je,a!==null){switch(h&-h){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|h))!==0?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,ns(t,c),Ft(a,t,c,-1))}return xo(),a=qi(Error(l(421))),Fa(t,s,h,a)}return c.data==="$?"?(s.flags|=128,s.child=t.child,s=pp.bind(null,t),c._reactRetry=s,null):(t=d.treeContext,vt=Ns(c.nextSibling),yt=s,_e=!0,Lt=null,t!==null&&(kt[St++]=ss,kt[St++]=rs,kt[St++]=Us,ss=t.id,rs=t.overflow,Us=s),s=Ji(s,a.children),s.flags|=4096,s)}function xu(t,s,r){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s),Ci(t.return,s,r)}function Yi(t,s,r,a,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:c}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=r,d.tailMode=c)}function pu(t,s,r){var a=s.pendingProps,c=a.revealOrder,d=a.tail;if(at(t,s,a.children,r),a=Ae.current,(a&2)!==0)a=a&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xu(t,r,s);else if(t.tag===19)xu(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Ie(Ae,a),(s.mode&1)===0)s.memoizedState=null;else switch(c){case"forwards":for(r=s.child,c=null;r!==null;)t=r.alternate,t!==null&&Aa(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=s.child,s.child=null):(c=r.sibling,r.sibling=null),Yi(s,!1,c,r,d);break;case"backwards":for(r=null,c=s.child,s.child=null;c!==null;){if(t=c.alternate,t!==null&&Aa(t)===null){s.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Yi(s,!0,r,null,d);break;case"together":Yi(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ba(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function ls(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Ws|=s.lanes,(r&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(l(153));if(s.child!==null){for(t=s.child,r=_s(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=_s(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function sp(t,s,r){switch(s.tag){case 3:du(s),Nr();break;case 5:Id(s);break;case 1:dt(s.type)&&wa(s);break;case 4:Di(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,c=s.memoizedProps.value;Ie(Ra,a._currentValue),a._currentValue=c;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(Ie(Ae,Ae.current&1),s.flags|=128,null):(r&s.child.childLanes)!==0?mu(t,s,r):(Ie(Ae,Ae.current&1),t=ls(t,s,r),t!==null?t.sibling:null);Ie(Ae,Ae.current&1);break;case 19:if(a=(r&s.childLanes)!==0,(t.flags&128)!==0){if(a)return pu(t,s,r);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ie(Ae,Ae.current),a)break;return null;case 22:case 23:return s.lanes=0,iu(t,s,r)}return ls(t,s,r)}var gu,Zi,fu,hu;gu=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Zi=function(){},fu=function(t,s,r,a){var c=t.memoizedProps;if(c!==a){t=s.stateNode,Ks(Gt.current);var d=null;switch(r){case"input":c=Ur(t,c),a=Ur(t,a),d=[];break;case"select":c=W({},c,{value:void 0}),a=W({},a,{value:void 0}),d=[];break;case"textarea":c=Kr(t,c),a=Kr(t,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=ba)}_l(r,a);var h;r=null;for(z in c)if(!a.hasOwnProperty(z)&&c.hasOwnProperty(z)&&c[z]!=null)if(z==="style"){var S=c[z];for(h in S)S.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(u.hasOwnProperty(z)?d||(d=[]):(d=d||[]).push(z,null));for(z in a){var C=a[z];if(S=c!=null?c[z]:void 0,a.hasOwnProperty(z)&&C!==S&&(C!=null||S!=null))if(z==="style")if(S){for(h in S)!S.hasOwnProperty(h)||C&&C.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in C)C.hasOwnProperty(h)&&S[h]!==C[h]&&(r||(r={}),r[h]=C[h])}else r||(d||(d=[]),d.push(z,r)),r=C;else z==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,S=S?S.__html:void 0,C!=null&&S!==C&&(d=d||[]).push(z,C)):z==="children"?typeof C!="string"&&typeof C!="number"||(d=d||[]).push(z,""+C):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(u.hasOwnProperty(z)?(C!=null&&z==="onScroll"&&Re("scroll",t),d||S===C||(d=[])):(d=d||[]).push(z,C))}r&&(d=d||[]).push("style",r);var z=d;(s.updateQueue=z)&&(s.flags|=4)}},hu=function(t,s,r,a){r!==a&&(s.flags|=4)};function En(t,s){if(!_e)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function rt(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(s)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=r,s}function rp(t,s,r){var a=s.pendingProps;switch(bi(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return dt(s.type)&&ja(),rt(s),null;case 3:return a=s.stateNode,Sr(),De(ct),De(tt),Ai(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ca(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Lt!==null&&(co(Lt),Lt=null))),Zi(t,s),rt(s),null;case 5:Ti(s);var c=Ks(Nn.current);if(r=s.type,t!==null&&s.stateNode!=null)fu(t,s,r,a,c),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(l(166));return rt(s),null}if(t=Ks(Gt.current),Ca(s)){a=s.stateNode,r=s.type;var d=s.memoizedProps;switch(a[Kt]=s,a[fn]=d,t=(s.mode&1)!==0,r){case"dialog":Re("cancel",a),Re("close",a);break;case"iframe":case"object":case"embed":Re("load",a);break;case"video":case"audio":for(c=0;c<xn.length;c++)Re(xn[c],a);break;case"source":Re("error",a);break;case"img":case"image":case"link":Re("error",a),Re("load",a);break;case"details":Re("toggle",a);break;case"input":Wn(a,d),Re("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Re("invalid",a);break;case"textarea":Yn(a,d),Re("invalid",a)}_l(r,d),c=null;for(var h in d)if(d.hasOwnProperty(h)){var S=d[h];h==="children"?typeof S=="string"?a.textContent!==S&&(d.suppressHydrationWarning!==!0&&va(a.textContent,S,t),c=["children",S]):typeof S=="number"&&a.textContent!==""+S&&(d.suppressHydrationWarning!==!0&&va(a.textContent,S,t),c=["children",""+S]):u.hasOwnProperty(h)&&S!=null&&h==="onScroll"&&Re("scroll",a)}switch(r){case"input":ar(a),Jn(a,d,!0);break;case"textarea":ar(a),pe(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=ba)}a=c,s.updateQueue=a,a!==null&&(s.flags|=4)}else{h=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=et(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=h.createElement(r,{is:a.is}):(t=h.createElement(r),r==="select"&&(h=t,a.multiple?h.multiple=!0:a.size&&(h.size=a.size))):t=h.createElementNS(t,r),t[Kt]=s,t[fn]=a,gu(t,s,!1,!1),s.stateNode=t;e:{switch(h=Al(r,a),r){case"dialog":Re("cancel",t),Re("close",t),c=a;break;case"iframe":case"object":case"embed":Re("load",t),c=a;break;case"video":case"audio":for(c=0;c<xn.length;c++)Re(xn[c],t);c=a;break;case"source":Re("error",t),c=a;break;case"img":case"image":case"link":Re("error",t),Re("load",t),c=a;break;case"details":Re("toggle",t),c=a;break;case"input":Wn(t,a),c=Ur(t,a),Re("invalid",t);break;case"option":c=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},c=W({},a,{value:void 0}),Re("invalid",t);break;case"textarea":Yn(t,a),c=Kr(t,a),Re("invalid",t);break;default:c=a}_l(r,c),S=c;for(d in S)if(S.hasOwnProperty(d)){var C=S[d];d==="style"?lc(t,C):d==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&nc(t,C)):d==="children"?typeof C=="string"?(r!=="textarea"||C!=="")&&Gr(t,C):typeof C=="number"&&Gr(t,""+C):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?C!=null&&d==="onScroll"&&Re("scroll",t):C!=null&&D(t,d,C,h))}switch(r){case"input":ar(t),Jn(t,a,!1);break;case"textarea":ar(t),pe(t);break;case"option":a.value!=null&&t.setAttribute("value",""+be(a.value));break;case"select":t.multiple=!!a.multiple,d=a.value,d!=null?ps(t,!!a.multiple,d,!1):a.defaultValue!=null&&ps(t,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=ba)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return rt(s),null;case 6:if(t&&s.stateNode!=null)hu(t,s,t.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(l(166));if(r=Ks(Nn.current),Ks(Gt.current),Ca(s)){if(a=s.stateNode,r=s.memoizedProps,a[Kt]=s,(d=a.nodeValue!==r)&&(t=yt,t!==null))switch(t.tag){case 3:va(a.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&va(a.nodeValue,r,(t.mode&1)!==0)}d&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Kt]=s,s.stateNode=a}return rt(s),null;case 13:if(De(Ae),a=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&vt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)bd(),Nr(),s.flags|=98560,d=!1;else if(d=Ca(s),a!==null&&a.dehydrated!==null){if(t===null){if(!d)throw Error(l(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[Kt]=s}else Nr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),d=!1}else Lt!==null&&(co(Lt),Lt=null),d=!0;if(!d)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=r,s):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(Ae.current&1)!==0?Ke===0&&(Ke=3):xo())),s.updateQueue!==null&&(s.flags|=4),rt(s),null);case 4:return Sr(),Zi(t,s),t===null&&pn(s.stateNode.containerInfo),rt(s),null;case 10:return Ei(s.type._context),rt(s),null;case 17:return dt(s.type)&&ja(),rt(s),null;case 19:if(De(Ae),d=s.memoizedState,d===null)return rt(s),null;if(a=(s.flags&128)!==0,h=d.rendering,h===null)if(a)En(d,!1);else{if(Ke!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=Aa(t),h!==null){for(s.flags|=128,En(d,!1),a=h.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)d=r,t=a,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,t=h.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ie(Ae,Ae.current&1|2),s.child}t=t.sibling}d.tail!==null&&Me()>Rr&&(s.flags|=128,a=!0,En(d,!1),s.lanes=4194304)}else{if(!a)if(t=Aa(h),t!==null){if(s.flags|=128,a=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),En(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!_e)return rt(s),null}else 2*Me()-d.renderingStartTime>Rr&&r!==1073741824&&(s.flags|=128,a=!0,En(d,!1),s.lanes=4194304);d.isBackwards?(h.sibling=s.child,s.child=h):(r=d.last,r!==null?r.sibling=h:s.child=h,d.last=h)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Me(),s.sibling=null,r=Ae.current,Ie(Ae,a?r&1|2:r&1),s):(rt(s),null);case 22:case 23:return mo(),a=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(s.flags|=8192),a&&(s.mode&1)!==0?(bt&1073741824)!==0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),null;case 24:return null;case 25:return null}throw Error(l(156,s.tag))}function np(t,s){switch(bi(s),s.tag){case 1:return dt(s.type)&&ja(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Sr(),De(ct),De(tt),Ai(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return Ti(s),null;case 13:if(De(Ae),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(l(340));Nr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return De(Ae),null;case 4:return Sr(),null;case 10:return Ei(s.type._context),null;case 22:case 23:return mo(),null;case 24:return null;default:return null}}var Va=!1,nt=!1,ap=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Cr(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Oe(t,s,a)}else r.current=null}function Xi(t,s,r){try{r()}catch(a){Oe(t,s,a)}}var yu=!1;function lp(t,s){if(ui=oa,t=Jc(),ri(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var h=0,S=-1,C=-1,z=0,$=0,F=t,M=null;t:for(;;){for(var Q;F!==r||c!==0&&F.nodeType!==3||(S=h+c),F!==d||a!==0&&F.nodeType!==3||(C=h+a),F.nodeType===3&&(h+=F.nodeValue.length),(Q=F.firstChild)!==null;)M=F,F=Q;for(;;){if(F===t)break t;if(M===r&&++z===c&&(S=h),M===d&&++$===a&&(C=h),(Q=F.nextSibling)!==null)break;F=M,M=F.parentNode}F=Q}r=S===-1||C===-1?null:{start:S,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(mi={focusedElem:t,selectionRange:r},oa=!1,Z=s;Z!==null;)if(s=Z,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Z=t;else for(;Z!==null;){s=Z;try{var te=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var se=te.memoizedProps,$e=te.memoizedState,A=s.stateNode,I=A.getSnapshotBeforeUpdate(s.elementType===s.type?se:Ot(s.type,se),$e);A.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var P=s.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(U){Oe(s,s.return,U)}if(t=s.sibling,t!==null){t.return=s.return,Z=t;break}Z=s.return}return te=yu,yu=!1,te}function Cn(t,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&t)===t){var d=c.destroy;c.destroy=void 0,d!==void 0&&Xi(s,r,d)}c=c.next}while(c!==a)}}function Ua(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function eo(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function vu(t){var s=t.alternate;s!==null&&(t.alternate=null,vu(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Kt],delete s[fn],delete s[fi],delete s[Vx],delete s[Ux])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bu(t){return t.tag===5||t.tag===3||t.tag===4}function Nu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function to(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=ba));else if(a!==4&&(t=t.child,t!==null))for(to(t,s,r),t=t.sibling;t!==null;)to(t,s,r),t=t.sibling}function so(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(so(t,s,r),t=t.sibling;t!==null;)so(t,s,r),t=t.sibling}var Ze=null,Mt=!1;function Cs(t,s,r){for(r=r.child;r!==null;)ju(t,s,r),r=r.sibling}function ju(t,s,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(sa,r)}catch{}switch(r.tag){case 5:nt||Cr(r,s);case 6:var a=Ze,c=Mt;Ze=null,Cs(t,s,r),Ze=a,Mt=c,Ze!==null&&(Mt?(t=Ze,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ze.removeChild(r.stateNode));break;case 18:Ze!==null&&(Mt?(t=Ze,r=r.stateNode,t.nodeType===8?gi(t.parentNode,r):t.nodeType===1&&gi(t,r),nn(t)):gi(Ze,r.stateNode));break;case 4:a=Ze,c=Mt,Ze=r.stateNode.containerInfo,Mt=!0,Cs(t,s,r),Ze=a,Mt=c;break;case 0:case 11:case 14:case 15:if(!nt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&Xi(r,s,h),c=c.next}while(c!==a)}Cs(t,s,r);break;case 1:if(!nt&&(Cr(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(S){Oe(r,s,S)}Cs(t,s,r);break;case 21:Cs(t,s,r);break;case 22:r.mode&1?(nt=(a=nt)||r.memoizedState!==null,Cs(t,s,r),nt=a):Cs(t,s,r);break;default:Cs(t,s,r)}}function wu(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ap),s.forEach(function(a){var c=gp.bind(null,t,a);r.has(a)||(r.add(a),a.then(c,c))})}}function $t(t,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];try{var d=t,h=s,S=h;e:for(;S!==null;){switch(S.tag){case 5:Ze=S.stateNode,Mt=!1;break e;case 3:Ze=S.stateNode.containerInfo,Mt=!0;break e;case 4:Ze=S.stateNode.containerInfo,Mt=!0;break e}S=S.return}if(Ze===null)throw Error(l(160));ju(d,h,c),Ze=null,Mt=!1;var C=c.alternate;C!==null&&(C.return=null),c.return=null}catch(z){Oe(c,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ku(s,t),s=s.sibling}function ku(t,s){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($t(s,t),Qt(t),a&4){try{Cn(3,t,t.return),Ua(3,t)}catch(se){Oe(t,t.return,se)}try{Cn(5,t,t.return)}catch(se){Oe(t,t.return,se)}}break;case 1:$t(s,t),Qt(t),a&512&&r!==null&&Cr(r,r.return);break;case 5:if($t(s,t),Qt(t),a&512&&r!==null&&Cr(r,r.return),t.flags&32){var c=t.stateNode;try{Gr(c,"")}catch(se){Oe(t,t.return,se)}}if(a&4&&(c=t.stateNode,c!=null)){var d=t.memoizedProps,h=r!==null?r.memoizedProps:d,S=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{S==="input"&&d.type==="radio"&&d.name!=null&&Qn(c,d),Al(S,h);var z=Al(S,d);for(h=0;h<C.length;h+=2){var $=C[h],F=C[h+1];$==="style"?lc(c,F):$==="dangerouslySetInnerHTML"?nc(c,F):$==="children"?Gr(c,F):D(c,$,F,z)}switch(S){case"input":qr(c,d);break;case"textarea":J(c,d);break;case"select":var M=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var Q=d.value;Q!=null?ps(c,!!d.multiple,Q,!1):M!==!!d.multiple&&(d.defaultValue!=null?ps(c,!!d.multiple,d.defaultValue,!0):ps(c,!!d.multiple,d.multiple?[]:"",!1))}c[fn]=d}catch(se){Oe(t,t.return,se)}}break;case 6:if($t(s,t),Qt(t),a&4){if(t.stateNode===null)throw Error(l(162));c=t.stateNode,d=t.memoizedProps;try{c.nodeValue=d}catch(se){Oe(t,t.return,se)}}break;case 3:if($t(s,t),Qt(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{nn(s.containerInfo)}catch(se){Oe(t,t.return,se)}break;case 4:$t(s,t),Qt(t);break;case 13:$t(s,t),Qt(t),c=t.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(ao=Me())),a&4&&wu(t);break;case 22:if($=r!==null&&r.memoizedState!==null,t.mode&1?(nt=(z=nt)||$,$t(s,t),nt=z):$t(s,t),Qt(t),a&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!$&&(t.mode&1)!==0)for(Z=t,$=t.child;$!==null;){for(F=Z=$;Z!==null;){switch(M=Z,Q=M.child,M.tag){case 0:case 11:case 14:case 15:Cn(4,M,M.return);break;case 1:Cr(M,M.return);var te=M.stateNode;if(typeof te.componentWillUnmount=="function"){a=M,r=M.return;try{s=a,te.props=s.memoizedProps,te.state=s.memoizedState,te.componentWillUnmount()}catch(se){Oe(a,r,se)}}break;case 5:Cr(M,M.return);break;case 22:if(M.memoizedState!==null){Cu(F);continue}}Q!==null?(Q.return=M,Z=Q):Cu(F)}$=$.sibling}e:for($=null,F=t;;){if(F.tag===5){if($===null){$=F;try{c=F.stateNode,z?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(S=F.stateNode,C=F.memoizedProps.style,h=C!=null&&C.hasOwnProperty("display")?C.display:null,S.style.display=ac("display",h))}catch(se){Oe(t,t.return,se)}}}else if(F.tag===6){if($===null)try{F.stateNode.nodeValue=z?"":F.memoizedProps}catch(se){Oe(t,t.return,se)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===t)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===t)break e;for(;F.sibling===null;){if(F.return===null||F.return===t)break e;$===F&&($=null),F=F.return}$===F&&($=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:$t(s,t),Qt(t),a&4&&wu(t);break;case 21:break;default:$t(s,t),Qt(t)}}function Qt(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(bu(r)){var a=r;break e}r=r.return}throw Error(l(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Gr(c,""),a.flags&=-33);var d=Nu(t);so(t,d,c);break;case 3:case 4:var h=a.stateNode.containerInfo,S=Nu(t);to(t,S,h);break;default:throw Error(l(161))}}catch(C){Oe(t,t.return,C)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function ip(t,s,r){Z=t,Su(t)}function Su(t,s,r){for(var a=(t.mode&1)!==0;Z!==null;){var c=Z,d=c.child;if(c.tag===22&&a){var h=c.memoizedState!==null||Va;if(!h){var S=c.alternate,C=S!==null&&S.memoizedState!==null||nt;S=Va;var z=nt;if(Va=h,(nt=C)&&!z)for(Z=c;Z!==null;)h=Z,C=h.child,h.tag===22&&h.memoizedState!==null?Iu(c):C!==null?(C.return=h,Z=C):Iu(c);for(;d!==null;)Z=d,Su(d),d=d.sibling;Z=c,Va=S,nt=z}Eu(t)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,Z=d):Eu(t)}}function Eu(t){for(;Z!==null;){var s=Z;if((s.flags&8772)!==0){var r=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:nt||Ua(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!nt)if(r===null)a.componentDidMount();else{var c=s.elementType===s.type?r.memoizedProps:Ot(s.type,r.memoizedProps);a.componentDidUpdate(c,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=s.updateQueue;d!==null&&Cd(s,d,a);break;case 3:var h=s.updateQueue;if(h!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Cd(s,h,r)}break;case 5:var S=s.stateNode;if(r===null&&s.flags&4){r=S;var C=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&r.focus();break;case"img":C.src&&(r.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var $=z.memoizedState;if($!==null){var F=$.dehydrated;F!==null&&nn(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}nt||s.flags&512&&eo(s)}catch(M){Oe(s,s.return,M)}}if(s===t){Z=null;break}if(r=s.sibling,r!==null){r.return=s.return,Z=r;break}Z=s.return}}function Cu(t){for(;Z!==null;){var s=Z;if(s===t){Z=null;break}var r=s.sibling;if(r!==null){r.return=s.return,Z=r;break}Z=s.return}}function Iu(t){for(;Z!==null;){var s=Z;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Ua(4,s)}catch(C){Oe(s,r,C)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var c=s.return;try{a.componentDidMount()}catch(C){Oe(s,c,C)}}var d=s.return;try{eo(s)}catch(C){Oe(s,d,C)}break;case 5:var h=s.return;try{eo(s)}catch(C){Oe(s,h,C)}}}catch(C){Oe(s,s.return,C)}if(s===t){Z=null;break}var S=s.sibling;if(S!==null){S.return=s.return,Z=S;break}Z=s.return}}var op=Math.ceil,qa=O.ReactCurrentDispatcher,ro=O.ReactCurrentOwner,It=O.ReactCurrentBatchConfig,Ne=0,Je=null,Be=null,Xe=0,bt=0,Ir=js(0),Ke=0,In=null,Ws=0,Ha=0,no=0,Rn=null,mt=null,ao=0,Rr=1/0,is=null,Ka=!1,lo=null,Is=null,Ga=!1,Rs=null,Wa=0,Dn=0,io=null,Qa=-1,Ja=0;function lt(){return(Ne&6)!==0?Me():Qa!==-1?Qa:Qa=Me()}function Ds(t){return(t.mode&1)===0?1:(Ne&2)!==0&&Xe!==0?Xe&-Xe:Hx.transition!==null?(Ja===0&&(Ja=Nc()),Ja):(t=ke,t!==0||(t=window.event,t=t===void 0?16:Dc(t.type)),t)}function Ft(t,s,r,a){if(50<Dn)throw Dn=0,io=null,Error(l(185));Xr(t,r,a),((Ne&2)===0||t!==Je)&&(t===Je&&((Ne&2)===0&&(Ha|=r),Ke===4&&Ts(t,Xe)),xt(t,a),r===1&&Ne===0&&(s.mode&1)===0&&(Rr=Me()+500,ka&&ks()))}function xt(t,s){var r=t.callbackNode;H0(t,s);var a=aa(t,t===Je?Xe:0);if(a===0)r!==null&&yc(r),t.callbackNode=null,t.callbackPriority=0;else if(s=a&-a,t.callbackPriority!==s){if(r!=null&&yc(r),s===1)t.tag===0?qx(Du.bind(null,t)):gd(Du.bind(null,t)),Fx(function(){(Ne&6)===0&&ks()}),r=null;else{switch(jc(a)){case 1:r=Fl;break;case 4:r=vc;break;case 16:r=ta;break;case 536870912:r=bc;break;default:r=ta}r=Mu(r,Ru.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function Ru(t,s){if(Qa=-1,Ja=0,(Ne&6)!==0)throw Error(l(327));var r=t.callbackNode;if(Dr()&&t.callbackNode!==r)return null;var a=aa(t,t===Je?Xe:0);if(a===0)return null;if((a&30)!==0||(a&t.expiredLanes)!==0||s)s=Ya(t,a);else{s=a;var c=Ne;Ne|=2;var d=_u();(Je!==t||Xe!==s)&&(is=null,Rr=Me()+500,Js(t,s));do try{up();break}catch(S){Tu(t,S)}while(!0);Si(),qa.current=d,Ne=c,Be!==null?s=0:(Je=null,Xe=0,s=Ke)}if(s!==0){if(s===2&&(c=Bl(t),c!==0&&(a=c,s=oo(t,c))),s===1)throw r=In,Js(t,0),Ts(t,a),xt(t,Me()),r;if(s===6)Ts(t,a);else{if(c=t.current.alternate,(a&30)===0&&!cp(c)&&(s=Ya(t,a),s===2&&(d=Bl(t),d!==0&&(a=d,s=oo(t,d))),s===1))throw r=In,Js(t,0),Ts(t,a),xt(t,Me()),r;switch(t.finishedWork=c,t.finishedLanes=a,s){case 0:case 1:throw Error(l(345));case 2:Ys(t,mt,is);break;case 3:if(Ts(t,a),(a&130023424)===a&&(s=ao+500-Me(),10<s)){if(aa(t,0)!==0)break;if(c=t.suspendedLanes,(c&a)!==a){lt(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=pi(Ys.bind(null,t,mt,is),s);break}Ys(t,mt,is);break;case 4:if(Ts(t,a),(a&4194240)===a)break;for(s=t.eventTimes,c=-1;0<a;){var h=31-Pt(a);d=1<<h,h=s[h],h>c&&(c=h),a&=~d}if(a=c,a=Me()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*op(a/1960))-a,10<a){t.timeoutHandle=pi(Ys.bind(null,t,mt,is),a);break}Ys(t,mt,is);break;case 5:Ys(t,mt,is);break;default:throw Error(l(329))}}}return xt(t,Me()),t.callbackNode===r?Ru.bind(null,t):null}function oo(t,s){var r=Rn;return t.current.memoizedState.isDehydrated&&(Js(t,s).flags|=256),t=Ya(t,s),t!==2&&(s=mt,mt=r,s!==null&&co(s)),t}function co(t){mt===null?mt=t:mt.push.apply(mt,t)}function cp(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var c=r[a],d=c.getSnapshot;c=c.value;try{if(!zt(d(),c))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ts(t,s){for(s&=~no,s&=~Ha,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-Pt(s),a=1<<r;t[r]=-1,s&=~a}}function Du(t){if((Ne&6)!==0)throw Error(l(327));Dr();var s=aa(t,0);if((s&1)===0)return xt(t,Me()),null;var r=Ya(t,s);if(t.tag!==0&&r===2){var a=Bl(t);a!==0&&(s=a,r=oo(t,a))}if(r===1)throw r=In,Js(t,0),Ts(t,s),xt(t,Me()),r;if(r===6)throw Error(l(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Ys(t,mt,is),xt(t,Me()),null}function uo(t,s){var r=Ne;Ne|=1;try{return t(s)}finally{Ne=r,Ne===0&&(Rr=Me()+500,ka&&ks())}}function Qs(t){Rs!==null&&Rs.tag===0&&(Ne&6)===0&&Dr();var s=Ne;Ne|=1;var r=It.transition,a=ke;try{if(It.transition=null,ke=1,t)return t()}finally{ke=a,It.transition=r,Ne=s,(Ne&6)===0&&ks()}}function mo(){bt=Ir.current,De(Ir)}function Js(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$x(r)),Be!==null)for(r=Be.return;r!==null;){var a=r;switch(bi(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ja();break;case 3:Sr(),De(ct),De(tt),Ai();break;case 5:Ti(a);break;case 4:Sr();break;case 13:De(Ae);break;case 19:De(Ae);break;case 10:Ei(a.type._context);break;case 22:case 23:mo()}r=r.return}if(Je=t,Be=t=_s(t.current,null),Xe=bt=s,Ke=0,In=null,no=Ha=Ws=0,mt=Rn=null,Hs!==null){for(s=0;s<Hs.length;s++)if(r=Hs[s],a=r.interleaved,a!==null){r.interleaved=null;var c=a.next,d=r.pending;if(d!==null){var h=d.next;d.next=c,a.next=h}r.pending=a}Hs=null}return t}function Tu(t,s){do{var r=Be;try{if(Si(),Pa.current=Ma,za){for(var a=Pe.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}za=!1}if(Gs=0,Qe=He=Pe=null,jn=!1,wn=0,ro.current=null,r===null||r.return===null){Ke=1,In=s,Be=null;break}e:{var d=t,h=r.return,S=r,C=s;if(s=Xe,S.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var z=C,$=S,F=$.tag;if(($.mode&1)===0&&(F===0||F===11||F===15)){var M=$.alternate;M?($.updateQueue=M.updateQueue,$.memoizedState=M.memoizedState,$.lanes=M.lanes):($.updateQueue=null,$.memoizedState=null)}var Q=su(h);if(Q!==null){Q.flags&=-257,ru(Q,h,S,d,s),Q.mode&1&&tu(d,z,s),s=Q,C=z;var te=s.updateQueue;if(te===null){var se=new Set;se.add(C),s.updateQueue=se}else te.add(C);break e}else{if((s&1)===0){tu(d,z,s),xo();break e}C=Error(l(426))}}else if(_e&&S.mode&1){var $e=su(h);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),ru($e,h,S,d,s),wi(Er(C,S));break e}}d=C=Er(C,S),Ke!==4&&(Ke=2),Rn===null?Rn=[d]:Rn.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,s&=-s,d.lanes|=s;var A=Xd(d,C,s);Ed(d,A);break e;case 1:S=C;var I=d.type,P=d.stateNode;if((d.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Is===null||!Is.has(P)))){d.flags|=65536,s&=-s,d.lanes|=s;var U=eu(d,S,s);Ed(d,U);break e}}d=d.return}while(d!==null)}Pu(r)}catch(re){s=re,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function _u(){var t=qa.current;return qa.current=Ma,t===null?Ma:t}function xo(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Je===null||(Ws&268435455)===0&&(Ha&268435455)===0||Ts(Je,Xe)}function Ya(t,s){var r=Ne;Ne|=2;var a=_u();(Je!==t||Xe!==s)&&(is=null,Js(t,s));do try{dp();break}catch(c){Tu(t,c)}while(!0);if(Si(),Ne=r,qa.current=a,Be!==null)throw Error(l(261));return Je=null,Xe=0,Ke}function dp(){for(;Be!==null;)Au(Be)}function up(){for(;Be!==null&&!L0();)Au(Be)}function Au(t){var s=Ou(t.alternate,t,bt);t.memoizedProps=t.pendingProps,s===null?Pu(t):Be=s,ro.current=null}function Pu(t){var s=t;do{var r=s.alternate;if(t=s.return,(s.flags&32768)===0){if(r=rp(r,s,bt),r!==null){Be=r;return}}else{if(r=np(r,s),r!==null){r.flags&=32767,Be=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,Be=null;return}}if(s=s.sibling,s!==null){Be=s;return}Be=s=t}while(s!==null);Ke===0&&(Ke=5)}function Ys(t,s,r){var a=ke,c=It.transition;try{It.transition=null,ke=1,mp(t,s,r,a)}finally{It.transition=c,ke=a}return null}function mp(t,s,r,a){do Dr();while(Rs!==null);if((Ne&6)!==0)throw Error(l(327));r=t.finishedWork;var c=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(l(177));t.callbackNode=null,t.callbackPriority=0;var d=r.lanes|r.childLanes;if(K0(t,d),t===Je&&(Be=Je=null,Xe=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Ga||(Ga=!0,Mu(ta,function(){return Dr(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=It.transition,It.transition=null;var h=ke;ke=1;var S=Ne;Ne|=4,ro.current=null,lp(t,r),ku(r,t),_x(mi),oa=!!ui,mi=ui=null,t.current=r,ip(r),O0(),Ne=S,ke=h,It.transition=d}else t.current=r;if(Ga&&(Ga=!1,Rs=t,Wa=c),d=t.pendingLanes,d===0&&(Is=null),F0(r.stateNode),xt(t,Me()),s!==null)for(a=t.onRecoverableError,r=0;r<s.length;r++)c=s[r],a(c.value,{componentStack:c.stack,digest:c.digest});if(Ka)throw Ka=!1,t=lo,lo=null,t;return(Wa&1)!==0&&t.tag!==0&&Dr(),d=t.pendingLanes,(d&1)!==0?t===io?Dn++:(Dn=0,io=t):Dn=0,ks(),null}function Dr(){if(Rs!==null){var t=jc(Wa),s=It.transition,r=ke;try{if(It.transition=null,ke=16>t?16:t,Rs===null)var a=!1;else{if(t=Rs,Rs=null,Wa=0,(Ne&6)!==0)throw Error(l(331));var c=Ne;for(Ne|=4,Z=t.current;Z!==null;){var d=Z,h=d.child;if((Z.flags&16)!==0){var S=d.deletions;if(S!==null){for(var C=0;C<S.length;C++){var z=S[C];for(Z=z;Z!==null;){var $=Z;switch($.tag){case 0:case 11:case 15:Cn(8,$,d)}var F=$.child;if(F!==null)F.return=$,Z=F;else for(;Z!==null;){$=Z;var M=$.sibling,Q=$.return;if(vu($),$===z){Z=null;break}if(M!==null){M.return=Q,Z=M;break}Z=Q}}}var te=d.alternate;if(te!==null){var se=te.child;if(se!==null){te.child=null;do{var $e=se.sibling;se.sibling=null,se=$e}while(se!==null)}}Z=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,Z=h;else e:for(;Z!==null;){if(d=Z,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Cn(9,d,d.return)}var A=d.sibling;if(A!==null){A.return=d.return,Z=A;break e}Z=d.return}}var I=t.current;for(Z=I;Z!==null;){h=Z;var P=h.child;if((h.subtreeFlags&2064)!==0&&P!==null)P.return=h,Z=P;else e:for(h=I;Z!==null;){if(S=Z,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Ua(9,S)}}catch(re){Oe(S,S.return,re)}if(S===h){Z=null;break e}var U=S.sibling;if(U!==null){U.return=S.return,Z=U;break e}Z=S.return}}if(Ne=c,ks(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(sa,t)}catch{}a=!0}return a}finally{ke=r,It.transition=s}}return!1}function zu(t,s,r){s=Er(r,s),s=Xd(t,s,1),t=Es(t,s,1),s=lt(),t!==null&&(Xr(t,1,s),xt(t,s))}function Oe(t,s,r){if(t.tag===3)zu(t,t,r);else for(;s!==null;){if(s.tag===3){zu(s,t,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Is===null||!Is.has(a))){t=Er(r,t),t=eu(s,t,1),s=Es(s,t,1),t=lt(),s!==null&&(Xr(s,1,t),xt(s,t));break}}s=s.return}}function xp(t,s,r){var a=t.pingCache;a!==null&&a.delete(s),s=lt(),t.pingedLanes|=t.suspendedLanes&r,Je===t&&(Xe&r)===r&&(Ke===4||Ke===3&&(Xe&130023424)===Xe&&500>Me()-ao?Js(t,0):no|=r),xt(t,s)}function Lu(t,s){s===0&&((t.mode&1)===0?s=1:(s=na,na<<=1,(na&130023424)===0&&(na=4194304)));var r=lt();t=ns(t,s),t!==null&&(Xr(t,s,r),xt(t,r))}function pp(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),Lu(t,r)}function gp(t,s){var r=0;switch(t.tag){case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(l(314))}a!==null&&a.delete(s),Lu(t,r)}var Ou;Ou=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||ct.current)ut=!0;else{if((t.lanes&r)===0&&(s.flags&128)===0)return ut=!1,sp(t,s,r);ut=(t.flags&131072)!==0}else ut=!1,_e&&(s.flags&1048576)!==0&&fd(s,Ea,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;Ba(t,s),t=s.pendingProps;var c=yr(s,tt.current);kr(s,r),c=Li(null,s,a,t,c,r);var d=Oi();return s.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,dt(a)?(d=!0,wa(s)):d=!1,s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ri(s),c.updater=$a,s.stateNode=c,c._reactInternals=s,Ui(s,a,t,r),s=Gi(null,s,a,!0,d,r)):(s.tag=0,_e&&d&&vi(s),at(null,s,c,r),s=s.child),s;case 16:a=s.elementType;e:{switch(Ba(t,s),t=s.pendingProps,c=a._init,a=c(a._payload),s.type=a,c=s.tag=hp(a),t=Ot(a,t),c){case 0:s=Ki(null,s,a,t,r);break e;case 1:s=cu(null,s,a,t,r);break e;case 11:s=nu(null,s,a,t,r);break e;case 14:s=au(null,s,a,Ot(a.type,t),r);break e}throw Error(l(306,a,""))}return s;case 0:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ot(a,c),Ki(t,s,a,c,r);case 1:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ot(a,c),cu(t,s,a,c,r);case 3:e:{if(du(s),t===null)throw Error(l(387));a=s.pendingProps,d=s.memoizedState,c=d.element,Sd(t,s),_a(s,a,null,r);var h=s.memoizedState;if(a=h.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){c=Er(Error(l(423)),s),s=uu(t,s,a,r,c);break e}else if(a!==c){c=Er(Error(l(424)),s),s=uu(t,s,a,r,c);break e}else for(vt=Ns(s.stateNode.containerInfo.firstChild),yt=s,_e=!0,Lt=null,r=wd(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nr(),a===c){s=ls(t,s,r);break e}at(t,s,a,r)}s=s.child}return s;case 5:return Id(s),t===null&&ji(s),a=s.type,c=s.pendingProps,d=t!==null?t.memoizedProps:null,h=c.children,xi(a,c)?h=null:d!==null&&xi(a,d)&&(s.flags|=32),ou(t,s),at(t,s,h,r),s.child;case 6:return t===null&&ji(s),null;case 13:return mu(t,s,r);case 4:return Di(s,s.stateNode.containerInfo),a=s.pendingProps,t===null?s.child=jr(s,null,a,r):at(t,s,a,r),s.child;case 11:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ot(a,c),nu(t,s,a,c,r);case 7:return at(t,s,s.pendingProps,r),s.child;case 8:return at(t,s,s.pendingProps.children,r),s.child;case 12:return at(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,c=s.pendingProps,d=s.memoizedProps,h=c.value,Ie(Ra,a._currentValue),a._currentValue=h,d!==null)if(zt(d.value,h)){if(d.children===c.children&&!ct.current){s=ls(t,s,r);break e}}else for(d=s.child,d!==null&&(d.return=s);d!==null;){var S=d.dependencies;if(S!==null){h=d.child;for(var C=S.firstContext;C!==null;){if(C.context===a){if(d.tag===1){C=as(-1,r&-r),C.tag=2;var z=d.updateQueue;if(z!==null){z=z.shared;var $=z.pending;$===null?C.next=C:(C.next=$.next,$.next=C),z.pending=C}}d.lanes|=r,C=d.alternate,C!==null&&(C.lanes|=r),Ci(d.return,r,s),S.lanes|=r;break}C=C.next}}else if(d.tag===10)h=d.type===s.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(l(341));h.lanes|=r,S=h.alternate,S!==null&&(S.lanes|=r),Ci(h,r,s),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===s){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}at(t,s,c.children,r),s=s.child}return s;case 9:return c=s.type,a=s.pendingProps.children,kr(s,r),c=Et(c),a=a(c),s.flags|=1,at(t,s,a,r),s.child;case 14:return a=s.type,c=Ot(a,s.pendingProps),c=Ot(a.type,c),au(t,s,a,c,r);case 15:return lu(t,s,s.type,s.pendingProps,r);case 17:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ot(a,c),Ba(t,s),s.tag=1,dt(a)?(t=!0,wa(s)):t=!1,kr(s,r),Yd(s,a,c),Ui(s,a,c,r),Gi(null,s,a,!0,t,r);case 19:return pu(t,s,r);case 22:return iu(t,s,r)}throw Error(l(156,s.tag))};function Mu(t,s){return hc(t,s)}function fp(t,s,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(t,s,r,a){return new fp(t,s,r,a)}function po(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hp(t){if(typeof t=="function")return po(t)?1:0;if(t!=null){if(t=t.$$typeof,t===me)return 11;if(t===Le)return 14}return 2}function _s(t,s){var r=t.alternate;return r===null?(r=Rt(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Za(t,s,r,a,c,d){var h=2;if(a=t,typeof t=="function")po(t)&&(h=1);else if(typeof t=="string")h=5;else e:switch(t){case G:return Zs(r.children,c,d,s);case ee:h=8,c|=8;break;case V:return t=Rt(12,r,s,c|2),t.elementType=V,t.lanes=d,t;case ve:return t=Rt(13,r,s,c),t.elementType=ve,t.lanes=d,t;case he:return t=Rt(19,r,s,c),t.elementType=he,t.lanes=d,t;case Ee:return Xa(r,c,d,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:h=10;break e;case ce:h=9;break e;case me:h=11;break e;case Le:h=14;break e;case qe:h=16,a=null;break e}throw Error(l(130,t==null?t:typeof t,""))}return s=Rt(h,r,s,c),s.elementType=t,s.type=a,s.lanes=d,s}function Zs(t,s,r,a){return t=Rt(7,t,a,s),t.lanes=r,t}function Xa(t,s,r,a){return t=Rt(22,t,a,s),t.elementType=Ee,t.lanes=r,t.stateNode={isHidden:!1},t}function go(t,s,r){return t=Rt(6,t,null,s),t.lanes=r,t}function fo(t,s,r){return s=Rt(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function yp(t,s,r,a,c){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function ho(t,s,r,a,c,d,h,S,C){return t=new yp(t,s,r,S,C),s===1?(s=1,d===!0&&(s|=8)):s=0,d=Rt(3,null,null,s),t.current=d,d.stateNode=t,d.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(d),t}function vp(t,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:a==null?null:""+a,children:t,containerInfo:s,implementation:r}}function $u(t){if(!t)return ws;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(l(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(dt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(l(171))}if(t.tag===1){var r=t.type;if(dt(r))return xd(t,r,s)}return s}function Fu(t,s,r,a,c,d,h,S,C){return t=ho(r,a,!0,t,c,d,h,S,C),t.context=$u(null),r=t.current,a=lt(),c=Ds(r),d=as(a,c),d.callback=s??null,Es(r,d,c),t.current.lanes=c,Xr(t,c,a),xt(t,a),t}function el(t,s,r,a){var c=s.current,d=lt(),h=Ds(c);return r=$u(r),s.context===null?s.context=r:s.pendingContext=r,s=as(d,h),s.payload={element:t},a=a===void 0?null:a,a!==null&&(s.callback=a),t=Es(c,s,h),t!==null&&(Ft(t,c,h,d),Ta(t,c,h)),h}function tl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bu(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function yo(t,s){Bu(t,s),(t=t.alternate)&&Bu(t,s)}function bp(){return null}var Vu=typeof reportError=="function"?reportError:function(t){console.error(t)};function vo(t){this._internalRoot=t}sl.prototype.render=vo.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(l(409));el(t,s,null,null)},sl.prototype.unmount=vo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Qs(function(){el(null,t,null,null)}),s[es]=null}};function sl(t){this._internalRoot=t}sl.prototype.unstable_scheduleHydration=function(t){if(t){var s=Sc();t={blockedOn:null,target:t,priority:s};for(var r=0;r<ys.length&&s!==0&&s<ys[r].priority;r++);ys.splice(r,0,t),r===0&&Ic(t)}};function bo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uu(){}function Np(t,s,r,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var z=tl(h);d.call(z)}}var h=Fu(s,a,t,0,null,!1,!1,"",Uu);return t._reactRootContainer=h,t[es]=h.current,pn(t.nodeType===8?t.parentNode:t),Qs(),h}for(;c=t.lastChild;)t.removeChild(c);if(typeof a=="function"){var S=a;a=function(){var z=tl(C);S.call(z)}}var C=ho(t,0,!1,null,null,!1,!1,"",Uu);return t._reactRootContainer=C,t[es]=C.current,pn(t.nodeType===8?t.parentNode:t),Qs(function(){el(s,C,r,a)}),C}function nl(t,s,r,a,c){var d=r._reactRootContainer;if(d){var h=d;if(typeof c=="function"){var S=c;c=function(){var C=tl(h);S.call(C)}}el(s,h,t,c)}else h=Np(r,s,t,c,a);return tl(h)}wc=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=Zr(s.pendingLanes);r!==0&&(Ul(s,r|1),xt(s,Me()),(Ne&6)===0&&(Rr=Me()+500,ks()))}break;case 13:Qs(function(){var a=ns(t,1);if(a!==null){var c=lt();Ft(a,t,1,c)}}),yo(t,1)}},ql=function(t){if(t.tag===13){var s=ns(t,134217728);if(s!==null){var r=lt();Ft(s,t,134217728,r)}yo(t,134217728)}},kc=function(t){if(t.tag===13){var s=Ds(t),r=ns(t,s);if(r!==null){var a=lt();Ft(r,t,s,a)}yo(t,s)}},Sc=function(){return ke},Ec=function(t,s){var r=ke;try{return ke=t,s()}finally{ke=r}},Ll=function(t,s,r){switch(s){case"input":if(qr(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==t&&a.form===t.form){var c=Na(a);if(!c)throw Error(l(90));Gn(a),qr(a,c)}}}break;case"textarea":J(t,r);break;case"select":s=r.value,s!=null&&ps(t,!!r.multiple,s,!1)}},dc=uo,uc=Qs;var jp={usingClientEntryPoint:!1,Events:[hn,fr,Na,oc,cc,uo]},Tn={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wp={bundleType:Tn.bundleType,version:Tn.version,rendererPackageName:Tn.rendererPackageName,rendererConfig:Tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gc(t),t===null?null:t.stateNode},findFiberByHostInstance:Tn.findFiberByHostInstance||bp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{sa=al.inject(wp),Ht=al}catch{}}return pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jp,pt.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bo(s))throw Error(l(200));return vp(t,s,null,r)},pt.createRoot=function(t,s){if(!bo(t))throw Error(l(299));var r=!1,a="",c=Vu;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(c=s.onRecoverableError)),s=ho(t,1,!1,null,null,r,!1,a,c),t[es]=s.current,pn(t.nodeType===8?t.parentNode:t),new vo(s)},pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=gc(s),t=t===null?null:t.stateNode,t},pt.flushSync=function(t){return Qs(t)},pt.hydrate=function(t,s,r){if(!rl(s))throw Error(l(200));return nl(null,t,s,!0,r)},pt.hydrateRoot=function(t,s,r){if(!bo(t))throw Error(l(405));var a=r!=null&&r.hydratedSources||null,c=!1,d="",h=Vu;if(r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),s=Fu(s,null,t,1,r??null,c,!1,d,h),t[es]=s.current,pn(t),a)for(t=0;t<a.length;t++)r=a[t],c=r._getVersion,c=c(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,c]:s.mutableSourceEagerHydrationData.push(r,c);return new sl(s)},pt.render=function(t,s,r){if(!rl(s))throw Error(l(200));return nl(null,t,s,!1,r)},pt.unmountComponentAtNode=function(t){if(!rl(t))throw Error(l(40));return t._reactRootContainer?(Qs(function(){nl(null,null,t,!1,function(){t._reactRootContainer=null,t[es]=null})}),!0):!1},pt.unstable_batchedUpdates=uo,pt.unstable_renderSubtreeIntoContainer=function(t,s,r,a){if(!rl(r))throw Error(l(200));if(t==null||t._reactInternals===void 0)throw Error(l(38));return nl(t,s,r,!1,a)},pt.version="18.3.1-next-f1338f8080-20240426",pt}var Yu;function Tp(){if(Yu)return wo.exports;Yu=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),wo.exports=Dp(),wo.exports}var Zu;function _p(){if(Zu)return ll;Zu=1;var n=Tp();return ll.createRoot=n.createRoot,ll.hydrateRoot=n.hydrateRoot,ll}var Ap=_p();/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xu="popstate";function Pp(n={}){function i(o,u){let{pathname:m,search:x,hash:g}=o.location;return _o("",{pathname:m,search:x,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function l(o,u){return typeof u=="string"?u:Pn(u)}return Lp(i,l,null,n)}function ze(n,i){if(n===!1||n===null||typeof n>"u")throw new Error(i)}function Vt(n,i){if(!n){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function zp(){return Math.random().toString(36).substring(2,10)}function em(n,i){return{usr:n.state,key:n.key,idx:i}}function _o(n,i,l=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof i=="string"?Lr(i):i,state:l,key:i&&i.key||o||zp()}}function Pn({pathname:n="/",search:i="",hash:l=""}){return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function Lr(n){let i={};if(n){let l=n.indexOf("#");l>=0&&(i.hash=n.substring(l),n=n.substring(0,l));let o=n.indexOf("?");o>=0&&(i.search=n.substring(o),n=n.substring(0,o)),n&&(i.pathname=n)}return i}function Lp(n,i,l,o={}){let{window:u=document.defaultView,v5Compat:m=!1}=o,x=u.history,g="POP",p=null,f=y();f==null&&(f=0,x.replaceState({...x.state,idx:f},""));function y(){return(x.state||{idx:null}).idx}function N(){g="POP";let v=y(),E=v==null?null:v-f;f=v,p&&p({action:g,location:R.location,delta:E})}function k(v,E){g="PUSH";let _=_o(R.location,v,E);f=y()+1;let D=em(_,f),O=R.createHref(_);try{x.pushState(D,"",O)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;u.location.assign(O)}m&&p&&p({action:g,location:R.location,delta:1})}function w(v,E){g="REPLACE";let _=_o(R.location,v,E);f=y();let D=em(_,f),O=R.createHref(_);x.replaceState(D,"",O),m&&p&&p({action:g,location:R.location,delta:0})}function b(v){return Op(v)}let R={get action(){return g},get location(){return n(u,x)},listen(v){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(Xu,N),p=v,()=>{u.removeEventListener(Xu,N),p=null}},createHref(v){return i(u,v)},createURL:b,encodeLocation(v){let E=b(v);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:k,replace:w,go(v){return x.go(v)}};return R}function Op(n,i=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),ze(l,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:Pn(n);return o=o.replace(/ $/,"%20"),!i&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function ym(n,i,l="/"){return Mp(n,i,l,!1)}function Mp(n,i,l,o){let u=typeof i=="string"?Lr(i):i,m=ds(u.pathname||"/",l);if(m==null)return null;let x=vm(n);$p(x);let g=null;for(let p=0;g==null&&p<x.length;++p){let f=Jp(m);g=Wp(x[p],f,o)}return g}function vm(n,i=[],l=[],o="",u=!1){let m=(x,g,p=u,f)=>{let y={relativePath:f===void 0?x.path||"":f,caseSensitive:x.caseSensitive===!0,childrenIndex:g,route:x};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(o)&&p)return;ze(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length)}let N=os([o,y.relativePath]),k=l.concat(y);x.children&&x.children.length>0&&(ze(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),vm(x.children,i,k,N,p)),!(x.path==null&&!x.index)&&i.push({path:N,score:Kp(N,x.index),routesMeta:k})};return n.forEach((x,g)=>{var p;if(x.path===""||!((p=x.path)!=null&&p.includes("?")))m(x,g);else for(let f of bm(x.path))m(x,g,!0,f)}),i}function bm(n){let i=n.split("/");if(i.length===0)return[];let[l,...o]=i,u=l.endsWith("?"),m=l.replace(/\?$/,"");if(o.length===0)return u?[m,""]:[m];let x=bm(o.join("/")),g=[];return g.push(...x.map(p=>p===""?m:[m,p].join("/"))),u&&g.push(...x),g.map(p=>n.startsWith("/")&&p===""?"/":p)}function $p(n){n.sort((i,l)=>i.score!==l.score?l.score-i.score:Gp(i.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var Fp=/^:[\w-]+$/,Bp=3,Vp=2,Up=1,qp=10,Hp=-2,tm=n=>n==="*";function Kp(n,i){let l=n.split("/"),o=l.length;return l.some(tm)&&(o+=Hp),i&&(o+=Vp),l.filter(u=>!tm(u)).reduce((u,m)=>u+(Fp.test(m)?Bp:m===""?Up:qp),o)}function Gp(n,i){return n.length===i.length&&n.slice(0,-1).every((o,u)=>o===i[u])?n[n.length-1]-i[i.length-1]:0}function Wp(n,i,l=!1){let{routesMeta:o}=n,u={},m="/",x=[];for(let g=0;g<o.length;++g){let p=o[g],f=g===o.length-1,y=m==="/"?i:i.slice(m.length)||"/",N=pl({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},y),k=p.route;if(!N&&f&&l&&!o[o.length-1].route.index&&(N=pl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!N)return null;Object.assign(u,N.params),x.push({params:u,pathname:os([m,N.pathname]),pathnameBase:eg(os([m,N.pathnameBase])),route:k}),N.pathnameBase!=="/"&&(m=os([m,N.pathnameBase]))}return x}function pl(n,i){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[l,o]=Qp(n.path,n.caseSensitive,n.end),u=i.match(l);if(!u)return null;let m=u[0],x=m.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:o.reduce((f,{paramName:y,isOptional:N},k)=>{if(y==="*"){let b=g[k]||"";x=m.slice(0,m.length-b.length).replace(/(.)\/+$/,"$1")}const w=g[k];return N&&!w?f[y]=void 0:f[y]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:m,pathnameBase:x,pattern:n}}function Qp(n,i=!1,l=!0){Vt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,g,p)=>(o.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(o.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),o]}function Jp(n){try{return n.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Vt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),n}}function ds(n,i){if(i==="/")return n;if(!n.toLowerCase().startsWith(i.toLowerCase()))return null;let l=i.endsWith("/")?i.length-1:i.length,o=n.charAt(l);return o&&o!=="/"?null:n.slice(l)||"/"}var Nm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yp=n=>Nm.test(n);function Zp(n,i="/"){let{pathname:l,search:o="",hash:u=""}=typeof n=="string"?Lr(n):n,m;if(l)if(Yp(l))m=l;else{if(l.includes("//")){let x=l;l=l.replace(/\/\/+/g,"/"),Vt(!1,`Pathnames cannot have embedded double slashes - normalizing ${x} -> ${l}`)}l.startsWith("/")?m=sm(l.substring(1),"/"):m=sm(l,i)}else m=i;return{pathname:m,search:tg(o),hash:sg(u)}}function sm(n,i){let l=i.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?l.length>1&&l.pop():u!=="."&&l.push(u)}),l.length>1?l.join("/"):"/"}function Eo(n,i,l,o){return`Cannot include a '${n}' character in a manually specified \`to.${i}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xp(n){return n.filter((i,l)=>l===0||i.route.path&&i.route.path.length>0)}function jm(n){let i=Xp(n);return i.map((l,o)=>o===i.length-1?l.pathname:l.pathnameBase)}function wm(n,i,l,o=!1){let u;typeof n=="string"?u=Lr(n):(u={...n},ze(!u.pathname||!u.pathname.includes("?"),Eo("?","pathname","search",u)),ze(!u.pathname||!u.pathname.includes("#"),Eo("#","pathname","hash",u)),ze(!u.search||!u.search.includes("#"),Eo("#","search","hash",u)));let m=n===""||u.pathname==="",x=m?"/":u.pathname,g;if(x==null)g=l;else{let N=i.length-1;if(!o&&x.startsWith("..")){let k=x.split("/");for(;k[0]==="..";)k.shift(),N-=1;u.pathname=k.join("/")}g=N>=0?i[N]:"/"}let p=Zp(u,g),f=x&&x!=="/"&&x.endsWith("/"),y=(m||x===".")&&l.endsWith("/");return!p.pathname.endsWith("/")&&(f||y)&&(p.pathname+="/"),p}var os=n=>n.join("/").replace(/\/\/+/g,"/"),eg=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tg=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sg=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,rg=class{constructor(n,i,l,o=!1){this.status=n,this.statusText=i||"",this.internal=o,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function ng(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function ag(n){return n.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var km=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Sm(n,i){let l=n;if(typeof l!="string"||!Nm.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let o=l,u=!1;if(km)try{let m=new URL(window.location.href),x=l.startsWith("//")?new URL(m.protocol+l):new URL(l),g=ds(x.pathname,i);x.origin===m.origin&&g!=null?l=g+x.search+x.hash:u=!0}catch{Vt(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:u,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Em=["POST","PUT","PATCH","DELETE"];new Set(Em);var lg=["GET",...Em];new Set(lg);var Or=j.createContext(null);Or.displayName="DataRouter";var yl=j.createContext(null);yl.displayName="DataRouterState";var ig=j.createContext(!1),Cm=j.createContext({isTransitioning:!1});Cm.displayName="ViewTransition";var og=j.createContext(new Map);og.displayName="Fetchers";var cg=j.createContext(null);cg.displayName="Await";var At=j.createContext(null);At.displayName="Navigation";var Fn=j.createContext(null);Fn.displayName="Location";var Xt=j.createContext({outlet:null,matches:[],isDataRoute:!1});Xt.displayName="Route";var Vo=j.createContext(null);Vo.displayName="RouteError";var Im="REACT_ROUTER_ERROR",dg="REDIRECT",ug="ROUTE_ERROR_RESPONSE";function mg(n){if(n.startsWith(`${Im}:${dg}:{`))try{let i=JSON.parse(n.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function xg(n){if(n.startsWith(`${Im}:${ug}:{`))try{let i=JSON.parse(n.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new rg(i.status,i.statusText,i.data)}catch{}}function pg(n,{relative:i}={}){ze(Bn(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=j.useContext(At),{hash:u,pathname:m,search:x}=Vn(n,{relative:i}),g=m;return l!=="/"&&(g=m==="/"?l:os([l,m])),o.createHref({pathname:g,search:x,hash:u})}function Bn(){return j.useContext(Fn)!=null}function sr(){return ze(Bn(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Fn).location}var Rm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dm(n){j.useContext(At).static||j.useLayoutEffect(n)}function gg(){let{isDataRoute:n}=j.useContext(Xt);return n?Ig():fg()}function fg(){ze(Bn(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(Or),{basename:i,navigator:l}=j.useContext(At),{matches:o}=j.useContext(Xt),{pathname:u}=sr(),m=JSON.stringify(jm(o)),x=j.useRef(!1);return Dm(()=>{x.current=!0}),j.useCallback((p,f={})=>{if(Vt(x.current,Rm),!x.current)return;if(typeof p=="number"){l.go(p);return}let y=wm(p,JSON.parse(m),u,f.relative==="path");n==null&&i!=="/"&&(y.pathname=y.pathname==="/"?i:os([i,y.pathname])),(f.replace?l.replace:l.push)(y,f.state,f)},[i,l,m,u,n])}j.createContext(null);function Tm(){let{matches:n}=j.useContext(Xt),i=n[n.length-1];return i?i.params:{}}function Vn(n,{relative:i}={}){let{matches:l}=j.useContext(Xt),{pathname:o}=sr(),u=JSON.stringify(jm(l));return j.useMemo(()=>wm(n,JSON.parse(u),o,i==="path"),[n,u,o,i])}function hg(n,i){return _m(n,i)}function _m(n,i,l,o,u){var _;ze(Bn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=j.useContext(At),{matches:x}=j.useContext(Xt),g=x[x.length-1],p=g?g.params:{},f=g?g.pathname:"/",y=g?g.pathnameBase:"/",N=g&&g.route;{let D=N&&N.path||"";Pm(f,!N||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let k=sr(),w;if(i){let D=typeof i=="string"?Lr(i):i;ze(y==="/"||((_=D.pathname)==null?void 0:_.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=k;let b=w.pathname||"/",R=b;if(y!=="/"){let D=y.replace(/^\//,"").split("/");R="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let v=ym(n,{pathname:R});Vt(N||v!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Vt(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=jg(v&&v.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:os([y,m.encodeLocation?m.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:os([y,m.encodeLocation?m.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),x,l,o,u);return i&&E?j.createElement(Fn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function yg(){let n=Cg(),i=ng(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),l=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},m={padding:"2px 4px",backgroundColor:o},x=null;return console.error("Error handled by React Router default ErrorBoundary:",n),x=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:m},"ErrorBoundary")," or"," ",j.createElement("code",{style:m},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},i),l?j.createElement("pre",{style:u},l):null,x)}var vg=j.createElement(yg,null),Am=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){this.props.onError?this.props.onError(n,i):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const l=xg(n.digest);l&&(n=l)}let i=n!==void 0?j.createElement(Xt.Provider,{value:this.props.routeContext},j.createElement(Vo.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?j.createElement(bg,{error:n},i):i}};Am.contextType=ig;var Co=new WeakMap;function bg({children:n,error:i}){let{basename:l}=j.useContext(At);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let o=mg(i.digest);if(o){let u=Co.get(i);if(u)throw u;let m=Sm(o.location,l);if(km&&!Co.get(i))if(m.isExternal||o.reloadDocument)window.location.href=m.absoluteURL||m.to;else{const x=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(m.to,{replace:o.replace}));throw Co.set(i,x),x}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${m.absoluteURL||m.to}`})}}return n}function Ng({routeContext:n,match:i,children:l}){let o=j.useContext(Or);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),j.createElement(Xt.Provider,{value:n},l)}function jg(n,i=[],l=null,o=null,u=null){if(n==null){if(!l)return null;if(l.errors)n=l.matches;else if(i.length===0&&!l.initialized&&l.matches.length>0)n=l.matches;else return null}let m=n,x=l==null?void 0:l.errors;if(x!=null){let y=m.findIndex(N=>N.route.id&&(x==null?void 0:x[N.route.id])!==void 0);ze(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),m=m.slice(0,Math.min(m.length,y+1))}let g=!1,p=-1;if(l)for(let y=0;y<m.length;y++){let N=m[y];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(p=y),N.route.id){let{loaderData:k,errors:w}=l,b=N.route.loader&&!k.hasOwnProperty(N.route.id)&&(!w||w[N.route.id]===void 0);if(N.route.lazy||b){g=!0,p>=0?m=m.slice(0,p+1):m=[m[0]];break}}}let f=l&&o?(y,N)=>{var k,w;o(y,{location:l.location,params:((w=(k=l.matches)==null?void 0:k[0])==null?void 0:w.params)??{},unstable_pattern:ag(l.matches),errorInfo:N})}:void 0;return m.reduceRight((y,N,k)=>{let w,b=!1,R=null,v=null;l&&(w=x&&N.route.id?x[N.route.id]:void 0,R=N.route.errorElement||vg,g&&(p<0&&k===0?(Pm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,v=null):p===k&&(b=!0,v=N.route.hydrateFallbackElement||null)));let E=i.concat(m.slice(0,k+1)),_=()=>{let D;return w?D=R:b?D=v:N.route.Component?D=j.createElement(N.route.Component,null):N.route.element?D=N.route.element:D=y,j.createElement(Ng,{match:N,routeContext:{outlet:y,matches:E,isDataRoute:l!=null},children:D})};return l&&(N.route.ErrorBoundary||N.route.errorElement||k===0)?j.createElement(Am,{location:l.location,revalidation:l.revalidation,component:R,error:w,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):_()},null)}function Uo(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wg(n){let i=j.useContext(Or);return ze(i,Uo(n)),i}function kg(n){let i=j.useContext(yl);return ze(i,Uo(n)),i}function Sg(n){let i=j.useContext(Xt);return ze(i,Uo(n)),i}function qo(n){let i=Sg(n),l=i.matches[i.matches.length-1];return ze(l.route.id,`${n} can only be used on routes that contain a unique "id"`),l.route.id}function Eg(){return qo("useRouteId")}function Cg(){var o;let n=j.useContext(Vo),i=kg("useRouteError"),l=qo("useRouteError");return n!==void 0?n:(o=i.errors)==null?void 0:o[l]}function Ig(){let{router:n}=wg("useNavigate"),i=qo("useNavigate"),l=j.useRef(!1);return Dm(()=>{l.current=!0}),j.useCallback(async(u,m={})=>{Vt(l.current,Rm),l.current&&(typeof u=="number"?await n.navigate(u):await n.navigate(u,{fromRouteId:i,...m}))},[n,i])}var rm={};function Pm(n,i,l){!i&&!rm[n]&&(rm[n]=!0,Vt(!1,l))}j.memo(Rg);function Rg({routes:n,future:i,state:l,onError:o}){return _m(n,void 0,l,o,i)}function dl(n){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dg({basename:n="/",children:i=null,location:l,navigationType:o="POP",navigator:u,static:m=!1,unstable_useTransitions:x}){ze(!Bn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=n.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:g,navigator:u,static:m,unstable_useTransitions:x,future:{}}),[g,u,m,x]);typeof l=="string"&&(l=Lr(l));let{pathname:f="/",search:y="",hash:N="",state:k=null,key:w="default"}=l,b=j.useMemo(()=>{let R=ds(f,g);return R==null?null:{location:{pathname:R,search:y,hash:N,state:k,key:w},navigationType:o}},[g,f,y,N,k,w,o]);return Vt(b!=null,`<Router basename="${g}"> is not able to match the URL "${f}${y}${N}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:j.createElement(At.Provider,{value:p},j.createElement(Fn.Provider,{children:i,value:b}))}function Tg({children:n,location:i}){return hg(Ao(n),i)}function Ao(n,i=[]){let l=[];return j.Children.forEach(n,(o,u)=>{if(!j.isValidElement(o))return;let m=[...i,u];if(o.type===j.Fragment){l.push.apply(l,Ao(o.props.children,m));return}ze(o.type===dl,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!o.props.index||!o.props.children,"An index route cannot have child routes.");let x={id:o.props.id||m.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(x.children=Ao(o.props.children,m)),l.push(x)}),l}var ul="get",ml="application/x-www-form-urlencoded";function vl(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function _g(n){return vl(n)&&n.tagName.toLowerCase()==="button"}function Ag(n){return vl(n)&&n.tagName.toLowerCase()==="form"}function Pg(n){return vl(n)&&n.tagName.toLowerCase()==="input"}function zg(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Lg(n,i){return n.button===0&&(!i||i==="_self")&&!zg(n)}var il=null;function Og(){if(il===null)try{new FormData(document.createElement("form"),0),il=!1}catch{il=!0}return il}var Mg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Io(n){return n!=null&&!Mg.has(n)?(Vt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ml}"`),null):n}function $g(n,i){let l,o,u,m,x;if(Ag(n)){let g=n.getAttribute("action");o=g?ds(g,i):null,l=n.getAttribute("method")||ul,u=Io(n.getAttribute("enctype"))||ml,m=new FormData(n)}else if(_g(n)||Pg(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||g.getAttribute("action");if(o=p?ds(p,i):null,l=n.getAttribute("formmethod")||g.getAttribute("method")||ul,u=Io(n.getAttribute("formenctype"))||Io(g.getAttribute("enctype"))||ml,m=new FormData(g,n),!Og()){let{name:f,type:y,value:N}=n;if(y==="image"){let k=f?`${f}.`:"";m.append(`${k}x`,"0"),m.append(`${k}y`,"0")}else f&&m.append(f,N)}}else{if(vl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=ul,o=null,u=ml,x=n}return m&&u==="text/plain"&&(x=m,m=void 0),{action:o,method:l.toLowerCase(),encType:u,formData:m,body:x}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ho(n,i){if(n===!1||n===null||typeof n>"u")throw new Error(i)}function Fg(n,i,l){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o.pathname==="/"?o.pathname=`_root.${l}`:i&&ds(o.pathname,i)==="/"?o.pathname=`${i.replace(/\/$/,"")}/_root.${l}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${l}`,o}async function Bg(n,i){if(n.id in i)return i[n.id];try{let l=await import(n.module);return i[n.id]=l,l}catch(l){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vg(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Ug(n,i,l){let o=await Promise.all(n.map(async u=>{let m=i.routes[u.route.id];if(m){let x=await Bg(m,l);return x.links?x.links():[]}return[]}));return Gg(o.flat(1).filter(Vg).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function nm(n,i,l,o,u,m){let x=(p,f)=>l[f]?p.route.id!==l[f].route.id:!0,g=(p,f)=>{var y;return l[f].pathname!==p.pathname||((y=l[f].route.path)==null?void 0:y.endsWith("*"))&&l[f].params["*"]!==p.params["*"]};return m==="assets"?i.filter((p,f)=>x(p,f)||g(p,f)):m==="data"?i.filter((p,f)=>{var N;let y=o.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(x(p,f)||g(p,f))return!0;if(p.route.shouldRevalidate){let k=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((N=l[0])==null?void 0:N.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function qg(n,i,{includeHydrateFallback:l}={}){return Hg(n.map(o=>{let u=i.routes[o.route.id];if(!u)return[];let m=[u.module];return u.clientActionModule&&(m=m.concat(u.clientActionModule)),u.clientLoaderModule&&(m=m.concat(u.clientLoaderModule)),l&&u.hydrateFallbackModule&&(m=m.concat(u.hydrateFallbackModule)),u.imports&&(m=m.concat(u.imports)),m}).flat(1))}function Hg(n){return[...new Set(n)]}function Kg(n){let i={},l=Object.keys(n).sort();for(let o of l)i[o]=n[o];return i}function Gg(n,i){let l=new Set;return new Set(i),n.reduce((o,u)=>{let m=JSON.stringify(Kg(u));return l.has(m)||(l.add(m),o.push({key:m,link:u})),o},[])}function zm(){let n=j.useContext(Or);return Ho(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Wg(){let n=j.useContext(yl);return Ho(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ko=j.createContext(void 0);Ko.displayName="FrameworkContext";function Lm(){let n=j.useContext(Ko);return Ho(n,"You must render this element inside a <HydratedRouter> element"),n}function Qg(n,i){let l=j.useContext(Ko),[o,u]=j.useState(!1),[m,x]=j.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:f,onMouseLeave:y,onTouchStart:N}=i,k=j.useRef(null);j.useEffect(()=>{if(n==="render"&&x(!0),n==="viewport"){let R=E=>{E.forEach(_=>{x(_.isIntersecting)})},v=new IntersectionObserver(R,{threshold:.5});return k.current&&v.observe(k.current),()=>{v.disconnect()}}},[n]),j.useEffect(()=>{if(o){let R=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout(R)}}},[o]);let w=()=>{u(!0)},b=()=>{u(!1),x(!1)};return l?n!=="intent"?[m,k,{}]:[m,k,{onFocus:An(g,w),onBlur:An(p,b),onMouseEnter:An(f,w),onMouseLeave:An(y,b),onTouchStart:An(N,w)}]:[!1,k,{}]}function An(n,i){return l=>{n&&n(l),l.defaultPrevented||i(l)}}function Jg({page:n,...i}){let{router:l}=zm(),o=j.useMemo(()=>ym(l.routes,n,l.basename),[l.routes,n,l.basename]);return o?j.createElement(Zg,{page:n,matches:o,...i}):null}function Yg(n){let{manifest:i,routeModules:l}=Lm(),[o,u]=j.useState([]);return j.useEffect(()=>{let m=!1;return Ug(n,i,l).then(x=>{m||u(x)}),()=>{m=!0}},[n,i,l]),o}function Zg({page:n,matches:i,...l}){let o=sr(),{manifest:u,routeModules:m}=Lm(),{basename:x}=zm(),{loaderData:g,matches:p}=Wg(),f=j.useMemo(()=>nm(n,i,p,u,o,"data"),[n,i,p,u,o]),y=j.useMemo(()=>nm(n,i,p,u,o,"assets"),[n,i,p,u,o]),N=j.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let b=new Set,R=!1;if(i.forEach(E=>{var D;let _=u.routes[E.route.id];!_||!_.hasLoader||(!f.some(O=>O.route.id===E.route.id)&&E.route.id in g&&((D=m[E.route.id])!=null&&D.shouldRevalidate)||_.hasClientLoader?R=!0:b.add(E.route.id))}),b.size===0)return[];let v=Fg(n,x,"data");return R&&b.size>0&&v.searchParams.set("_routes",i.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[v.pathname+v.search]},[x,g,o,u,f,i,n,m]),k=j.useMemo(()=>qg(y,u),[y,u]),w=Yg(y);return j.createElement(j.Fragment,null,N.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...l})),k.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...l})),w.map(({key:b,link:R})=>j.createElement("link",{key:b,nonce:l.nonce,...R})))}function Xg(...n){return i=>{n.forEach(l=>{typeof l=="function"?l(i):l!=null&&(l.current=i)})}}var ef=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ef&&(window.__reactRouterVersion="7.11.0")}catch{}function tf({basename:n,children:i,unstable_useTransitions:l,window:o}){let u=j.useRef();u.current==null&&(u.current=Pp({window:o,v5Compat:!0}));let m=u.current,[x,g]=j.useState({action:m.action,location:m.location}),p=j.useCallback(f=>{l===!1?g(f):j.startTransition(()=>g(f))},[l]);return j.useLayoutEffect(()=>m.listen(p),[m,p]),j.createElement(Dg,{basename:n,children:i,location:x.location,navigationType:x.action,navigator:m,unstable_useTransitions:l})}var Om=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mm=j.forwardRef(function({onClick:i,discover:l="render",prefetch:o="none",relative:u,reloadDocument:m,replace:x,state:g,target:p,to:f,preventScrollReset:y,viewTransition:N,unstable_defaultShouldRevalidate:k,...w},b){let{basename:R,unstable_useTransitions:v}=j.useContext(At),E=typeof f=="string"&&Om.test(f),_=Sm(f,R);f=_.to;let D=pg(f,{relative:u}),[O,q,H]=Qg(o,w),G=af(f,{replace:x,state:g,target:p,preventScrollReset:y,relative:u,viewTransition:N,unstable_defaultShouldRevalidate:k,unstable_useTransitions:v});function ee(ne){i&&i(ne),ne.defaultPrevented||G(ne)}let V=j.createElement("a",{...w,...H,href:_.absoluteURL||D,onClick:_.isExternal||m?i:ee,ref:Xg(b,q),target:p,"data-discover":!E&&l==="render"?"true":void 0});return O&&!E?j.createElement(j.Fragment,null,V,j.createElement(Jg,{page:D})):V});Mm.displayName="Link";var sf=j.forwardRef(function({"aria-current":i="page",caseSensitive:l=!1,className:o="",end:u=!1,style:m,to:x,viewTransition:g,children:p,...f},y){let N=Vn(x,{relative:f.relative}),k=sr(),w=j.useContext(yl),{navigator:b,basename:R}=j.useContext(At),v=w!=null&&uf(N)&&g===!0,E=b.encodeLocation?b.encodeLocation(N).pathname:N.pathname,_=k.pathname,D=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;l||(_=_.toLowerCase(),D=D?D.toLowerCase():null,E=E.toLowerCase()),D&&R&&(D=ds(D,R)||D);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let q=_===E||!u&&_.startsWith(E)&&_.charAt(O)==="/",H=D!=null&&(D===E||!u&&D.startsWith(E)&&D.charAt(E.length)==="/"),G={isActive:q,isPending:H,isTransitioning:v},ee=q?i:void 0,V;typeof o=="function"?V=o(G):V=[o,q?"active":null,H?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let ne=typeof m=="function"?m(G):m;return j.createElement(Mm,{...f,"aria-current":ee,className:V,ref:y,style:ne,to:x,viewTransition:g},typeof p=="function"?p(G):p)});sf.displayName="NavLink";var rf=j.forwardRef(({discover:n="render",fetcherKey:i,navigate:l,reloadDocument:o,replace:u,state:m,method:x=ul,action:g,onSubmit:p,relative:f,preventScrollReset:y,viewTransition:N,unstable_defaultShouldRevalidate:k,...w},b)=>{let{unstable_useTransitions:R}=j.useContext(At),v=cf(),E=df(g,{relative:f}),_=x.toLowerCase()==="get"?"get":"post",D=typeof g=="string"&&Om.test(g),O=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let H=q.nativeEvent.submitter,G=(H==null?void 0:H.getAttribute("formmethod"))||x,ee=()=>v(H||q.currentTarget,{fetcherKey:i,method:G,navigate:l,replace:u,state:m,relative:f,preventScrollReset:y,viewTransition:N,unstable_defaultShouldRevalidate:k});R&&l!==!1?j.startTransition(()=>ee()):ee()};return j.createElement("form",{ref:b,method:_,action:E,onSubmit:o?p:O,...w,"data-discover":!D&&n==="render"?"true":void 0})});rf.displayName="Form";function nf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $m(n){let i=j.useContext(Or);return ze(i,nf(n)),i}function af(n,{target:i,replace:l,state:o,preventScrollReset:u,relative:m,viewTransition:x,unstable_defaultShouldRevalidate:g,unstable_useTransitions:p}={}){let f=gg(),y=sr(),N=Vn(n,{relative:m});return j.useCallback(k=>{if(Lg(k,i)){k.preventDefault();let w=l!==void 0?l:Pn(y)===Pn(N),b=()=>f(n,{replace:w,state:o,preventScrollReset:u,relative:m,viewTransition:x,unstable_defaultShouldRevalidate:g});p?j.startTransition(()=>b()):b()}},[y,f,N,l,o,i,n,u,m,x,g,p])}var lf=0,of=()=>`__${String(++lf)}__`;function cf(){let{router:n}=$m("useSubmit"),{basename:i}=j.useContext(At),l=Eg(),o=n.fetch,u=n.navigate;return j.useCallback(async(m,x={})=>{let{action:g,method:p,encType:f,formData:y,body:N}=$g(m,i);if(x.navigate===!1){let k=x.fetcherKey||of();await o(k,l,x.action||g,{unstable_defaultShouldRevalidate:x.unstable_defaultShouldRevalidate,preventScrollReset:x.preventScrollReset,formData:y,body:N,formMethod:x.method||p,formEncType:x.encType||f,flushSync:x.flushSync})}else await u(x.action||g,{unstable_defaultShouldRevalidate:x.unstable_defaultShouldRevalidate,preventScrollReset:x.preventScrollReset,formData:y,body:N,formMethod:x.method||p,formEncType:x.encType||f,replace:x.replace,state:x.state,fromRouteId:l,flushSync:x.flushSync,viewTransition:x.viewTransition})},[o,u,i,l])}function df(n,{relative:i}={}){let{basename:l}=j.useContext(At),o=j.useContext(Xt);ze(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),m={...Vn(n||".",{relative:i})},x=sr();if(n==null){m.search=x.search;let g=new URLSearchParams(m.search),p=g.getAll("index");if(p.some(y=>y==="")){g.delete("index"),p.filter(N=>N).forEach(N=>g.append("index",N));let y=g.toString();m.search=y?`?${y}`:""}}return(!n||n===".")&&u.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(m.pathname=m.pathname==="/"?l:os([l,m.pathname])),Pn(m)}function uf(n,{relative:i}={}){let l=j.useContext(Cm);ze(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=$m("useViewTransitionState"),u=Vn(n,{relative:i});if(!l.isTransitioning)return!1;let m=ds(l.currentLocation.pathname,o)||l.currentLocation.pathname,x=ds(l.nextLocation.pathname,o)||l.nextLocation.pathname;return pl(u.pathname,x)!=null||pl(u.pathname,m)!=null}const mf={melodija:{long:{triple:{1:43,2:46,3:52,4:57},double:{1:48,2:51,3:58,4:63},single:{1:65,2:70,3:77,4:87}},short:{triple:{1:46,2:49,3:57,4:61},double:{1:51,2:55,3:63,4:67},single:{1:69,2:74,3:82,4:95}}},sampeteris:{long:{triple:{1:46,2:49,3:56,4:61},double:{1:51,2:55,3:62,4:67},single:{1:69,2:74,3:82,4:94}},short:{triple:{1:49,2:52,3:60,4:64},double:{1:55,2:58,3:67,4:71},single:{1:73,2:80,3:88,4:101}}}},Ro=({careLevel:n,duration:i,roomType:l})=>{var u,m,x;return!n||!i||!l?null:((x=(m=(u=mf["sampeteris"])==null?void 0:u[i])==null?void 0:m[l])==null?void 0:x[n])??null},Fm=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Bm=/^[\+]?[0-9\s\(\)\-\.]{7,20}$/,Vm=n=>{var l,o,u,m;const i={};return(l=n.firstName)!=null&&l.trim()||(i.firstName="Vrds ir obligts"),(o=n.lastName)!=null&&o.trim()||(i.lastName="Uzvrds ir obligts"),(u=n.email)!=null&&u.trim()?Fm.test(n.email.trim())||(i.email="Nedergs e-pasta formts"):i.email="E-pasts ir obligts",(m=n.phone)!=null&&m.trim()?Bm.test(n.phone.trim())||(i.phone="Nedergs tlrua numurs"):i.phone="Telefons ir obligts",i},Um=n=>Object.keys(n).length===0,xf=(n,i)=>{const l=i==null?void 0:i.trim();switch(n){case"firstName":return l?null:"Vrds ir obligts";case"lastName":return l?null:"Uzvrds ir obligts";case"email":return l?Fm.test(l)?null:"Nedergs e-pasta formts":"E-pasts ir obligts";case"phone":return l?Bm.test(l)?null:"Nedergs tlrua numurs":"Telefons ir obligts";default:return null}},Ps=(n,i,l=!1)=>{const o=xf(n,i),u=o===null&&!!(i!=null&&i.trim());return{isValid:u,error:o,showSuccess:l&&u}},pf=n=>{var m,x,g,p,f,y,N,k,w,b,R,v;const i=(n==null?void 0:n.consultation)||{},l=(n==null?void 0:n.survey)||{},o={consultation:[],resident:[],caregiver:[]};return i.careLevel||o.consultation.push({field:"careLevel",label:"Aprpes lmenis"}),i.duration||o.consultation.push({field:"duration",label:"Uzturans tips (ilglaicgs/slaicgs)"}),i.roomType||o.consultation.push({field:"roomType",label:"Istabas tips (vienvietga/divvietga/trsvietga)"}),i.price||o.consultation.push({field:"price",label:"Cena"}),(m=l.firstName)!=null&&m.trim()||o.resident.push({field:"firstName",label:"Vrds"}),(x=l.lastName)!=null&&x.trim()||o.resident.push({field:"lastName",label:"Uzvrds"}),(g=l.personalCode)!=null&&g.trim()||o.resident.push({field:"personalCode",label:"Personas kods"}),(p=l.street)!=null&&p.trim()||o.resident.push({field:"street",label:"Iela"}),(f=l.city)!=null&&f.trim()||o.resident.push({field:"city",label:"Pilsta"}),(y=l.postalCode)!=null&&y.trim()||o.resident.push({field:"postalCode",label:"Pasta indekss"}),l.stayDateFrom||o.resident.push({field:"stayDateFrom",label:"Uzturans skuma datums"}),l.signerScenario==="relative"&&((N=l.clientFirstName)!=null&&N.trim()||o.caregiver.push({field:"clientFirstName",label:"Apgdnieka vrds"}),(k=l.clientLastName)!=null&&k.trim()||o.caregiver.push({field:"clientLastName",label:"Apgdnieka uzvrds"}),(w=l.clientPersonalCode)!=null&&w.trim()||o.caregiver.push({field:"clientPersonalCode",label:"Apgdnieka personas kods"}),(b=l.clientStreet)!=null&&b.trim()||o.caregiver.push({field:"clientStreet",label:"Apgdnieka iela"}),(R=l.clientCity)!=null&&R.trim()||o.caregiver.push({field:"clientCity",label:"Apgdnieka pilsta"}),(v=l.clientPostalCode)!=null&&v.trim()||o.caregiver.push({field:"clientPostalCode",label:"Apgdnieka pasta indekss"})),{isValid:o.consultation.length===0&&o.resident.length===0&&o.caregiver.length===0,missingFields:o}},gf=()=>{const n=new Date().getFullYear(),i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`L-${n}-${i}`},am=()=>{const n=new Date().getFullYear(),i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`A-${n}-${i}`},zn=()=>new Date().toISOString().split("T")[0],Ln=()=>new Date().toLocaleTimeString("lv-LV",{hour:"2-digit",minute:"2-digit"}),ff=n=>({id:gf(),...n,status:"prospect",createdDate:zn(),createdTime:Ln(),source:"manual",assignedTo:"Kristens Blms"}),hf=(n,i)=>({...n,status:"consultation",consultation:i}),lm=n=>({...n,status:"queue",queuedDate:zn(),queuedTime:Ln(),queueOfferSent:!1,queueOfferSentDate:null,queueOfferSentTime:null}),yf=n=>({...n,queueOfferSent:!0,queueOfferSentDate:zn(),queueOfferSentTime:Ln()}),qm=(n,i)=>{const o=i.filter(u=>u.status==="queue").sort((u,m)=>{const x=u.queuedDate||u.createdDate,g=m.queuedDate||m.createdDate;if(x!==g)return x.localeCompare(g);const p=u.queuedTime||u.createdTime||"00:00",f=m.queuedTime||m.createdTime||"00:00";return p.localeCompare(f)}).findIndex(u=>u.id===n.id);return o===-1?0:o+1},Hm=n=>{const i=n.queuedDate||n.createdDate;if(!i)return 0;const l=new Date(i),u=Math.abs(new Date-l);return Math.ceil(u/(1e3*60*60*24))},vf=[{id:"R-001",firstName:"Jnis",lastName:"Brzi",birthDate:"1945-03-15",personalCode:"150345-12345",roomNumber:"205",careLevel:"GIR3",photo:null,allergies:["Penicilns","Aspirns"],vitals:{temperature:36.5,bloodPressure:"120/80",pulse:72,oxygen:98,weight:75.5,bloodSugar:5.8,measuredAt:"2025-01-07T08:30:00"}},{id:"R-002",firstName:"Anna",lastName:"Kalnia",birthDate:"1938-08-22",personalCode:"220838-23456",roomNumber:"103",careLevel:"GIR2",photo:null,allergies:["Ibuprofns"],vitals:{temperature:36.8,bloodPressure:"135/85",pulse:78,oxygen:96,weight:62,bloodSugar:6.2,measuredAt:"2025-01-07T08:15:00"}},{id:"R-003",firstName:"Pteris",lastName:"Ozols",birthDate:"1942-11-05",personalCode:"051142-34567",roomNumber:"312",careLevel:"GIR4",photo:null,allergies:[],vitals:{temperature:36.4,bloodPressure:"128/82",pulse:68,oxygen:97,weight:82.3,bloodSugar:5.4,measuredAt:"2025-01-07T07:45:00"}}],xl=[{id:"P-001",residentId:"R-001",medicationName:"L-Thyroxin Berlin-Chemie 50 mikrogramu tabletes",activeIngredient:"Levothyroxinum natricum",form:"tabletes",prescribedDate:"2022-05-16",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:"07:30",dose:"50.0",unit:"mcg",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:null,conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-002",residentId:"R-001",medicationName:"Somnols 7,5 mg apvalkots tabletes",activeIngredient:"Zopiclonum",form:"tabletes",prescribedDate:"2022-05-16",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:"21:00",dose:"3.75",unit:"mg",enabled:!0}},instructions:"1/2 tab.",conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-003",residentId:"R-001",medicationName:"Nateo D3 vit.cap 4000 SV",activeIngredient:"Cholecalciferolum",form:"kapsulas",prescribedDate:"2022-05-16",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:"12:30",dose:"1.0",unit:"piece",enabled:!0},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:"Pievienot Omega-3; Perfectil.",conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-004",residentId:"R-001",medicationName:"Verospiron 25 mg tabletes",activeIngredient:"Spironolactonum",form:"tabletes",prescribedDate:"2023-03-23",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:"08:30",dose:"25.0",unit:"mg",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:null,conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-005",residentId:"R-001",medicationName:"NovoMix 30 FlexPen",activeIngredient:"Insulinum aspartum",form:"injekcijas",prescribedDate:"2023-07-15",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:"08:30",dose:"8.0",unit:"U",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:"18:00",dose:"6.0",unit:"U",enabled:!0},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:null,conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-006",residentId:"R-001",medicationName:"Paracetamol Accord 500 mg tabletes",activeIngredient:"Paracetamolum",form:"tabletes",prescribedDate:"2023-12-04",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:"pie spm vai ja t>37,5C",conditional:!0,conditionText:"pie spm vai ja t>37,5C",frequency:"as_needed",specificDays:[],status:"active",notes:""},{id:"P-007",residentId:"R-001",medicationName:"Torasemid HEXAL 50 mg tabletes",activeIngredient:"Torasemidum",form:"tabletes",prescribedDate:"2022-05-16",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:"08:00",dose:"50.0",unit:"mg",enabled:!0},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:"1/2 tab. lietot otrdien un sestdien, bet ceturtdien 50mg. No 16.09. pa 50 mg 3x ned.",conditional:!1,conditionText:null,frequency:"specific_days",specificDays:["tuesday","thursday","saturday"],status:"active",notes:""},{id:"P-008",residentId:"R-001",medicationName:"Regulax Picosulphate 7,23 mg/ml pilieni iekgai lietoanai, dums",activeIngredient:"Natrii picosulfas",form:"pilieni",prescribedDate:"2024-03-18",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:"08:30",dose:"5.0",unit:"ml",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:"pa 5 pil 3x ned- pirmd., tred., piektdien.",conditional:!1,conditionText:null,frequency:"specific_days",specificDays:["monday","wednesday","friday"],status:"active",notes:""},{id:"P-009",residentId:"R-001",medicationName:"Olanzapine Accord 5 mg apvalkots tabletes",activeIngredient:"Olanzapinum",form:"tabletes",prescribedDate:"2022-05-16",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:"20:30",dose:"2.5",unit:"mg",enabled:!0}},instructions:"no 15.05.2023. - 2.5mg. No 16.09.2023 5 mg (Korole).No 01.09.2024 pa 2.5 mg uz nakti (Korole)",conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-010",residentId:"R-002",medicationName:"Metformin Accord 500 mg tabletes",activeIngredient:"Metforminum",form:"tabletes",prescribedDate:"2023-01-10",prescribedBy:"Dr. Liepi",validUntil:null,schedule:{morning:{time:"08:00",dose:"500",unit:"mg",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:"18:00",dose:"500",unit:"mg",enabled:!0},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:"Lietot kop ar dienu",conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-011",residentId:"R-002",medicationName:"Lisinopril Actavis 10 mg tabletes",activeIngredient:"Lisinoprilum",form:"tabletes",prescribedDate:"2023-01-10",prescribedBy:"Dr. Liepi",validUntil:null,schedule:{morning:{time:"08:00",dose:"10",unit:"mg",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:null,conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-012",residentId:"R-003",medicationName:"Atorvastatin Teva 20 mg tabletes",activeIngredient:"Atorvastatinum",form:"tabletes",prescribedDate:"2024-06-01",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:"21:00",dose:"20",unit:"mg",enabled:!0}},instructions:null,conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""}],Km=new Date,Dt=Km.toISOString().split("T")[0],Tr=["Msa Ilze","Msa Anna","Gints Fricbergs","Msa Lga"],ol=["Rezidents atteics bez paskaidrojuma","Rezidents gulja","Rezidents nejuts labi","Rezidents atstja telpas"];function bf(n){const i=new Date(Km);return i.setDate(i.getDate()-n),i.toISOString().split("T")[0]}function Nf(n){return new Date(n).getDay()}function Do(n,i){if(n.frequency==="daily")return!0;if(n.frequency==="as_needed")return!1;if(n.frequency==="specific_days"){const l=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o=Nf(i);return n.specificDays.includes(l[o])}return!0}function jf(){const n=[];let i=1;for(let o=13;o>=1;o--){const u=bf(o);xl.filter(m=>m.residentId==="R-001"&&m.status==="active").forEach(m=>{Do(m,u)&&["morning","noon","evening","night"].forEach(x=>{var g;if((g=m.schedule[x])!=null&&g.enabled){const p=Math.random()<.05,f=Tr[Math.floor(Math.random()*Tr.length)];n.push({id:`MA-HIST-${i++}`,prescriptionId:m.id,residentId:"R-001",date:u,timeSlot:x,status:p?"refused":"given",refusalReason:p?ol[Math.floor(Math.random()*ol.length)]:null,administeredBy:f,administeredAt:`${u}T${m.schedule[x].time}:00`,notes:p?"Minsim vlk":""})}})}),xl.filter(m=>m.residentId==="R-002"&&m.status==="active").forEach(m=>{Do(m,u)&&["morning","noon","evening","night"].forEach(x=>{var g;if((g=m.schedule[x])!=null&&g.enabled){const p=Math.random()<.03,f=Tr[Math.floor(Math.random()*Tr.length)];n.push({id:`MA-HIST-${i++}`,prescriptionId:m.id,residentId:"R-002",date:u,timeSlot:x,status:p?"refused":"given",refusalReason:p?ol[Math.floor(Math.random()*ol.length)]:null,administeredBy:f,administeredAt:`${u}T${m.schedule[x].time}:00`,notes:""})}})}),xl.filter(m=>m.residentId==="R-003"&&m.status==="active").forEach(m=>{Do(m,u)&&["morning","noon","evening","night"].forEach(x=>{var g;if((g=m.schedule[x])!=null&&g.enabled){const p=Tr[Math.floor(Math.random()*Tr.length)];n.push({id:`MA-HIST-${i++}`,prescriptionId:m.id,residentId:"R-003",date:u,timeSlot:x,status:"given",refusalReason:null,administeredBy:p,administeredAt:`${u}T${m.schedule[x].time}:00`,notes:""})}})})}const l=[{id:"MA-TODAY-1",prescriptionId:"P-001",residentId:"R-001",date:Dt,timeSlot:"morning",status:"given",refusalReason:null,administeredBy:"Gints Fricbergs",administeredAt:`${Dt}T07:35:00`,notes:""},{id:"MA-TODAY-2",prescriptionId:"P-004",residentId:"R-001",date:Dt,timeSlot:"morning",status:"given",refusalReason:null,administeredBy:"Gints Fricbergs",administeredAt:`${Dt}T08:32:00`,notes:""},{id:"MA-TODAY-3",prescriptionId:"P-005",residentId:"R-001",date:Dt,timeSlot:"morning",status:"given",refusalReason:null,administeredBy:"Gints Fricbergs",administeredAt:`${Dt}T08:35:00`,notes:""},{id:"MA-TODAY-4",prescriptionId:"P-008",residentId:"R-001",date:Dt,timeSlot:"morning",status:"refused",refusalReason:"Rezidents atteics bez paskaidrojuma",administeredBy:"Gints Fricbergs",administeredAt:`${Dt}T08:40:00`,notes:"Minsim vlreiz pusdiens"},{id:"MA-TODAY-5",prescriptionId:"P-010",residentId:"R-002",date:Dt,timeSlot:"morning",status:"given",refusalReason:null,administeredBy:"Msa Anna",administeredAt:`${Dt}T08:05:00`,notes:""},{id:"MA-TODAY-6",prescriptionId:"P-011",residentId:"R-002",date:Dt,timeSlot:"morning",status:"given",refusalReason:null,administeredBy:"Msa Anna",administeredAt:`${Dt}T08:05:00`,notes:""}];return[...n,...l]}const wf=jf();let To=null;function kf(){if(!To)try{To=require("./inventoryScheduler").processAdministrationEvent}catch{console.log("[PrescriptionHelpers] Inventory scheduler not loaded")}return To}const Po="adorable-prescription-residents",On="adorable-prescriptions",gl="adorable-administration-logs";function Go(){localStorage.getItem(Po)||localStorage.setItem(Po,JSON.stringify(vf)),localStorage.getItem(On)||localStorage.setItem(On,JSON.stringify(xl)),localStorage.getItem(gl)||localStorage.setItem(gl,JSON.stringify(wf))}function Gm(n){const i=Date.now().toString(36),l=Math.random().toString(36).substr(2,5);return`${n}-${i}-${l}`.toUpperCase()}function Wm(){Go();const n=localStorage.getItem(Po);return n?JSON.parse(n):[]}function Un(){Go();const n=localStorage.getItem(On);return n?JSON.parse(n):[]}function Sf(n){return Un().filter(l=>l.residentId===n)}function zo(n){return Sf(n).filter(l=>l.status==="active")}function Ef(n){return Un().find(l=>l.id===n)||null}function Cf(n){const i=Un(),l={id:Gm("P"),residentId:n.residentId,medicationName:n.medicationName||"",activeIngredient:n.activeIngredient||"",form:n.form||"tabletes",prescribedDate:n.prescribedDate||new Date().toISOString().split("T")[0],prescribedBy:n.prescribedBy||"",validUntil:n.validUntil||null,schedule:n.schedule||{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:n.instructions||null,conditional:n.conditional||!1,conditionText:n.conditionText||null,frequency:n.frequency||"daily",specificDays:n.specificDays||[],status:"active",notes:n.notes||"",createdAt:new Date().toISOString()};return i.push(l),localStorage.setItem(On,JSON.stringify(i)),l}function If(n,i){const l=Un(),o=l.findIndex(u=>u.id===n);return o!==-1?(l[o]={...l[o],...i,updatedAt:new Date().toISOString()},localStorage.setItem(On,JSON.stringify(l)),l[o]):null}function bl(){Go();const n=localStorage.getItem(gl);return n?JSON.parse(n):[]}function Rf(n){const i=bl(),l=new Date().toISOString().split("T")[0],o=i.findIndex(m=>m.prescriptionId===n.prescriptionId&&m.date===(n.date||l)&&m.timeSlot===n.timeSlot),u={id:o!==-1?i[o].id:Gm("MA"),prescriptionId:n.prescriptionId,residentId:n.residentId,date:n.date||l,timeSlot:n.timeSlot,status:n.status,refusalReason:n.refusalReason||null,administeredBy:n.administeredBy||"Sistma",administeredAt:new Date().toISOString(),notes:n.notes||""};return o!==-1?i[o]=u:i.push(u),localStorage.setItem(gl,JSON.stringify(i)),u}function Df(n,i,l,o,u,m=""){const x=Rf({prescriptionId:n,residentId:i,timeSlot:l,status:"refused",refusalReason:o,administeredBy:u,notes:m}),g=kf();if(g)try{g(x)}catch(p){console.warn("[PrescriptionHelpers] Inventory restoration failed:",p)}return x}function Qm(n,i=null){const l=i||new Date().toISOString().split("T")[0],o=Ef(n),u=bl().filter(x=>x.prescriptionId===n&&x.date===l);if(!o)return null;const m={};return Object.keys(o.schedule).forEach(x=>{var g;if((g=o.schedule[x])!=null&&g.enabled){const p=u.find(f=>f.timeSlot===x);m[x]=p?p.status:"pending"}}),m}function Tf(n=new Date){const i=new Date(n),l=i.getDay(),o=l===0?-6:1-l,u=new Date(i);u.setDate(i.getDate()+o);const m=[];for(let x=0;x<7;x++){const g=new Date(u);g.setDate(u.getDate()+x),m.push(g.toISOString().split("T")[0])}return m}const _f=["P","O","T","C","Pk","S","Sv"];function Af(n,i,l){var y;const o=new Date().toISOString().split("T")[0],u=new Date(i),m=new Date(o);if(n.frequency==="specific_days"&&((y=n.specificDays)==null?void 0:y.length)>0){const N=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],k=u.getDay();if(!n.specificDays.includes(N[k]))return"not_scheduled"}const x=["morning","noon","evening","night"].filter(N=>{var k;return(k=n.schedule[N])==null?void 0:k.enabled});if(x.length===0)return"not_scheduled";if(u>m)return"future";const g=l.filter(N=>N.prescriptionId===n.id&&N.date===i);let p=0,f=0;return x.forEach(N=>{const k=g.find(w=>w.timeSlot===N);(k==null?void 0:k.status)==="given"?p++:(k==null?void 0:k.status)==="refused"&&f++}),f>0?"refused":p===x.length?"complete":p>0?"partial":"pending"}function Pf(n,i={}){const{dateFrom:l,dateTo:o,status:u,medicationId:m,searchQuery:x}=i;let g=bl().filter(k=>k.residentId===n);l&&(g=g.filter(k=>k.date>=l)),o&&(g=g.filter(k=>k.date<=o)),u&&u!=="all"&&(g=g.filter(k=>k.status===u)),m&&(g=g.filter(k=>k.prescriptionId===m));const p=Un(),f=g.map(k=>{var b,R;const w=p.find(v=>v.id===k.prescriptionId);return{...k,medicationName:(w==null?void 0:w.medicationName)||"Nezinms medikaments",dose:((b=w==null?void 0:w.schedule[k.timeSlot])==null?void 0:b.dose)||"",unit:((R=w==null?void 0:w.schedule[k.timeSlot])==null?void 0:R.unit)||""}});let y=f;if(x&&x.trim()){const k=x.toLowerCase();y=f.filter(w=>w.medicationName.toLowerCase().includes(k))}const N={morning:0,noon:1,evening:2,night:3};return y.sort((k,w)=>{const b=w.date.localeCompare(k.date);return b!==0?b:N[k.timeSlot]-N[w.timeSlot]}),y}function zf(n){const i=new Date,l=i.toISOString().split("T")[0];switch(n){case"7days":{const o=new Date(i);return o.setDate(o.getDate()-7),{dateFrom:o.toISOString().split("T")[0],dateTo:l}}case"30days":{const o=new Date(i);return o.setDate(o.getDate()-30),{dateFrom:o.toISOString().split("T")[0],dateTo:l}}case"90days":{const o=new Date(i);return o.setDate(o.getDate()-90),{dateFrom:o.toISOString().split("T")[0],dateTo:l}}default:return{dateFrom:null,dateTo:l}}}const B={FORM:"form",LEAD_VIEW:"lead-view",CONSULTATION:"consultation",WAITING:"waiting",SURVEY:"survey",OFFER_CUSTOMER:"offer-customer",OFFER_REVIEW:"offer-review",AGREEMENT:"agreement",QUEUE:"queue",QUEUE_LIST:"queue-list",LIST:"list",RESIDENT_LIST:"resident-list",RESIDENT_PRESCRIPTIONS:"resident-prescriptions",PRESCRIPTION_PRINT:"prescription-print",INVENTORY_DASHBOARD:"inventory-dashboard",RESIDENT_INVENTORY_LIST:"resident-inventory-list",RESIDENT_INVENTORY:"resident-inventory",INVENTORY_REPORTS:"inventory-reports",ROOM_MANAGEMENT:"room-management",BED_BOOKING:"bed-booking",RESIDENT_LIST_PROFILE:"resident-list-profile",RESIDENT_PROFILE:"resident-profile"},ye={PROSPECT:"prospect",CONSULTATION:"consultation",SURVEY_FILLED:"survey_filled",AGREEMENT:"agreement",QUEUE:"queue",CANCELLED:"cancelled"},Lf=(n,i)=>{const[l,o]=j.useState(()=>{try{const u=window.localStorage.getItem(n);return u?JSON.parse(u):i}catch(u){return console.error(`Error reading localStorage key "${n}":`,u),i}});return j.useEffect(()=>{try{window.localStorage.setItem(n,JSON.stringify(l))}catch(u){console.error(`Error setting localStorage key "${n}":`,u)}},[n,l]),[l,o]},Wo=()=>{const[n,i]=Lf("adorable-leads",[]);return{leads:n,addLead:g=>{i(p=>{const f=p.findIndex(y=>y.id===g.id);if(f>=0){const y=[...p];return y[f]=g,y}return[...p,g]})},updateLead:(g,p)=>{i(f=>f.map(y=>y.id===g?{...y,...p}:y))},removeLead:g=>{i(p=>p.filter(f=>f.id!==g))},clearLeads:()=>{i([])},getLeadById:g=>n.find(p=>p.id===g)}};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jm=(...n)=>n.filter((i,l,o)=>!!i&&i.trim()!==""&&o.indexOf(i)===l).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=j.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:u="",children:m,iconNode:x,...g},p)=>j.createElement("svg",{ref:p,...Mf,width:i,height:i,stroke:n,strokeWidth:o?Number(l)*24/Number(i):l,className:Jm("lucide",u),...g},[...x.map(([f,y])=>j.createElement(f,y)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(n,i)=>{const l=j.forwardRef(({className:o,...u},m)=>j.createElement($f,{ref:m,iconNode:i,className:Jm(`lucide-${Of(n)}`,o),...u}));return l.displayName=`${n}`,l};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=Y("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Y("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Y("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Y("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Y("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Y("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=Y("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Y("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=Y("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Y("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Y("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Y("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Y("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Y("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Y("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Y("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Y("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Y("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Y("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Y("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=Y("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Y("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Y("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Y("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Y("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Y("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Y("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Y("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Y("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Y("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=Y("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Y("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Y("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Y("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Y("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Y("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Y("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Y("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Y("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Y("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Y("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=Y("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Y("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),oh=({size:n="default"})=>{const i={small:"h-8",default:"h-10",large:"h-12"};return e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:"/adorable-prototype/logo.png",alt:"Adorable",className:i[n],style:{height:"40px",width:"auto"}})})},ch=({onNavigate:n,currentView:i,isCustomerView:l=!1})=>{const[o,u]=j.useState(null),[m,x]=j.useState(!1),g=j.useRef(null);j.useEffect(()=>{const v=E=>{g.current&&!g.current.contains(E.target)&&u(null)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const p=v=>{n(v),x(!1)},f=[{id:"dashboard",label:"Dashboard",icon:cs,disabled:!0},{id:"rezidenti",label:"Rezidenti",icon:wt,dropdown:[{id:"all-residents",label:"Visi rezidenti",view:"resident-list"},{id:"ordinacijas",label:"Ordincijas plns",view:"prescriptions"}]},{id:"pieteikumi",label:"Pieteikumi",icon:t0,dropdown:[{id:"new-leads",label:"Jauni pieteikumi",view:"all-leads"},{id:"queue",label:"Rinda",view:"queue"}]},{id:"noliktava",label:"Noliktava",icon:nr,dropdown:[{id:"bulk-inventory",label:"Liel noliktava",view:"bulk-inventory"},{id:"resident-inventory",label:"Rezidentu noliktavas",view:"resident-inventory"},{id:"inventory-reports",label:"Atskaites",view:"inventory-reports"}]},{id:"grupas",label:"Grupas paskumi",icon:ah,disabled:!0},{id:"gultu-fonds",label:"Gultu fonds",icon:Yt,view:"room-management"},{id:"medicina",label:"Medicna",icon:s0,disabled:!0},{id:"atjauninasanas",label:"Atjauninanas urnls",icon:Zt,disabled:!0}],y=v=>{v.disabled||(v.dropdown?u(o===v.id?null:v.id):v.view&&(n(v.view),u(null)))},N=v=>{n(v.view),u(null)},k=i==="all-leads"||i==="queue",w=i==="prescriptions"||i==="resident-list"||i==="resident-profile",b=i==="bulk-inventory"||i==="resident-inventory"||i==="inventory-reports",R=i==="room-management";return e.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:[e.jsx("div",{className:"px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between h-14",children:[e.jsx("div",{className:"mr-6",children:e.jsx(oh,{})}),e.jsx("nav",{className:"hidden md:flex items-center gap-1",ref:g,children:f.map(v=>{const E=v.icon,_=v.id==="pieteikumi"&&k||v.id==="rezidenti"&&w||v.id==="noliktava"&&b||v.id==="gultu-fonds"&&R,D=o===v.id;return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>y(v),disabled:v.disabled,className:`
                      flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors
                      ${_?"text-orange-600 bg-orange-50 border-b-2 border-orange-500":v.disabled?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                    `,children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{children:v.label}),v.dropdown&&e.jsx(Mn,{className:`w-3 h-3 transition-transform ${D?"rotate-180":""}`})]}),v.dropdown&&D&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:v.dropdown.map(O=>e.jsx("button",{onClick:()=>N(O),className:`
                            w-full text-left px-4 py-2 text-sm transition-colors
                            ${i===O.view?"bg-orange-50 text-orange-600 font-medium":"text-gray-700 hover:bg-gray-50"}
                          `,children:O.label},O.id))})]},v.id)})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-lg border border-gray-200 bg-gray-50",children:[e.jsx("div",{className:`w-6 h-6 rounded-full text-white flex items-center justify-center text-xs font-bold ${l?"bg-blue-500":"bg-orange-500"}`,children:l?"C":"A"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:l?"Client":"Admin"}),e.jsx(Mn,{className:"w-3 h-3 text-gray-400"})]}),e.jsx("div",{className:`sm:hidden w-8 h-8 rounded-full text-white flex items-center justify-center text-xs font-bold ${l?"bg-blue-500":"bg-orange-500"}`,children:l?"C":"A"}),e.jsx("button",{onClick:()=>x(!m),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:m?e.jsx(Ge,{className:"w-6 h-6 text-gray-600"}):e.jsx(Jf,{className:"w-6 h-6 text-gray-600"})})]})]})}),m&&e.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:e.jsx("nav",{className:"px-4 py-3 space-y-1",children:f.map(v=>{const E=v.icon;return v.dropdown?e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:v.label}),v.dropdown.map(_=>e.jsxs("button",{onClick:()=>p(_.view),className:`
                          w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                          ${i===_.view?"text-orange-600 bg-orange-50":"text-gray-700 hover:bg-gray-50"}
                        `,children:[e.jsx(E,{className:"w-5 h-5"}),_.label]},_.id))]},v.id):v.view?e.jsxs("button",{onClick:()=>p(v.view),className:`
                      w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                      ${i===v.view?"text-orange-600 bg-orange-50":"text-gray-700 hover:bg-gray-50"}
                    `,children:[e.jsx(E,{className:"w-5 h-5"}),v.label]},v.id):e.jsxs("button",{disabled:v.disabled,className:`
                    w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                    ${v.disabled?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}
                  `,children:[e.jsx(E,{className:"w-5 h-5"}),v.label,v.disabled&&e.jsx("span",{className:"ml-auto text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:"Drzum"})]},v.id)})})})]})},Ue=({children:n,maxWidth:i="max-w-6xl"})=>e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 pb-20",children:e.jsx("div",{className:`${i} mx-auto`,children:n})}),Ls=({onClick:n,label:i="Atpaka"})=>e.jsxs("button",{onClick:n,className:"mb-4 flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium",children:[e.jsx(rr,{className:"w-4 h-4"}),i]}),xs=({variant:n="blue",title:i,children:l,icon:o="info"})=>{const u={blue:{container:"bg-blue-50 border-blue-200",icon:"text-blue-600",title:"text-blue-900",content:"text-blue-700",subtitle:"text-blue-600"},yellow:{container:"bg-yellow-50 border-yellow-200",icon:"text-yellow-600",title:"text-yellow-900",content:"text-yellow-700",subtitle:"text-yellow-600"},orange:{container:"bg-orange-50 border-orange-200",icon:"text-orange-600",title:"text-orange-900",content:"text-orange-700",subtitle:"text-orange-600"},green:{container:"bg-green-50 border-green-200",icon:"text-green-600",title:"text-green-900",content:"text-green-700",subtitle:"text-green-600"}},m={info:Ut,phone:ms,clock:_t},x=u[n],g=m[o];return e.jsxs("div",{className:`${x.container} border rounded-lg p-4 flex gap-3`,children:[e.jsx(g,{className:`w-5 h-5 ${x.icon} flex-shrink-0 mt-0.5`}),e.jsxs("div",{className:"text-sm",children:[i&&e.jsx("p",{className:`font-medium mb-1 ${x.title}`,children:i}),e.jsx("div",{className:x.content,children:l})]})]})},Bt=({label:n,name:i,type:l="text",value:o,onChange:u,onBlur:m,error:x,showSuccess:g,required:p=!1,placeholder:f,icon:y,className:N=""})=>{const[k,w]=j.useState(!1),b=E=>{w(!0),m==null||m(E)},R=k&&x,v=k&&g&&!x;return e.jsxs("div",{className:N,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n," ",p&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[y&&e.jsx(y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:l,name:i,value:o,onChange:u,onBlur:b,className:`w-full ${y?"pl-9":"pl-3"} ${v?"pr-9":"pr-3"} py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${R?"border-red-300":v?"border-green-300":"border-gray-300"}`,placeholder:f}),v&&e.jsx(Fe,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-green-500"})]}),R&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x})]})},dh=({leadData:n,errors:i,onChange:l,onSubmit:o,onBack:u})=>{const m=(x,g)=>{l({...n,[x]:g})};return e.jsxs(Ue,{maxWidth:"max-w-2xl",children:[e.jsx(Ls,{onClick:u}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(n0,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Jauns pieteikums"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pievienojiet pamatinformciju par potencilo rezidentu"})]})]})}),e.jsxs("form",{onSubmit:o,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Kontaktinformcija"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Bt,{label:"Vrds",name:"firstName",value:n.firstName,onChange:x=>m("firstName",x.target.value),error:i.firstName,showSuccess:Ps("firstName",n.firstName,!0).showSuccess,required:!0,placeholder:"Anna"}),e.jsx(Bt,{label:"Uzvrds",name:"lastName",value:n.lastName,onChange:x=>m("lastName",x.target.value),error:i.lastName,showSuccess:Ps("lastName",n.lastName,!0).showSuccess,required:!0,placeholder:"Brzia"}),e.jsx(Bt,{label:"E-pasts",name:"email",type:"email",value:n.email,onChange:x=>m("email",x.target.value),error:i.email,showSuccess:Ps("email",n.email,!0).showSuccess,required:!0,placeholder:"anna@example.com",icon:gt}),e.jsx(Bt,{label:"Telefons",name:"phone",type:"tel",value:n.phone,onChange:x=>m("phone",x.target.value),error:i.phone,showSuccess:Ps("phone",n.phone,!0).showSuccess,required:!0,placeholder:"+371 20000000",icon:ms}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Komentrs"}),e.jsx("textarea",{value:n.comment,onChange:x=>m("comment",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"Papildu informcija vai vlmes..."})]})]})]}),e.jsxs(xs,{variant:"blue",title:"Datu avoti",children:[e.jsx("p",{children:" Telefona saruna   E-pasts   Socilie tkli"}),e.jsx("p",{className:"text-xs mt-2 text-blue-600",children:"Pc saglabanas varsiet pievienot detaliztku informciju konsultcijas laik."})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{type:"submit",className:"px-6 py-2.5 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center gap-2",children:["Saglabt potencilo klientu",e.jsx(er,{className:"w-4 h-4"})]})})]})]})},_r=({firstName:n,lastName:i,size:l="md"})=>{const o={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 sm:w-14 sm:h-14 text-base sm:text-lg",xl:"w-12 h-12 sm:w-16 sm:h-16 text-lg sm:text-xl"},u=`${(n==null?void 0:n[0])||""}${(i==null?void 0:i[0])||""}`;return e.jsx("div",{className:`${o[l]} bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center text-white font-semibold`,children:u})},hl=({status:n,showIcon:i=!0})=>{const o={[ye.PROSPECT]:{label:"Jauns pieteikums",shortLabel:"Pieteikums",className:"bg-orange-100 text-orange-700 border-orange-200",icon:_t},[ye.CONSULTATION]:{label:"Konsultcija pabeigta",shortLabel:"Konsultcija",className:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:Fe},[ye.SURVEY_FILLED]:{label:"Anketa aizpildta",shortLabel:"Anketa",className:"bg-purple-100 text-purple-700 border-purple-200",icon:Zt},[ye.AGREEMENT]:{label:"Lgums",shortLabel:"Lgums",className:"bg-green-100 text-green-700 border-green-200",icon:Zt},[ye.QUEUE]:{label:"Rind",shortLabel:"Rind",className:"bg-blue-100 text-blue-700 border-blue-200",icon:tr},[ye.CANCELLED]:{label:"Atcelts",shortLabel:"Atcelts",className:"bg-gray-100 text-gray-700 border-gray-300",icon:Nt}}[n];if(!o)return null;const u=o.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${o.className}`,children:[i&&e.jsx(u,{className:"w-3 h-3"}),o.shortLabel]})},qn=({currentStatus:n})=>{const i={completed:!0,active:!1},l={completed:["consultation","survey_filled","agreement","queue"].includes(n),active:n==="prospect"},o={completed:["survey_filled","agreement","queue"].includes(n),active:n==="consultation"},u={completed:!1,active:["survey_filled","agreement","queue"].includes(n)},m=N=>N.completed?"bg-green-500 text-white":N.active?"bg-orange-500 text-white ring-4 ring-orange-100":"bg-gray-200 text-gray-400",x=N=>N.completed?"text-green-600":N.active?"text-orange-600":"text-gray-400",g=N=>N.completed?"bg-green-500":"bg-gray-200",p=()=>u.active||n==="agreement"||n==="queue"?4:o.active?3:l.active?2:1,f=N=>["Pieteikums","Konsultcija","Anketa","Lgums"][N-1],y=p();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sm:hidden bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[y,". ",f(y)]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[y," / 4"]})]}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(N=>e.jsx("div",{className:`h-2 flex-1 rounded-full ${N<y?"bg-green-500":N===y?"bg-orange-500":"bg-gray-200"}`},N))})]}),e.jsx("div",{className:"hidden sm:block bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${m(i)}`,children:e.jsx(Fe,{className:"w-6 h-6"})}),e.jsx("p",{className:`text-sm font-medium mt-2 ${x(i)}`,children:"Pieteikums"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Saglabts"})]}),e.jsx("div",{className:`flex-1 h-1 mx-1 -mt-6 ${g(i)}`}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${m(l)}`,children:l.completed?e.jsx(Fe,{className:"w-6 h-6"}):e.jsx(e0,{className:"w-5 h-5"})}),e.jsx("p",{className:`text-sm font-medium mt-2 ${x(l)}`,children:"Konsultcija"}),e.jsx("p",{className:"text-xs text-gray-500",children:l.completed?"Pabeigta":l.active?"Aktva":"-"})]}),e.jsx("div",{className:`flex-1 h-1 mx-1 -mt-6 ${g(l)}`}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${m(o)}`,children:o.completed?e.jsx(Fe,{className:"w-6 h-6"}):e.jsx(Qo,{className:"w-5 h-5"})}),e.jsx("p",{className:`text-sm font-medium mt-2 ${x(o)}`,children:"Anketa"}),e.jsx("p",{className:"text-xs text-gray-500",children:o.completed?"Aizpildta":o.active?"Gaida":"-"})]}),e.jsx("div",{className:`flex-1 h-1 mx-1 -mt-6 ${g(o)}`}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${m(u)}`,children:e.jsx(Zt,{className:"w-5 h-5"})}),e.jsx("p",{className:`text-sm font-medium mt-2 ${x(u)}`,children:"Lgums"}),e.jsx("p",{className:"text-xs text-gray-500",children:n==="agreement"?"Parakstts":n==="queue"?"Rind":u.active?"Gaida":"-"})]})]})})]})},uh=({lead:n,onSave:i,onClose:l})=>{const[o,u]=j.useState({firstName:n.firstName||"",lastName:n.lastName||"",email:n.email||"",phone:n.phone||"",comment:n.comment||""}),[m,x]=j.useState({}),g=(f,y)=>{u(N=>({...N,[f]:y})),m[f]&&x(N=>{const k={...N};return delete k[f],k})},p=f=>{f.preventDefault();const y=Vm(o);x(y),Um(y)&&(i(o),l())};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Redit kontaktinformciju"}),e.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ge,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:p,className:"p-4 space-y-4",children:[e.jsx(Bt,{label:"Vrds",name:"firstName",value:o.firstName,onChange:f=>g("firstName",f.target.value),error:m.firstName,showSuccess:Ps("firstName",o.firstName,!0).showSuccess,required:!0,placeholder:"Anna"}),e.jsx(Bt,{label:"Uzvrds",name:"lastName",value:o.lastName,onChange:f=>g("lastName",f.target.value),error:m.lastName,showSuccess:Ps("lastName",o.lastName,!0).showSuccess,required:!0,placeholder:"Brzia"}),e.jsx(Bt,{label:"E-pasts",name:"email",type:"email",value:o.email,onChange:f=>g("email",f.target.value),error:m.email,showSuccess:Ps("email",o.email,!0).showSuccess,required:!0,placeholder:"anna@example.com",icon:gt}),e.jsx(Bt,{label:"Telefons",name:"phone",type:"tel",value:o.phone,onChange:f=>g("phone",f.target.value),error:m.phone,showSuccess:Ps("phone",o.phone,!0).showSuccess,required:!0,placeholder:"+371 20000000",icon:ms}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Komentrs"}),e.jsx("textarea",{value:o.comment,onChange:f=>g("comment",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"Papildu informcija vai vlmes..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:l,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(kl,{className:"w-4 h-4"}),"Saglabt"]})]})]})]})})},Br=({lead:n,onConfirm:i,onClose:l})=>{const[o,u]=j.useState(""),[m,x]=j.useState(""),g=[{value:"no-availability",label:"Nav vietu"},{value:"price-too-high",label:"Cena prk augsta"},{value:"location",label:"Nepiemrota atraans vieta"},{value:"found-alternative",label:"Atrada citu iestdi"},{value:"changed-mind",label:"Prdomja lmumu"},{value:"no-response",label:"Nav atbildes no klienta"},{value:"other",label:"Cits iemesls"}],p=f=>{f.preventDefault(),o&&i({reason:o,notes:m,cancelledDate:new Date().toISOString().split("T")[0]})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(Nt,{className:"w-5 h-5 text-red-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Atcelt pieteikumu"})]}),e.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ge,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:p,className:"p-4 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pieteikums"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[n.firstName," ",n.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:n.id})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Atcelanas iemesls ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:o,onChange:f=>u(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",required:!0,children:[e.jsx("option",{value:"",children:"Izvlieties iemeslu..."}),g.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Papildu piezmes"}),e.jsx("textarea",{value:m,onChange:f=>x(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",rows:3,placeholder:"Piem., skka informcija par atcelanas iemeslu..."})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"Uzmanbu:"})," Atceltus pieteikumus var skatt tikai atceot filtru. o darbbu nevar atcelt."]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:l,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsxs("button",{type:"submit",disabled:!o,className:`flex-1 px-4 py-2 rounded-lg font-medium flex items-center justify-center gap-2 ${o?"bg-red-600 text-white hover:bg-red-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(Nt,{className:"w-4 h-4"}),"Apstiprint atcelanu"]})]})]})]})})},mh=({savedLead:n,onBack:i,onStartConsultation:l,onUpdate:o,onCancelLead:u})=>{const[m,x]=j.useState(!1),[g,p]=j.useState(!1),f=y=>{o(y)};return e.jsxs(Ue,{children:[e.jsx(Ls,{onClick:i}),e.jsx(qn,{currentStatus:n.status}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 pb-4 border-b border-gray-100",children:[e.jsx(_r,{firstName:n.firstName,lastName:n.lastName,size:"xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[n.firstName," ",n.lastName]}),e.jsx(hl,{status:n.status})]}),e.jsx("button",{onClick:()=>x(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Redit kontaktinformciju",children:e.jsx(jl,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"py-4 space-y-3",children:[e.jsxs("a",{href:`mailto:${n.email}`,className:"flex items-center gap-3 text-gray-700 hover:text-orange-600 transition-colors",children:[e.jsx(gt,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-base",children:n.email})]}),e.jsxs("a",{href:`tel:${n.phone}`,className:"flex items-center gap-3 text-gray-700 hover:text-orange-600 transition-colors",children:[e.jsx(ms,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-base",children:n.phone})]})]}),n.comment&&e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Komentrs"}),e.jsxs("p",{className:"text-gray-700 italic",children:['"',n.comment,'"']})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(xs,{variant:"blue",title:"Automtiskie datu avoti",children:[e.jsx("p",{children:" Mjaslapas forma   Pansionati.info   Citi portli"}),e.jsx("p",{className:"text-xs mt-2 text-blue-600",children:"Strukturtie dati no rjiem avotiem tiek automtiski importti eit."})]})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx(xs,{variant:"orange",title:"Konsultcija kltien vai telefoniski",icon:"phone",children:e.jsx("p",{children:"Uzskot konsultciju, js sazinsieties ar klientu, lai noskaidrotu potencil rezidenta veselbas stvokli, aprpes vajadzbas un vlmes."})}),e.jsxs("button",{onClick:l,className:"mt-4 w-full px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(e0,{className:"w-5 h-5"}),"Skt konsultciju"]}),e.jsxs("button",{onClick:()=>p(!0),className:"mt-3 w-full px-6 py-2.5 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(Nt,{className:"w-4 h-4"}),"Atcelt pieteikumu"]})]})]}),e.jsxs("div",{className:"text-xs text-gray-400 flex flex-wrap items-center justify-center sm:justify-between gap-x-4 gap-y-1 px-2",children:[e.jsxs("span",{children:["ID: ",n.id]}),e.jsxs("span",{children:["Pievienoja: ",n.assignedTo]}),e.jsxs("span",{children:[n.createdDate," ",n.createdTime]})]}),m&&e.jsx(uh,{lead:n,onSave:f,onClose:()=>x(!1)}),g&&e.jsx(Br,{lead:n,onConfirm:u,onClose:()=>p(!1)})]})},xh=({savedLead:n,consultation:i,price:l,allSelected:o,onConsultationChange:u,onSave:m,onBack:x})=>{const g=(p,f)=>{u({...i,[p]:f})};return e.jsxs(Ue,{children:[e.jsx(Ls,{onClick:x}),e.jsx(qn,{currentStatus:n.status}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_r,{firstName:n.firstName,lastName:n.lastName,size:"md"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[n.firstName," ",n.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[n.email,"  ",n.phone]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Konsultcijas rezultti"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(Nl,{className:"w-4 h-4"}),e.jsx("span",{children:"Adoro ampteris"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Anketas aizpildanas veids"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${i.fillScenario==="in-person"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"fillScenario",value:"in-person",checked:i.fillScenario==="in-person",onChange:p=>g("fillScenario",p.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Klients apmeklja iestdi"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Anketu aizpildu uzreiz pc konsultcijas"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${i.fillScenario==="remote"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"fillScenario",value:"remote",checked:i.fillScenario==="remote",onChange:p=>g("fillScenario",p.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Sazia pa tlruni/e-pastu"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Nostu e-pastu ar anketu klientam"})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Aprpes lmenis"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[1,2,3,4].map(p=>e.jsx("button",{type:"button",onClick:()=>g("careLevel",p.toString()),className:`p-3 rounded-lg border-2 transition-all ${i.careLevel===p.toString()?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:`text-lg font-bold ${i.careLevel===p.toString()?"text-orange-500":"text-gray-700"}`,children:[p,". lmenis"]})},p))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Uzturans ilgums"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>g("duration","long"),className:`p-4 rounded-lg border-2 transition-all text-left ${i.duration==="long"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Mr,{className:`w-5 h-5 mb-1 ${i.duration==="long"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Ilglaicga"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ilgk par 3 mneiem"})]}),e.jsxs("button",{type:"button",onClick:()=>g("duration","short"),className:`p-4 rounded-lg border-2 transition-all text-left ${i.duration==="short"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(_t,{className:`w-5 h-5 mb-1 ${i.duration==="short"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"slaicga"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ldz 3 mneiem"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Istabas veids"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>g("roomType","single"),className:`p-4 rounded-lg border-2 transition-all text-left ${i.roomType==="single"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Yt,{className:`w-5 h-5 mb-1 ${i.roomType==="single"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Vienvietga istaba"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Privta istaba"})]}),e.jsxs("button",{type:"button",onClick:()=>g("roomType","double"),className:`p-4 rounded-lg border-2 transition-all text-left ${i.roomType==="double"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(wt,{className:`w-5 h-5 mb-1 ${i.roomType==="double"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Divvietga istaba"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Dalta istaba"})]}),e.jsxs("button",{type:"button",onClick:()=>g("roomType","triple"),className:`p-4 rounded-lg border-2 transition-all text-left ${i.roomType==="triple"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(wt,{className:`w-5 h-5 mb-1 ${i.roomType==="triple"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Trsvietga istaba"}),e.jsx("div",{className:"text-xs text-gray-500",children:"3 gultas"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Iekjs piezmes"}),e.jsx("textarea",{value:i.notes,onChange:p=>g("notes",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"Piem., diabts, nepiecieama paldzba prvietojoties, alerijas, paas vlmes..."}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Pierakstiet svargu informciju no sarunas, kas nav iekauta augstk."}),e.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.hasDementia||!1,onChange:p=>g("hasDementia",p.target.checked),className:"mt-1 w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"Residents ir demence"}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Nepiecieama paa istaba ar papildu drobas paskumiem"})]})]})})]}),l&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Aprint cena"}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[i.careLevel,". lmenis ",i.duration==="long"?" Ilglaicga":" slaicga"," ",i.roomType==="single"&&" Vienvietga",i.roomType==="double"&&" Divvietga",i.roomType==="triple"&&" Trsvietga",i.hasDementia&&"  Demence"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-3xl font-bold text-green-700",children:[l," "]}),e.jsx("p",{className:"text-xs text-green-600",children:"dien"})]})]})}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("button",{onClick:m,disabled:!o,className:`w-full px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 ${o?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(Fe,{className:"w-5 h-5"}),"Saglabt k Klientu"]})})]})]})},ph=({consultation:n,onSave:i,onClose:l})=>{const[o,u]=j.useState({careLevel:n.careLevel||"",duration:n.duration||"",roomType:n.roomType||"",notes:n.notes||"",hasDementia:n.hasDementia||!1}),m=(p,f)=>{u(y=>({...y,[p]:f}))},x=p=>{p.preventDefault(),o.careLevel&&o.duration&&o.roomType&&(i(o),l())},g=o.careLevel&&o.duration&&o.roomType;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Redit konsultcijas datus"}),e.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ge,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:x,className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Aprpes lmenis"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[1,2,3,4].map(p=>e.jsx("button",{type:"button",onClick:()=>m("careLevel",p.toString()),className:`p-3 rounded-lg border-2 transition-all ${o.careLevel===p.toString()?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:`text-lg font-bold ${o.careLevel===p.toString()?"text-orange-500":"text-gray-700"}`,children:[p,". lmenis"]})},p))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Uzturans ilgums"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>m("duration","long"),className:`p-4 rounded-lg border-2 transition-all text-left ${o.duration==="long"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Mr,{className:`w-5 h-5 mb-1 ${o.duration==="long"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Ilglaicga"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ilgk par 3 mneiem"})]}),e.jsxs("button",{type:"button",onClick:()=>m("duration","short"),className:`p-4 rounded-lg border-2 transition-all text-left ${o.duration==="short"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(_t,{className:`w-5 h-5 mb-1 ${o.duration==="short"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"slaicga"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ldz 3 mneiem"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Istabas veids"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>m("roomType","single"),className:`p-4 rounded-lg border-2 transition-all text-left ${o.roomType==="single"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Yt,{className:`w-5 h-5 mb-1 ${o.roomType==="single"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Vienvietga istaba"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Privta istaba"})]}),e.jsxs("button",{type:"button",onClick:()=>m("roomType","double"),className:`p-4 rounded-lg border-2 transition-all text-left ${o.roomType==="double"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(wt,{className:`w-5 h-5 mb-1 ${o.roomType==="double"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Divvietga istaba"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Dalta istaba"})]}),e.jsxs("button",{type:"button",onClick:()=>m("roomType","triple"),className:`p-4 rounded-lg border-2 transition-all text-left ${o.roomType==="triple"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(wt,{className:`w-5 h-5 mb-1 ${o.roomType==="triple"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Trsvietga istaba"}),e.jsx("div",{className:"text-xs text-gray-500",children:"3 gultas"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Iekjs piezmes"}),e.jsx("textarea",{value:o.notes,onChange:p=>m("notes",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"Piem., diabts, nepiecieama paldzba prvietojoties, alerijas, paas vlmes..."}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Pierakstiet svargu informciju no sarunas, kas nav iekauta augstk."}),e.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.hasDementia,onChange:p=>m("hasDementia",p.target.checked),className:"mt-1 w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"Residents ir demence"}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Nepiecieama paa istaba ar papildu drobas paskumiem"})]})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:l,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsxs("button",{type:"submit",disabled:!g,className:`flex-1 px-4 py-2 rounded-lg font-medium flex items-center justify-center gap-2 ${g?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(kl,{className:"w-4 h-4"}),"Saglabt"]})]})]})]})})},gh=n=>{var l,o,u,m;const i=`${window.location.origin}/adorable-prototype/review/${n.id}`;return{subject:"Apstiprinanai: Jsu informcija par uzturanos Adoro ampteris",body:`
Labdien, ${n.firstName} ${n.lastName}!

Paldies, ka apmekljt msu iestdi un izvljties Adoro aprpes centru.

Pc msu sarunas esam sagatavojui Jsu informcijas kopsavilkumu. Ldzu prskatiet to un prliecinieties, ka visa informcija ir pareiza.

 JSU IZVLE:

 Aprpes lmenis: ${(l=n.consultation)==null?void 0:l.careLevel}. lmenis
 Uzturans: ${((o=n.consultation)==null?void 0:o.duration)==="long"?"Ilglaicga (virs 3 mneiem)":"slaicga (ldz 3 mneiem)"}
 Istabas veids: ${((u=n.consultation)==null?void 0:u.roomType)==="single"?"Vienvietga istaba":"Divvietga istaba"}
 Cena: ${(m=n.consultation)==null?void 0:m.price}  dien

 PRSKATT INFORMCIJU:
${i}

SVARGI: is ir tikai informcijas apskates rems. Ja pamant kdu vai vlaties ko maint, ldzu sazinieties ar mums:
 E-pasts: info@adoro.lv
 Tlrunis: +371 67 123 456

Ja visa informcija ir pareiza, ms turpinsim lguma sagatavoanu un sazinsimies ar Jums tuvkaj laik.

Ar cieu,
Adoro komanda


Adoro ampteris | Aprpes centrs
www.adoro.lv | rezidence.sampeteris@adoro.lv
    `.trim()}},fh=n=>{var l,o,u,m;const i=`${window.location.origin}/adorable-prototype/fill/${n.id}`;return{subject:"Ldzu aizpildiet anketu - Adoro ampteris",body:`
Labdien, ${n.firstName} ${n.lastName}!

Paldies par interesi par Adoro aprpes centru. Pc msu sarunas ldzam Js aizpildt nepiecieamo informciju lguma sagatavoanai.

 JSU IZVLTAIS PAKALPOJUMS:

 Aprpes lmenis: ${(l=n.consultation)==null?void 0:l.careLevel}. lmenis
 Uzturans: ${((o=n.consultation)==null?void 0:o.duration)==="long"?"Ilglaicga (virs 3 mneiem)":"slaicga (ldz 3 mneiem)"}
 Istabas veids: ${((u=n.consultation)==null?void 0:u.roomType)==="single"?"Vienvietga istaba":"Divvietga istaba"}
 Cena: ${(m=n.consultation)==null?void 0:m.price}  dien

 AIZPILDT ANKETU:
${i}

Anket bs jnorda:
 Rezidenta personisk informcija
 Adrese un kontaktinformcija
 Veselbas informcija (invaliditte, uzturans datumi)
 Ja lgumu paraksts radinieks - ar via informcija

 Ldzu aizpildiet anketu 3 darba dienu laik.

Ja rodas jautjumi par anketas aizpildanu, sazinieties ar mums:
 E-pasts: info@adoro.lv
 Tlrunis: +371 67 123 456

Pc anketas saemanas 2 darba dienu laik sagatavojam lgumu un sazinsimies ar Jums.

Ar cieu,
Adoro komanda


Adoro ampteris | Aprpes centrs
www.adoro.lv | rezidence.sampeteris@adoro.lv
    `.trim()}},hh=n=>{if(!n.consultation)throw new Error("Lead must have consultation data to generate email");const i=n.consultation.fillScenario;if(i==="in-person")return gh(n);if(i==="remote")return fh(n);throw new Error(`Unknown fillScenario: ${i}`)},yh=(n,i)=>{var l,o,u,m;return{subject:"Laba zia! Vieta pieejama - Adoro ampteris",body:`
Labdien, ${n.firstName} ${n.lastName}!

Mums ir lieliska zia - Adoro ampteris aprpes centr ir atbrvojusies vieta, kas atbilst Jsu vajadzbm!

 JSU REZERVCIJA:

 Aprpes lmenis: ${(l=n.consultation)==null?void 0:l.careLevel}. lmenis
 Istabas veids: ${((o=n.consultation)==null?void 0:o.roomType)==="single"?"Vienvietga istaba":((u=n.consultation)==null?void 0:u.roomType)==="double"?"Divvietga istaba":"Trsvietga istaba"}
 Cena: ${(m=n.consultation)==null?void 0:m.price}  dien
 Jsu pozcija rind: #${i}

 PIEEJAM VIETA:
Vieta ir pieejama tuvkaj laik. Lai apstiprintu savu rezervciju, ldzu sazinieties ar mums 3 darba dienu laik.

 SVARGI: Ja nesazinsieties noteiktaj termi, piedvjums tiks nodots nkamajam rind.

 K APSTIPRINT:
 Zvaniet: +371 20 616 003
 Rakstiet: rezidence.sampeteris@adoro.lv

Ms priecsimies Js sagaidt!

Ar cieu,
Adoro komanda


Adoro ampteris | Aprpes centrs
Zolitdes iela 68A, Rga
www.adoro.lv | rezidence.sampeteris@adoro.lv
    `.trim()}},l0=({lead:n,onClose:i,onSend:l})=>{var y;const[o,u]=j.useState(!1),[m,x]=j.useState(()=>hh(n)),g=async()=>{const N=`Subject: ${m.subject}

${m.body}`;try{await navigator.clipboard.writeText(N),u(!0),setTimeout(()=>u(!1),2e3)}catch(k){console.error("Failed to copy:",k)}},p=()=>{l(m)},f=((y=n.consultation)==null?void 0:y.fillScenario)==="in-person"?"Prskatanas rems (klients apmeklja)":"Aizpildanas rems (attlinti)";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(gt,{className:"w-6 h-6 text-blue-500"}),"E-pasta priekskatjums"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:f})]}),e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Samjs:"}),e.jsxs("div",{className:"font-medium text-gray-900",children:[n.firstName," ",n.lastName," <",n.email,">"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Temats:"}),e.jsx("div",{className:"font-semibold text-gray-900",children:m.subject})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Ziojums:"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-gray-700 leading-relaxed",children:m.body})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(gt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("p",{className:"font-medium mb-1",children:"Prototipa rems"}),e.jsx("p",{className:"text-blue-700",children:'is ir tikai priekskatjums. Rel sistm e-pasts tiktu nostts automtiski. Tagad varat nokopt saturu un nostt manuli vai tikai atzmt k "nostts".'})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:i,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsx("button",{onClick:g,className:"flex-1 px-6 py-2.5 border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 font-medium flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"w-4 h-4"}),"Nokopts!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Zm,{className:"w-4 h-4"}),"Kopt saturu"]})}),e.jsxs("button",{onClick:p,className:"flex-1 px-6 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(Fr,{className:"w-4 h-4"}),"Atzmt k nosttu"]})]})]})})},vh=({savedLead:n,onBack:i,onCreateAgreement:l,onAddToQueue:o,onViewList:u,onUpdateConsultation:m,onEmailSent:x,onCancelLead:g})=>{var _,D,O,q,H,G,ee,V,ne;const[p,f]=j.useState(!1),[y,N]=j.useState(!1),[k,w]=j.useState(!1),b=ce=>{m(ce)},R=ce=>{x(),N(!1)},v=((_=n.consultation)==null?void 0:_.fillScenario)==="remote",E=n.emailSent||!1;return e.jsxs(Ue,{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx(Ls,{onClick:i}),e.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-orange-600 hover:text-orange-700 font-medium",children:[e.jsx(wt,{className:"w-4 h-4"}),"Visi pieteikumi"]})]}),e.jsx(qn,{currentStatus:n.status}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 pb-4 border-b border-gray-100",children:[e.jsx(_r,{firstName:n.firstName,lastName:n.lastName,size:"lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[n.firstName," ",n.lastName]}),e.jsx(hl,{status:n.status})]})]}),e.jsxs("div",{className:"py-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx(gt,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{children:n.email})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx(ms,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{children:n.phone})]})]}),n.comment&&e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Komentrs"}),e.jsxs("p",{className:"text-gray-700 italic",children:['"',n.comment,'"']})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Konsultcijas rezultti"}),e.jsx("button",{onClick:()=>f(!0),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Redit konsultciju",children:e.jsx(jl,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(Nl,{className:"w-4 h-4"}),e.jsx("span",{children:"Adoro ampteris"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex sm:flex-col sm:text-center items-center sm:items-center gap-3 sm:gap-0",children:[e.jsx($r,{className:"w-5 h-5 text-orange-500 sm:mx-auto sm:mb-1"}),e.jsxs("div",{className:"flex-1 sm:flex-none",children:[e.jsx("p",{className:"text-xs text-gray-500 sm:mb-1",children:"Aprpes lmenis"}),e.jsxs("p",{className:"text-base sm:text-lg font-bold text-gray-900",children:[(D=n.consultation)==null?void 0:D.careLevel,". lmenis"]})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex sm:flex-col sm:text-center items-center sm:items-center gap-3 sm:gap-0",children:[e.jsx(Mr,{className:"w-5 h-5 text-orange-500 sm:mx-auto sm:mb-1"}),e.jsxs("div",{className:"flex-1 sm:flex-none",children:[e.jsx("p",{className:"text-xs text-gray-500 sm:mb-1",children:"Uzturans"}),e.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900",children:((O=n.consultation)==null?void 0:O.duration)==="long"?"Ilglaicga":"slaicga"})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex sm:flex-col sm:text-center items-center sm:items-center gap-3 sm:gap-0",children:[e.jsx(Yt,{className:"w-5 h-5 text-orange-500 sm:mx-auto sm:mb-1"}),e.jsxs("div",{className:"flex-1 sm:flex-none",children:[e.jsx("p",{className:"text-xs text-gray-500 sm:mb-1",children:"Istabas veids"}),e.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900",children:((q=n.consultation)==null?void 0:q.roomType)==="single"?"Vienvietga":((H=n.consultation)==null?void 0:H.roomType)==="double"?"Divvietga":((G=n.consultation)==null?void 0:G.roomType)==="triple"?"Trsvietga":"-"})]})]})]}),((ee=n.consultation)==null?void 0:ee.hasDementia)&&e.jsxs("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3 flex items-center gap-2",children:[e.jsx(Ym,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm text-yellow-900 font-medium",children:"Residents ir demence - nepiecieama paa istaba"})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Aprint cena"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[(V=n.consultation)==null?void 0:V.price," "]}),e.jsx("p",{className:"text-xs text-green-600",children:"dien"})]})]})}),((ne=n.consultation)==null?void 0:ne.notes)&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1 font-medium",children:"Iekjs piezmes"}),e.jsx("p",{className:"text-sm text-gray-700",children:n.consultation.notes})]})]}),v&&!E&&e.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fr,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Nostt anketu klientam"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Klients sazinjs attlinti. Nostiet e-pastu ar saiti uz aizpildmo anketu."})]})]}),e.jsxs("button",{onClick:()=>N(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2 whitespace-nowrap",children:[e.jsx(gt,{className:"w-5 h-5"}),"Nostt e-pastu"]})]})}),v&&E&&e.jsx("div",{className:"bg-green-50 border border-green-300 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fe,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"E-pasts nostts"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Anketa nostta klientam ",n.emailSentDate&&`${n.emailSentDate} plkst. ${n.emailSentTime}`,". Gaida klienta aizpildanu."]})]})]})}),e.jsx(xs,{variant:"yellow",title:"Gaida klienta lmumu",icon:"clock",children:e.jsx("p",{children:"Klients ir iepazstints ar cenm un iespjm. Kad klients pieem lmumu, izvlieties atbilstoo darbbu."})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-6",children:[e.jsxs("button",{onClick:l,className:"bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-orange-500 hover:shadow-md p-5 text-left transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Zt,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Aizpildt aptauju"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Ievadt visus datus lguma sagatavoanai"})]})]}),e.jsxs("div",{className:"flex items-center justify-end text-sm text-orange-600 font-medium",children:["Turpint ",e.jsx($n,{className:"w-4 h-4"})]})]}),e.jsxs("button",{onClick:o,className:"bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-blue-500 hover:shadow-md p-5 text-left transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(tr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Pievienot rindai"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Nav brvu vietu"})]})]}),e.jsxs("div",{className:"flex items-center justify-end text-sm text-blue-600 font-medium",children:["Turpint ",e.jsx($n,{className:"w-4 h-4"})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>w(!0),className:"w-full px-6 py-2.5 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(Nt,{className:"w-4 h-4"}),"Atcelt pieteikumu"]})}),p&&n.consultation&&e.jsx(ph,{consultation:n.consultation,onSave:b,onClose:()=>f(!1)}),y&&e.jsx(l0,{lead:n,onClose:()=>N(!1),onSend:R}),k&&e.jsx(Br,{lead:n,onConfirm:g,onClose:()=>w(!1)})]})},Ar=[{id:"identity_group",title:"Identitte",fields:[{name:"firstName",label:"Vrds",type:"text",required:!0},{name:"lastName",label:"Uzvrds",type:"text",required:!0}]},{id:"contacts_group",title:"Kontakti",fields:[{name:"phone",label:"Tlrunis",type:"tel",required:!0},{name:"email",label:"E-pasts",type:"email",required:!1}]},{id:"legal_group",title:"Personas dati",fields:[{name:"birthDate",label:"Dzimanas datums",type:"date",required:!0},{name:"personalCode",label:"Personas kods",type:"text",required:!0,placeholder:"123456-12345"}]},{id:"address_group",title:"Deklart dzvesvieta",fields:[{name:"street",label:"Iela, mja, dzvoklis",type:"text",required:!0,placeholder:"piemram: Brvbas iela 123-45"},{name:"city",label:"Pilsta",type:"text",required:!0,placeholder:"piemram: Rga"},{name:"postalCode",label:"Pasta indekss",type:"text",required:!0,placeholder:"LV-1010"}]},{id:"attributes_group",title:"Papildu dati",fields:[{name:"gender",label:"Dzimums",type:"select",required:!0,options:[{value:"male",label:"Vrietis"},{value:"female",label:"Sieviete"}]},{name:"disabilityGroup",label:"Invalidittes grupa",type:"select",required:!1,options:[{value:"none",label:"Nav"},{value:"1",label:"1. grupa"},{value:"2",label:"2. grupa"},{value:"3",label:"3. grupa"}]}]},{id:"terms_group",title:"Termii",fields:[{name:"disabilityDateFrom",label:"Invaliditte no",type:"date",required:!1},{name:"disabilityDateTo",label:"Invaliditte ldz",type:"date",required:!1},{name:"stayDateFrom",label:"Plnotais skuma datums",type:"date",required:!0},{name:"stayDateTo",label:"Plnotais beigu datums",type:"date",required:!1,helper:"Atstt tuku, ja beztermia"}]},{id:"contract_terms_group",title:"Lguma papildus noteikumi",fields:[{name:"securityDeposit",label:"Drobas nauda",type:"select",required:!1,options:[{value:"no",label:"Nav"},{value:"yes",label:"Ir"}]},{name:"securityDepositAmount",label:"Drobas naudas summa (EUR)",type:"number",required:!1,placeholder:"0.00"},{name:"paymentDeadline",label:"Maksas termi",type:"date",required:!1,helper:"Maksas par pirmo mnesi termi"},{name:"healthDataConsent",label:"Veselbas datu nodoana apgdniekam",type:"select",required:!1,options:[{value:"yes",label:"J"},{value:"no",label:"N"}],helper:'Automtiski "J", ja lgumu paraksta radinieks'},{name:"storeIdDocuments",label:"Personas dokumentu glabana",type:"select",required:!1,options:[{value:"yes",label:"J - glabt pie pakalpojuma sniedzja"},{value:"no",label:"N - glabt pie klienta"}]}]},{id:"additional_services_group",title:"Papildus pakalpojumi",fields:[{name:"laundryService",label:"Veas mazgana un marana",type:"select",required:!1,options:[{value:"no",label:"N"},{value:"yes",label:"J"}]},{name:"podologistService",label:"Podologs",type:"select",required:!1,options:[{value:"no",label:"N"},{value:"yes",label:"J"}]},{name:"podologistFrequency",label:"Podologa apmekljumu skaits mnes",type:"number",required:!1,placeholder:"1"},{name:"otherServicesEnabled",label:"Citi papildus pakalpojumi",type:"select",required:!1,options:[{value:"no",label:"N"},{value:"yes",label:"J"}]},{name:"otherServices",label:"Citu pakalpojumu apraksts",type:"text",required:!1,placeholder:"Aprakstiet nepiecieamos pakalpojumus"}]}],Pr=[{id:"client_identity_group",title:"Identitte",fields:[{name:"clientFirstName",label:"Vrds",type:"text",required:!0},{name:"clientLastName",label:"Uzvrds",type:"text",required:!0}]},{id:"client_relation_group",title:"Statuss",fields:[{name:"relationship",label:"Radniecba / Statuss",type:"select",required:!0,options:[{value:"child",label:"Dls / Meita"},{value:"spouse",label:"Laultais"},{value:"guardian",label:"Pilnvarot persona"},{value:"social_worker",label:"Socilais darbinieks"},{value:"other",label:"Cits"}]}]},{id:"client_contacts_group",title:"Kontakti",fields:[{name:"clientPhone",label:"Tlrunis",type:"tel",required:!0},{name:"clientEmail",label:"E-pasts",type:"email",required:!0,helper:"Nepiecieams lguma komunikcijai"}]},{id:"client_address_group",title:"Deklart dzvesvieta",fields:[{name:"clientStreet",label:"Iela, mja, dzvoklis",type:"text",required:!0,placeholder:"piemram: Brvbas iela 123-45"},{name:"clientCity",label:"Pilsta",type:"text",required:!0,placeholder:"piemram: Rga"},{name:"clientPostalCode",label:"Pasta indekss",type:"text",required:!0,placeholder:"LV-1010"}]},{id:"client_legal_group",title:"Personas dati",fields:[{name:"clientPersonalCode",label:"Personas kods",type:"text",required:!0,placeholder:"123456-12345"}]}],bh=({savedLead:n,onSubmit:i,onBack:l})=>{const o=n.survey||{},[u,m]=j.useState(o.signerScenario||"resident"),[x,g]=j.useState({firstName:o.firstName||n.firstName||"",lastName:o.lastName||n.lastName||"",phone:o.phone||n.phone||"",email:o.email||n.email||"",birthDate:o.birthDate||"",personalCode:o.personalCode||"",street:o.street||"",city:o.city||"",postalCode:o.postalCode||"",gender:o.gender||"",disabilityGroup:o.disabilityGroup||"",disabilityDateFrom:o.disabilityDateFrom||"",disabilityDateTo:o.disabilityDateTo||"",stayDateFrom:o.stayDateFrom||new Date().toISOString().split("T")[0],stayDateTo:o.stayDateTo||"",securityDeposit:o.securityDeposit||"no",securityDepositAmount:o.securityDepositAmount||"",paymentDeadline:o.paymentDeadline||"",healthDataConsent:o.healthDataConsent||"yes",storeIdDocuments:o.storeIdDocuments||"no",laundryService:o.laundryService||"no",podologistService:o.podologistService||"no",podologistFrequency:o.podologistFrequency||"",otherServicesEnabled:o.otherServicesEnabled||"no",otherServices:o.otherServices||"",clientFirstName:o.clientFirstName||"",clientLastName:o.clientLastName||"",relationship:o.relationship||"",clientPhone:o.clientPhone||"",clientEmail:o.clientEmail||"",clientStreet:o.clientStreet||"",clientCity:o.clientCity||"",clientPostalCode:o.clientPostalCode||"",clientPersonalCode:o.clientPersonalCode||""}),[p,f]=j.useState({}),y=(w,b)=>{g(R=>({...R,[w]:b})),p[w]&&f(R=>{const v={...R};return delete v[w],v})},N=w=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100",children:w.title}),e.jsx("div",{className:"space-y-4",children:w.fields.map(b=>{var E;const R=x.disabilityGroup&&x.disabilityGroup!=="none"&&x.disabilityGroup!=="";if((b.name==="disabilityDateFrom"||b.name==="disabilityDateTo")&&!R||b.name==="securityDepositAmount"&&x.securityDeposit!=="yes"||b.name==="podologistFrequency"&&x.podologistService!=="yes"||b.name==="otherServices"&&x.otherServicesEnabled!=="yes")return null;const v=()=>b.type==="date"?"max-w-xs":b.type==="tel"?"max-w-sm":b.type==="number"?"max-w-xs":b.name==="personalCode"||b.name==="clientPersonalCode"?"max-w-sm":b.name==="postalCode"||b.name==="clientPostalCode"?"max-w-xs":b.name==="city"||b.name==="clientCity"?"max-w-sm":b.type==="select"&&(b.name==="gender"||b.name==="disabilityGroup")?"max-w-xs":b.type==="select"?"max-w-md":"w-full";return e.jsx("div",{children:b.type==="select"?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[b.label," ",b.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:x[b.name],onChange:_=>y(b.name,_.target.value),className:`${v()} px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white`,children:[e.jsx("option",{value:"",children:"Izvlieties..."}),(E=b.options)==null?void 0:E.map(_=>e.jsx("option",{value:_.value,children:_.label},_.value))]})]}):e.jsxs("div",{className:v(),children:[e.jsx(Bt,{label:b.label,name:b.name,type:b.type,value:x[b.name],onChange:_=>y(b.name,_.target.value),error:p[b.name],required:b.required,placeholder:b.placeholder}),b.helper&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:b.helper})]})},b.name)})})]},w.id),k=w=>{w.preventDefault();const b={};Ar.forEach(R=>{R.fields.forEach(v=>{v.required&&!x[v.name]&&(b[v.name]="Obligts lauks")})}),u==="relative"&&Pr.forEach(R=>{R.fields.forEach(v=>{v.required&&!x[v.name]&&(b[v.name]="Obligts lauks")})}),f(b),Object.keys(b).length===0?i({...x,signerScenario:u}):window.scrollTo({top:0,behavior:"smooth"})};return e.jsxs(Ue,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(Ls,{onClick:l}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Aptaujas anketa"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ievadiet visu nepiecieamo informciju lguma sagatavoanai"})]}),e.jsx(qn,{currentStatus:n.status}),e.jsx(xs,{variant:"blue",title:"Nepiecieam informcija",children:e.jsx("p",{className:"text-sm",children:"Aizpildiet visus obligtos laukus.  informcija tiks izmantota lguma sagatavoanai."})}),e.jsxs("form",{onSubmit:k,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ft,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Rezidenta informcija"})]}),Ar.map(w=>N(w))]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Zo,{className:"w-5 h-5 text-blue-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Lguma paraksttjs"})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${u==="resident"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"resident",checked:u==="resident",onChange:w=>m(w.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Rezidents pats"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Paraksts rezidents persongi"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${u==="relative"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"relative",checked:u==="relative",onChange:w=>m(w.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Radinieks / Pilnvarot persona"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Paraksts cita persona"})]})]})]})}),u==="resident"?e.jsx(xs,{variant:"blue",title:"Lguma paraksts rezidents",children:e.jsx("p",{className:"text-sm",children:"Lgums tiks sagatavots uz rezidenta vrda. Rini tiks stti uz rezidenta e-pastu."})}):e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Paraksttja informcija"}),Pr.map(w=>N(w))]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:l,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atpaka"}),e.jsxs("button",{type:"submit",className:"flex-1 px-8 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(kl,{className:"w-4 h-4"}),"Saglabt aptauju"]})]})]})]})},Nh=({savedLead:n,onSubmit:i,onCancel:l})=>{var k,w,b,R;const[o,u]=j.useState("resident"),[m,x]=j.useState({firstName:n.firstName||"",lastName:n.lastName||"",phone:n.phone||"",email:n.email||"",birthDate:"",personalCode:"",street:"",city:"",postalCode:"",gender:"",disabilityGroup:"",disabilityDateFrom:"",disabilityDateTo:"",stayDateFrom:new Date().toISOString().split("T")[0],stayDateTo:"",clientFirstName:"",clientLastName:"",relationship:"",clientPhone:"",clientEmail:"",clientStreet:"",clientCity:"",clientPostalCode:"",clientPersonalCode:""}),[g,p]=j.useState({}),f=(v,E)=>{x(_=>({..._,[v]:E})),g[v]&&p(_=>{const D={..._};return delete D[v],D})},y=v=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100",children:v.title}),e.jsx("div",{className:"space-y-4",children:v.fields.map(E=>{var O;const _=m.disabilityGroup&&m.disabilityGroup!=="none"&&m.disabilityGroup!=="";if((E.name==="disabilityDateFrom"||E.name==="disabilityDateTo")&&!_)return null;const D=()=>E.type==="date"?"max-w-xs":E.type==="tel"||E.name==="personalCode"||E.name==="clientPersonalCode"?"max-w-sm":E.name==="postalCode"||E.name==="clientPostalCode"?"max-w-xs":E.name==="city"||E.name==="clientCity"?"max-w-sm":E.type==="select"&&(E.name==="gender"||E.name==="disabilityGroup")?"max-w-xs":"w-full";return e.jsx("div",{children:E.type==="select"?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[E.label," ",E.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:m[E.name],onChange:q=>f(E.name,q.target.value),className:`${D()} px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white`,children:[e.jsx("option",{value:"",children:"Izvlieties..."}),(O=E.options)==null?void 0:O.map(q=>e.jsx("option",{value:q.value,children:q.label},q.value))]})]}):E.type==="textarea"?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[E.label," ",E.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:m[E.name],onChange:q=>f(E.name,q.target.value),rows:E.rows||3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none"}),E.helper&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:E.helper})]}):e.jsx("div",{className:D(),children:e.jsx(Bt,{label:E.label,name:E.name,type:E.type,value:m[E.name],onChange:q=>f(E.name,q.target.value),error:g[E.name],required:E.required,placeholder:E.placeholder})})},E.name)})})]},v.id),N=v=>{v.preventDefault();const E={};Ar.forEach(_=>{_.fields.forEach(D=>{D.required&&!m[D.name]&&(E[D.name]="Obligts lauks")})}),o==="relative"&&Pr.forEach(_=>{_.fields.forEach(D=>{D.required&&!m[D.name]&&(E[D.name]="Obligts lauks")})}),p(E),Object.keys(E).length===0?i({...m,signerScenario:o}):window.scrollTo({top:0,behavior:"smooth"})};return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-white px-6 py-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx(gt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-normal text-gray-900 mb-1",children:"Jsu piedvjums no Adoro ampteris"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{children:"No: rezidence.sampeteris@adoro.lv"}),e.jsx("span",{children:""}),e.jsx("span",{children:new Date().toLocaleDateString("lv-LV")})]})]})]}),e.jsx("div",{className:"mt-4 bg-blue-50 border-l-4 border-blue-400 p-4",children:e.jsx("p",{className:"text-sm text-blue-900",children:"Labdien! Pateicamies par interesi par msu pakalpojumiem. Ldzu, prskatiet piedvjumu un aizpildiet nepiecieamo informciju zemk."})})]}),e.jsxs("div",{className:"bg-white px-6 py-6",children:[e.jsxs("h2",{className:"text-base font-normal text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-5 h-5 text-green-600"}),"Piedvjuma kopsavilkums"]}),e.jsxs("div",{className:"bg-gray-50 rounded p-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(Nl,{className:"w-3 h-3"})," Filile"]}),e.jsx("p",{className:"font-medium text-gray-900",children:"Adoro ampteris"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx($r,{className:"w-3 h-3"})," Aprpes lmenis"]}),e.jsxs("p",{className:"font-medium text-gray-900",children:[(k=n.consultation)==null?void 0:k.careLevel,". lmenis"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(Yt,{className:"w-3 h-3"})," Istabas veids"]}),e.jsxs("p",{className:"font-medium text-gray-900",children:[((w=n.consultation)==null?void 0:w.roomType)==="single"?"Vienvietga":"Divvietga",(b=n.consultation)!=null&&b.hasDementia?" (Specil)":""]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(Fe,{className:"w-3 h-3"})," Cena"]}),e.jsxs("p",{className:"font-bold text-green-700 text-lg",children:[(R=n.consultation)==null?void 0:R.price,"  / dien"]})]})]})]}),e.jsxs("form",{onSubmit:N,className:"bg-white px-6 py-6 border-t border-gray-200",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-6",children:"Nepiecieam informcija lguma sagatavoanai"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ft,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Rezidenta informcija"})]}),Ar.map(v=>y(v))]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Zo,{className:"w-5 h-5 text-blue-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Lguma paraksttjs"})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${o==="resident"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"resident",checked:o==="resident",onChange:v=>u(v.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Rezidents pats"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Paraksts rezidents persongi"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${o==="relative"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"relative",checked:o==="relative",onChange:v=>u(v.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Radinieks / Pilnvarot persona"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Paraksts cita persona"})]})]})]})}),o==="resident"?e.jsx(xs,{variant:"blue",title:"Lguma paraksts rezidents",children:e.jsx("p",{className:"text-sm",children:"Lgums tiks sagatavots uz rezidenta vrda. Rini tiks stti uz rezidenta e-pastu."})}):e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Paraksttja informcija"}),Pr.map(v=>y(v))]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-gray-200",children:[l&&e.jsx("button",{type:"button",onClick:l,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsxs("button",{type:"submit",className:"flex-1 px-8 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(Fr,{className:"w-4 h-4"}),"Iesniegt informciju"]})]})]})]})})},jh=({missingFields:n,onClose:i,onGoBack:l,onProceedAnyway:o})=>{const{consultation:u,resident:m,caregiver:x}=n,g=u.length+m.length+x.length,p=m.length>0||x.length>0;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx("div",{className:"bg-orange-500 p-6 text-white",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(jt,{className:"w-7 h-7"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Trkst obligto datu"}),e.jsxs("p",{className:"text-orange-100 text-sm mt-1",children:["Nepiecieams aizpildt ",g," laukus pirms lguma izveidoanas"]})]})]}),e.jsx("button",{onClick:i,className:"text-white/80 hover:text-white transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsx(Gf,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-900",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Kpc tas ir svargi?"}),e.jsx("p",{children:"Lgumam ir nepiecieama pilnga informcija par klientu un pakalpojumu. Ldzu, atgriezieties un aizpildiet trkstoos datus."})]})]})}),e.jsxs("div",{className:"space-y-6",children:[u.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-orange-100 text-orange-700 rounded-full flex items-center justify-center text-xs font-bold",children:u.length}),"Konsultcijas dati"]}),e.jsx("ul",{className:"space-y-2",children:u.map((f,y)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700 bg-gray-50 rounded px-3 py-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),f.label]},y))})]}),m.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-orange-100 text-orange-700 rounded-full flex items-center justify-center text-xs font-bold",children:m.length}),"Rezidenta dati"]}),e.jsx("ul",{className:"space-y-2",children:m.map((f,y)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700 bg-gray-50 rounded px-3 py-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),f.label]},y))})]}),x.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-orange-100 text-orange-700 rounded-full flex items-center justify-center text-xs font-bold",children:x.length}),"Apgdnieka dati"]}),e.jsx("ul",{className:"space-y-2",children:x.map((f,y)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700 bg-gray-50 rounded px-3 py-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),f.label]},y))})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 space-y-3",children:[p&&e.jsxs("button",{onClick:l,className:"w-full px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(rr,{className:"w-4 h-4"}),"Atgriezties un aizpildt datus"]}),!p&&u.length>0&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-yellow-900",children:'Konsultcijas datus nevar redit no  soa. Ldzu, izvlieties "Turpint tik un t" vai sazinieties ar administratoru.'})}),e.jsx("button",{onClick:o,className:"w-full px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Turpint tik un t (neieteicams)"}),e.jsx("button",{onClick:i,className:"w-full px-6 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Atcelt"})]})]})})},wh=({savedLead:n,onCreateAgreement:i,onAddToQueue:l,onBack:o,onEmailSent:u,onCancelLead:m})=>{const[x,g]=j.useState(!1),[p,f]=j.useState(!1),[y,N]=j.useState(!1),[k,w]=j.useState({consultation:[],resident:[],caregiver:[]}),b=(n==null?void 0:n.survey)||(n==null?void 0:n.offer)||{},R=(n==null?void 0:n.consultation)||{},v=ee=>{u(),g(!1)},E=()=>{const ee=pf(n);ee.isValid?i():(w(ee.missingFields),N(!0))},_=()=>{N(!1),i()},D=(R==null?void 0:R.fillScenario)==="in-person",O=n.emailSent||!1,q=ee=>ee?new Date(ee).toLocaleDateString("lv-LV"):"-",H=ee=>({child:"Dls / Meita",spouse:"Laultais",guardian:"Pilnvarot persona",social_worker:"Socilais darbinieks",other:"Cits"})[ee]||ee,G=ee=>ee==="male"?"Vrietis":ee==="female"?"Sieviete":ee;return e.jsxs(Ue,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(Ls,{onClick:o}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Piedvjuma prskats"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Klients ir aizpildjis piedvjuma formu"})]}),e.jsx(qn,{currentStatus:n.status}),e.jsx(xs,{variant:"green",title:"Aptauja aizpildta",children:e.jsx("p",{className:"text-sm",children:"Visi nepiecieamie dati ir ievadti. Prskatiet informciju un izvlieties darbbu."})}),D&&!O&&e.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fr,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Nostt informciju klientam"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Klients apmeklja iestdi un js aizpildjt anketu. Nostiet e-pastu ar prskatu klientam apstiprinanai."})]})]}),e.jsxs("button",{onClick:()=>g(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2 whitespace-nowrap",children:[e.jsx(gt,{className:"w-5 h-5"}),"Nostt e-pastu"]})]})}),D&&O&&e.jsx("div",{className:"bg-green-50 border border-green-300 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fe,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"E-pasts nostts"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Informcijas prskats nostts klientam ",n.emailSentDate&&`${n.emailSentDate} plkst. ${n.emailSentTime}`,"."]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Zt,{className:"w-5 h-5 text-orange-500"}),"Piedvjuma nosacjumi"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(Nl,{className:"w-3 h-3"})," Filile"]}),e.jsx("p",{className:"font-medium text-gray-900",children:"Adoro ampteris"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx($r,{className:"w-3 h-3"})," Aprpe"]}),e.jsxs("p",{className:"font-medium text-gray-900",children:[(R==null?void 0:R.careLevel)||"-",". lmenis"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(Yt,{className:"w-3 h-3"})," Istaba"]}),e.jsxs("p",{className:"font-medium text-gray-900",children:[(R==null?void 0:R.roomType)==="single"?"Vienvietga":(R==null?void 0:R.roomType)==="double"?"Divvietga":(R==null?void 0:R.roomType)==="triple"?"Trsvietga":"-",R!=null&&R.hasDementia?" (Spec.)":""]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(Fe,{className:"w-3 h-3"})," Cena"]}),e.jsxs("p",{className:"font-bold text-green-700",children:[(R==null?void 0:R.price)||"-","  / dien"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(ft,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Rezidenta informcija"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Persona, kas dzvos rezidenc"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Vrds un uzvrds"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[b.firstName," ",b.lastName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Personas kods"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:b.personalCode||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(Mr,{className:"w-3 h-3"})," Dzimanas datums"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:q(b.birthDate)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Dzimums"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:G(b.gender)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(ms,{className:"w-3 h-3"})," Tlrunis"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:b.phone||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(gt,{className:"w-3 h-3"})," E-pasts"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:b.email||"-"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(Lo,{className:"w-3 h-3"})," Adrese"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:b.street&&b.city&&b.postalCode?`${b.street}, ${b.city}, ${b.postalCode}`:"-"})]}),b.disabilityGroup&&b.disabilityGroup!=="none"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Invalidittes grupa"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[b.disabilityGroup,". grupa"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Invalidittes termi"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[q(b.disabilityDateFrom)," - ",b.disabilityDateTo?q(b.disabilityDateTo):"Beztermia"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Uzturans skums"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:q(b.stayDateFrom)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Uzturans beigas"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:b.stayDateTo?q(b.stayDateTo):"Beztermia"})]})]})]}),b.signerScenario==="relative"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Zo,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Lguma paraksttja informcija"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Radinieks / Pilnvarot persona"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Vrds un uzvrds"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[b.clientFirstName," ",b.clientLastName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Radniecba / Statuss"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:H(b.relationship)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Personas kods"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:b.clientPersonalCode||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(ms,{className:"w-3 h-3"})," Tlrunis"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:b.clientPhone||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(gt,{className:"w-3 h-3"})," E-pasts"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:b.clientEmail||"-"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(Lo,{className:"w-3 h-3"})," Adrese"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:b.clientStreet&&b.clientCity&&b.clientPostalCode?`${b.clientStreet}, ${b.clientCity}, ${b.clientPostalCode}`:"-"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:E,className:"bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-green-500 hover:shadow-md p-5 text-left transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Zt,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Izveidot lgumu"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Pieirt lguma numuru un turpint"})]})]}),e.jsx("div",{className:"flex items-center justify-end text-sm text-green-600 font-medium",children:"Turpint "})]}),e.jsxs("button",{onClick:l,className:"bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-blue-500 hover:shadow-md p-5 text-left transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(tr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Pievienot rindai"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Saglabt datus, nav brvu vietu"})]})]}),e.jsx("div",{className:"flex items-center justify-end text-sm text-blue-600 font-medium",children:"Turpint "})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>f(!0),className:"w-full px-6 py-2.5 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(Nt,{className:"w-4 h-4"}),"Atcelt pieteikumu"]})}),x&&e.jsx(l0,{lead:n,onClose:()=>g(!1),onSend:v}),p&&e.jsx(Br,{lead:n,onConfirm:m,onClose:()=>f(!1)}),y&&e.jsx(jh,{missingFields:k,onClose:()=>N(!1),onGoBack:o,onProceedAnyway:_})]})},kh=({lead:n})=>{const i=(n==null?void 0:n.consultation)||{},l=(n==null?void 0:n.survey)||{},o=(n==null?void 0:n.agreementNumber)||"RSD-__-2025-L-___",u=f=>{if(!f)return"____";const y=new Date(f),N=y.getDate(),w=["janvris","februris","marts","aprlis","maijs","jnijs","jlijs","augusts","septembris","oktobris","novembris","decembris"][y.getMonth()];return`${y.getFullYear()}. gada ${N}. ${w}`},m=u(new Date().toISOString()),x=u(l.stayDateFrom),g=l.signerScenario==="relative",p=f=>!f||typeof f=="string"&&f.trim()===""?"bg-yellow-100 px-1 rounded":"";return e.jsxs("div",{className:"bg-white p-4 sm:p-8 max-w-4xl mx-auto",style:{fontFamily:"Times New Roman, serif"},children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-base sm:text-xl font-bold mb-2",children:"LGUMS PAR SOCILO PAKALPOJUMU NODROINANU"}),e.jsxs("p",{className:"text-sm sm:text-lg font-semibold",children:["NR. ",o]})]}),e.jsx("div",{className:"text-center mb-6 sm:mb-8",children:e.jsxs("p",{className:"text-sm sm:text-base",children:["Rga, ",m]})}),e.jsxs("div",{className:"mb-6 sm:mb-8 text-xs sm:text-sm leading-relaxed",children:[e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:"font-semibold",children:'SIA "Adoro ampteris"'}),", reistrcijas Nr. 40203404640, juridisk adrese: Zolitdes iela 68A, Rga, LV-1046, kuras vrd rkojas direktors Kristne Besedina, turpmk tekst - ",e.jsx("span",{className:"font-semibold",children:"Pakalpojuma sniedzjs"}),", no vienas puses,"]}),e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:`font-semibold ${p(l.firstName)}`,children:l.firstName||"_________"})," ",e.jsx("span",{className:`font-semibold ${p(l.lastName)}`,children:l.lastName||"_________"}),", personas kods: ",e.jsx("span",{className:`font-semibold ${p(l.personalCode)}`,children:l.personalCode||"__________-_____"}),", deklart adrese: ",e.jsx("span",{className:`font-semibold ${l.street&&l.city&&l.postalCode?"":"bg-yellow-100 px-1 rounded"}`,children:l.street&&l.city&&l.postalCode?`${l.street}, ${l.city}, ${l.postalCode}`:"_________________________________"}),", turpmk tekst - ",e.jsx("span",{className:"font-semibold",children:"Klients"}),",",g?" un":""]}),g&&e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:`font-semibold ${p(l.clientFirstName)}`,children:l.clientFirstName||"_________"})," ",e.jsx("span",{className:`font-semibold ${p(l.clientLastName)}`,children:l.clientLastName||"_________"}),", personas kods: ",e.jsx("span",{className:`font-semibold ${p(l.clientPersonalCode)}`,children:l.clientPersonalCode||"__________-_____"}),", deklart adrese: ",e.jsx("span",{className:`font-semibold ${l.clientStreet&&l.clientCity&&l.clientPostalCode?"":"bg-yellow-100 px-1 rounded"}`,children:l.clientStreet&&l.clientCity&&l.clientPostalCode?`${l.clientStreet}, ${l.clientCity}, ${l.clientPostalCode}`:"_________________________________"}),", turpmk tekst - ",e.jsx("span",{className:"font-semibold",children:"Apgdnieks"}),","]}),e.jsx("p",{className:"mt-6",children:g?"Pakalpojuma sniedzjs, Klients un Apgdnieks turpmk tekst visi kop  Puses, nosldz lgumu par socilo pakalpojumu nodroinanu.":"Pakalpojuma sniedzjs un Klients turpmk tekst visi kop  Puses, nosldz lgumu par socilo pakalpojumu nodroinanu."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-base sm:text-lg font-bold mb-4",children:"1. LGUMA PRIEKMETS"}),e.jsx("h3",{className:"font-semibold mb-4 text-sm sm:text-base",children:"1.1. Visprjie lguma noteikumi:"}),e.jsxs("div",{className:"border-2 border-gray-800 rounded text-sm leading-relaxed",children:[e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"I. Pakalpojums: "}),e.jsx("span",{className:"bg-orange-100 px-2 py-0.5 rounded font-semibold text-orange-800",children:i.duration==="long"?"ilglaicgs":i.duration==="short"?"slaicgs":"____"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"II. Mjoklis: "}),e.jsx("span",{className:"bg-orange-100 px-2 py-0.5 rounded font-semibold text-orange-800",children:i.roomType==="single"?"vienvietgs":i.roomType==="double"?"divvietgs":i.roomType==="triple"?"trsvietgs":"____"}),i.hasDementia&&e.jsx("span",{className:"ml-2 bg-yellow-100 px-2 py-0.5 rounded text-yellow-800 text-xs font-semibold",children:"+ specila istaba (demence)"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"III. Maksa par vienu diennakti: "}),e.jsxs("span",{className:"bg-green-100 px-2 py-0.5 rounded font-bold text-green-800",children:["EUR ",i.price||"00.00"]})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"IV. Drobas nauda: "}),l.securityDeposit==="yes"?e.jsx("span",{className:"bg-orange-100 px-2 py-0.5 rounded font-semibold text-orange-800",children:l.securityDepositAmount?`${l.securityDepositAmount} EUR`:"_______ EUR"}):e.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:"nav"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"V. Klienta iestans datums: "}),e.jsx("span",{className:`px-2 py-0.5 rounded font-semibold ${l.stayDateFrom?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:x})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"VI. Lguma termi: "}),l.stayDateTo?e.jsxs("span",{className:"bg-orange-100 px-2 py-0.5 rounded font-semibold text-orange-800",children:["ldz ",u(l.stayDateTo)]}):e.jsx("span",{className:"bg-blue-100 px-2 py-0.5 rounded font-semibold text-blue-800",children:"beztermia"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"VII. Aprpes lmenis: "}),e.jsx("span",{className:"bg-orange-100 px-2 py-0.5 rounded font-semibold text-orange-800",children:i.careLevel?`${i.careLevel}. lmenis`:"____"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"VIII. Veselbas datu nodoana Apgdniekam: "}),e.jsx("span",{className:`px-2 py-0.5 rounded font-semibold ${l.healthDataConsent==="yes"||g&&!l.healthDataConsent?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:l.healthDataConsent==="yes"||g&&!l.healthDataConsent?"j":"n"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"IX. Personas dokumentu glabana: "}),e.jsx("span",{className:`px-2 py-0.5 rounded font-semibold ${l.storeIdDocuments==="yes"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"}`,children:l.storeIdDocuments==="yes"?"j":"n"})]}),e.jsxs("div",{className:"p-3 sm:p-4",children:[e.jsx("span",{className:"font-semibold block mb-2",children:"X. Papildus pakalpojumi:"}),e.jsxs("div",{className:"space-y-1.5 ml-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700",children:" Veas mazgana un marana: "}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${l.laundryService==="yes"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:l.laundryService==="yes"?"j":"n"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700",children:" Podologs: "}),l.podologistService==="yes"?e.jsxs("span",{className:"bg-green-100 px-2 py-0.5 rounded text-xs font-semibold text-green-800",children:["j, ",l.podologistFrequency||"___"," reizes mnes"]}):e.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-xs font-semibold text-gray-600",children:"n"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700",children:" Cits: "}),l.otherServicesEnabled==="yes"?e.jsx("span",{className:"bg-orange-100 px-2 py-0.5 rounded text-xs font-semibold text-orange-800",children:l.otherServices||"____"}):e.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-xs font-semibold text-gray-600",children:"n"})]})]})]})]})]}),e.jsx("div",{className:"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t-2 border-gray-400",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 sm:gap-8 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold mb-2",children:"PAKALPOJUMU SNIEDZJS:"}),e.jsx("p",{className:"font-semibold",children:'SIA "Adoro ampteris"'}),e.jsx("p",{children:"Re. Nr. 40203404640"}),e.jsx("p",{children:"Zolitdes iela 68A, Rga, LV-1046"}),e.jsx("p",{className:"mt-2",children:"Tlrunis: +371 20 616 003"}),e.jsx("p",{children:"E-pasts: rezidence.sampeteris@adoro.lv"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold mb-2",children:"KLIENTS:"}),e.jsxs("p",{className:"font-semibold",children:[e.jsx("span",{className:p(l.firstName),children:l.firstName||"_________"})," ",e.jsx("span",{className:p(l.lastName),children:l.lastName||"_________"})]}),e.jsxs("p",{children:["Personas kods: ",e.jsx("span",{className:p(l.personalCode),children:l.personalCode||"__________-_____"})]}),e.jsxs("p",{children:["E-pasts: ",l.email||n.email||"_________________"]}),e.jsxs("p",{children:["Tlrunis: ",l.phone||n.phone||"_________________"]}),g&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-bold mb-2",children:"APGDNIEKS:"}),e.jsxs("p",{className:"font-semibold",children:[e.jsx("span",{className:p(l.clientFirstName),children:l.clientFirstName||"_________"})," ",e.jsx("span",{className:p(l.clientLastName),children:l.clientLastName||"_________"})]}),e.jsxs("p",{children:["Personas kods: ",e.jsx("span",{className:p(l.clientPersonalCode),children:l.clientPersonalCode||"__________-_____"})]}),e.jsxs("p",{children:["E-pasts: ",l.clientEmail||"_________________"]}),e.jsxs("p",{children:["Tlrunis: ",l.clientPhone||"_________________"]})]})]})]})}),e.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-300 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Zt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Lguma pirm lappuse"}),e.jsx("p",{children:"is ir vienkrots lguma variants priekskatjumam. Pilns lgums satur papildu sadaas par puu pienkumiem, maksjumu noteikumiem, lguma izbeiganas krtbu un citiem svargiem noteikumiem."})]})]})})]})},Sh=({savedLead:n,onBack:i,onViewList:l,onAddNew:o,onCancelLead:u,onBookBed:m})=>{var w;const[x,g]=j.useState(!1),[p,f]=j.useState(!1),y=j.useRef(null),N=()=>{window.print()},k=()=>{g(!x)};return j.useEffect(()=>{if(x&&y.current){const b=setTimeout(()=>{var R;(R=y.current)==null||R.scrollIntoView({behavior:"smooth",block:"start"})},100);return()=>clearTimeout(b)}},[x]),e.jsxs(Ue,{maxWidth:"max-w-4xl",children:[e.jsx(Ls,{onClick:i}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-4 sm:p-6 text-white",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Fe,{className:"w-8 h-8 sm:w-10 sm:h-10"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Lgums izveidots!"}),e.jsx("p",{className:"text-green-100 mt-1 text-sm sm:text-base",children:"Process veiksmgi uzskts"})]})]})}),e.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Jauns lgums"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Lguma numurs"}),e.jsx("span",{className:"font-mono font-semibold text-gray-900",children:n.agreementNumber||"RSD-__-2025"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Rezidents"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[n.firstName," ",n.lastName]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status"}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-sm font-medium",children:"Gaida parakstu"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Izveidots"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date().toISOString().split("T")[0]})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Nkamie soi"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Lguma dokuments enerts"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_t,{className:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Nostt lgumu klientam parakstanai"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Rezervt gultas vietu"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Pc parakstanas - aktivizt lgumu"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Lguma dokuments"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:k,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2",children:[x?e.jsx(Kf,{className:"w-4 h-4"}):e.jsx(Jo,{className:"w-4 h-4"}),x?"Paslpt":"Skatt"]}),e.jsxs("button",{onClick:N,className:"px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(Yo,{className:"w-4 h-4"}),"Drukt"]}),e.jsxs("button",{className:"px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium flex items-center justify-center gap-2",disabled:!0,title:"Funkcionalitte tiks pievienota",children:[e.jsx(Uf,{className:"w-4 h-4"}),"Lejupieldt"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[m&&!n.residentId&&e.jsxs("button",{onClick:m,className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2 text-lg",children:[e.jsx(Yt,{className:"w-5 h-5"}),"Rezervt gultu un izveidot rezidentu"]}),n.residentId&&e.jsxs("div",{className:"px-4 py-3 bg-green-50 border border-green-200 rounded-lg text-green-700 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-5 h-5"}),e.jsxs("span",{children:["Rezidents izveidots (Istaba ",(w=n.bookedRoomId)==null?void 0:w.replace("ROOM-",""),", gulta ",n.bookedBedNumber,")"]})]}),e.jsxs("button",{onClick:l,className:"w-full px-4 py-2.5 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(wt,{className:"w-4 h-4"}),"Skatt visus pieteikumus"]}),e.jsx("button",{onClick:o,className:"w-full px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Pievienot jaunu klientu"}),e.jsxs("button",{onClick:()=>f(!0),className:"w-full px-4 py-2.5 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(Nt,{className:"w-4 h-4"}),"Atcelt lgumu"]})]})]})]}),x&&e.jsx("div",{ref:y,className:"mt-6 print:mt-0",children:e.jsx(kh,{lead:n})}),p&&e.jsx(Br,{lead:n,onConfirm:u,onClose:()=>f(!1)})]})},Eh=({savedLead:n,allLeads:i=[],onBack:l,onViewList:o,onAddNew:u,onCancelLead:m})=>{const[x,g]=j.useState(!1),p=qm(n,i),f=Hm(n);return e.jsxs(Ue,{maxWidth:"max-w-2xl",children:[e.jsx(Ls,{onClick:l}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4 sm:p-6 text-white",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(tr,{className:"w-8 h-8 sm:w-10 sm:h-10"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Pievienots rindai!"}),e.jsx("p",{className:"text-blue-100 mt-1 text-sm sm:text-base",children:"Klients tiks informts, kad vieta kst pieejama"})]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gaidanas saraksts"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Klients"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[n.firstName," ",n.lastName]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Pozcija rind"}),e.jsxs("span",{className:"font-mono font-semibold text-blue-600",children:["#",p||""]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Gaidanas laiks"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[f," ",f===1?"diena":"dienas"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status"}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm font-medium",children:n.queueOfferSent?"Piedvjums nostts":"Gaidanas rind"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Pievienots"}),e.jsx("span",{className:"font-medium text-gray-900",children:n.queuedDate||n.createdDate})]})]})]}),e.jsx(xs,{variant:"blue",title:"Pareizj situcija",icon:"info",children:e.jsx("p",{children:"Abs rezidencs palaik ir pilns aizpildjums. Vidjais gaidanas laiks ir 2-4 mnei. Klients tiks informts, tikldz vieta kst pieejama."})}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Nkamie soi"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Klients pievienots gaidanas rindai"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_t,{className:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Uzturt regulru kontaktu ar klientu"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ut,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Informt, kad vieta kst pieejama"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Pc apstiprinjuma - izveidot lgumu"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[e.jsxs("button",{onClick:o,className:"w-full px-4 py-2.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(wt,{className:"w-4 h-4"}),"Skatt visus pieteikumus"]}),e.jsx("button",{onClick:u,className:"w-full px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Pievienot jaunu klientu"}),e.jsxs("button",{onClick:()=>g(!0),className:"w-full px-4 py-2.5 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(Nt,{className:"w-4 h-4"}),"Izemt no rindas"]})]})]})]}),x&&e.jsx(Br,{lead:n,onConfirm:m,onClose:()=>g(!1)})]})},Ch=({allLeads:n,onSendOffer:i,onAcceptFromQueue:l,onViewLead:o,onCancelLead:u})=>{const[m,x]=j.useState(!1),[g,p]=j.useState(null),f=n.filter(w=>w.status===ye.QUEUE).sort((w,b)=>{const R=w.queuedDate||w.createdDate,v=b.queuedDate||b.createdDate;if(R!==v)return R.localeCompare(v);const E=w.queuedTime||w.createdTime||"00:00",_=b.queuedTime||b.createdTime||"00:00";return E.localeCompare(_)}),y=w=>{p(w),x(!0)},N=w=>{u(g.id,w),x(!1),p(null)},k=w=>{switch(w){case"single":return"Vienvietga";case"double":return"Divvietga";case"triple":return"Trsvietga";default:return w}};return e.jsxs(Ue,{maxWidth:"max-w-4xl",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(tr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gaidanas rinda"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[f.length," ",f.length===1?"klients gaida":"klienti gaida"]})]})]})}),f.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[e.jsx(tr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Rinda ir tuka"}),e.jsx("p",{className:"text-gray-600",children:"obrd neviens negaida rind. Klienti tiek pievienoti rindai, kad nav brvu vietu."})]}),e.jsx("div",{className:"space-y-3",children:f.map((w,b)=>{var _,D,O,q;const R=b+1,v=Hm(w),E=w.queueOfferSent;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-blue-700 font-bold",children:["#",R]})}),e.jsx(_r,{firstName:w.firstName,lastName:w.lastName,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[w.firstName," ",w.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:w.id})]}),E&&e.jsxs("span",{className:"flex-shrink-0 inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:[e.jsx(Fe,{className:"w-3 h-3"}),"Nostts"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-sm",children:[e.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 rounded font-medium",children:[(_=w.consultation)==null?void 0:_.careLevel,". lm."]}),e.jsx("span",{className:"text-gray-600",children:k((D=w.consultation)==null?void 0:D.roomType)}),((O=w.consultation)==null?void 0:O.hasDementia)&&e.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded text-xs",children:"Demence"})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_t,{className:"w-3 h-3"}),v," ",v===1?"diena":"dienas"," rind"]}),e.jsxs("span",{children:["Pievienots: ",w.queuedDate||w.createdDate]})]}),E&&w.queueOfferSentDate&&e.jsxs("p",{className:"mt-1 text-xs text-green-600",children:["Piedvjums nostts: ",w.queueOfferSentDate," ",w.queueOfferSentTime]})]}),e.jsxs("div",{className:"hidden sm:block text-right flex-shrink-0",children:[e.jsxs("p",{className:"text-lg font-bold text-green-600",children:[(q=w.consultation)==null?void 0:q.price," "]}),e.jsx("p",{className:"text-xs text-gray-500",children:"dien"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-gray-100",children:[E?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>l(w),className:"flex-1 sm:flex-none px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(Fe,{className:"w-4 h-4"}),"Apstiprint lgumu"]}),e.jsxs("button",{onClick:()=>i(w),className:"px-4 py-2 border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(wl,{className:"w-4 h-4"}),"Nostt vlreiz"]})]}):e.jsxs("button",{onClick:()=>i(w),className:"flex-1 sm:flex-none px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(Fr,{className:"w-4 h-4"}),"Nostt piedvjumu"]}),e.jsxs("button",{onClick:()=>o(w),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(Jo,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Skatt"})]}),e.jsxs("button",{onClick:()=>y(w),className:"px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(Nt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Izemt"})]})]})]},w.id)})}),m&&g&&e.jsx(Br,{lead:g,onConfirm:N,onClose:()=>{x(!1),p(null)}})]})},Ih=({allLeads:n,onAddNew:i,onSelectLead:l,filterView:o="all-leads"})=>{const[u,m]=j.useState(!1),x=n.length>0?[]:[{id:"L-2025-001",firstName:"Mrti",lastName:"Ozols",email:"martins.ozols@inbox.lv",phone:"+371 29111222",status:ye.AGREEMENT,createdDate:"2025-12-15",consultation:{careLevel:"3",price:77}},{id:"L-2025-002",firstName:"Lga",lastName:"Kalnia",email:"liga.k@gmail.com",phone:"+371 26333444",status:ye.QUEUE,createdDate:"2025-12-16",consultation:{careLevel:"2",price:70}},{id:"L-2025-003",firstName:"Jnis",lastName:"Brzi",email:"janis.b@outlook.com",phone:"+371 22555666",status:ye.CONSULTATION,createdDate:"2025-12-17",consultation:{careLevel:"1",price:65}},{id:"L-2025-004",firstName:"Anna",lastName:"Liepia",email:"anna.l@inbox.lv",phone:"+371 28777888",status:ye.PROSPECT,createdDate:"2025-12-18"}],g=n.length>0?n:x;let p=o==="queue"?g.filter(y=>y.status===ye.QUEUE):g;u||(p=p.filter(y=>y.status!==ye.CANCELLED));const f=o==="queue"?"Rinda":"Visi pieteikumi un klienti";return e.jsxs(Ue,{maxWidth:"max-w-5xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(wt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:f}),e.jsxs("p",{className:"text-sm text-gray-600",children:[p.length," ieraksti",n.length===0&&" (paraugdati)"]})]})]}),e.jsxs("button",{onClick:i,className:"w-full sm:w-auto px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(n0,{className:"w-4 h-4"}),"Jauns pieteikums"]})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer hover:text-gray-800 w-fit",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:y=>m(y.target.checked),className:"w-4 h-4 text-gray-600 border-gray-300 rounded focus:ring-gray-500"}),e.jsxs("span",{children:["Rdt atceltus pieteikumus (",g.filter(y=>y.status===ye.CANCELLED).length,")"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-3 lg:grid-cols-6 gap-2 sm:gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-orange-600",children:p.filter(y=>y.status===ye.PROSPECT).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Pieteikumi"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-600",children:p.filter(y=>y.status===ye.CONSULTATION).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Konsultcijas"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:p.filter(y=>y.status===ye.SURVEY_FILLED).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Anketas"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:p.filter(y=>y.status===ye.AGREEMENT).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Lgumi"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:p.filter(y=>y.status===ye.QUEUE).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Rind"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-600",children:p.filter(y=>y.status===ye.CANCELLED).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Atcelti"})]})]}),e.jsx("div",{className:"block md:hidden space-y-3",children:p.map(y=>{var k,w;const N=y.status===ye.CANCELLED;return e.jsxs("div",{className:N?"bg-white rounded-lg shadow-sm border border-gray-200 p-4 opacity-60 cursor-not-allowed":"bg-white rounded-lg shadow-sm border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>l(y),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_r,{firstName:y.firstName,lastName:y.lastName,size:"md"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[y.firstName," ",y.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:y.id})]})]}),e.jsx(hl,{status:y.status,showIcon:!1})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsx("p",{className:"text-gray-600",children:y.email}),e.jsx("p",{className:"text-gray-600",children:y.phone})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:y.createdDate}),e.jsxs("div",{className:"flex items-center gap-3",children:[((k=y.consultation)==null?void 0:k.careLevel)&&e.jsxs("span",{className:"text-gray-700",children:[y.consultation.careLevel,". lm."]}),((w=y.consultation)==null?void 0:w.price)&&e.jsxs("span",{className:"font-medium text-green-600",children:[y.consultation.price," /d"]})]})]})]},y.id)})}),e.jsx("div",{className:"hidden md:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Klients"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Kontakti"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Aprpe"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Cena"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Datums"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:p.map(y=>{var k,w;const N=y.status===ye.CANCELLED;return e.jsxs("tr",{className:N?"opacity-60 cursor-not-allowed":"hover:bg-gray-50 cursor-pointer",onClick:()=>l(y),children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_r,{firstName:y.firstName,lastName:y.lastName,size:"sm"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[y.firstName," ",y.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:y.id})]})]})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("p",{className:"text-sm text-gray-700",children:y.email}),e.jsx("p",{className:"text-xs text-gray-500",children:y.phone})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(hl,{status:y.status,showIcon:!1})}),e.jsx("td",{className:"px-4 py-3",children:(k=y.consultation)!=null&&k.careLevel?e.jsxs("span",{className:"text-sm text-gray-700",children:[y.consultation.careLevel,". lmenis"]}):e.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-3",children:(w=y.consultation)!=null&&w.price?e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[y.consultation.price," /d"]}):e.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-600",children:y.createdDate})})]},y.id)})})]})})})]})};function Rh({schedule:n,status:i,onRefuse:l}){if(!(n!=null&&n.enabled))return e.jsx("td",{className:"px-2 py-3 text-center text-gray-300",children:""});const{time:o,dose:u,unit:m}=n,x=()=>{const p="inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium";switch(i){case"given":return`${p} bg-teal-500 text-white`;case"refused":return`${p} bg-red-500 text-white`;case"skipped":return`${p} bg-gray-400 text-white`;case"pending":default:return`${p} bg-cyan-500 text-white`}},g=()=>i==="given"?e.jsx(us,{className:"w-3.5 h-3.5"}):i==="refused"?e.jsx(Ge,{className:"w-3.5 h-3.5"}):null;return e.jsx("td",{className:"px-2 py-3 text-center",children:e.jsxs("div",{className:x(),children:[e.jsx(g,{}),e.jsx("span",{children:o}),e.jsxs("span",{className:"font-bold",children:[u," ",m]}),i!=="refused"&&e.jsx("button",{onClick:p=>{p.stopPropagation(),l()},className:"ml-1.5 p-1 rounded-full bg-white hover:bg-red-50 transition-colors",title:"Atzmt atteikumu",children:e.jsx(Ge,{className:"w-3.5 h-3.5 text-red-500"})})]})})}const zr={morning:{key:"morning",label:"Rts",defaultTime:"08:00",order:1},noon:{key:"noon",label:"Diena",defaultTime:"12:00",order:2},evening:{key:"evening",label:"Vakars",defaultTime:"18:00",order:3},night:{key:"night",label:"Nakts",defaultTime:"21:00",order:4}},Vr=["morning","noon","evening","night"],Dh=[{value:"mg",label:"mg"},{value:"mcg",label:"mcg"},{value:"ml",label:"ml"},{value:"U",label:"U (vienbas)"},{value:"piece",label:"gab."},{value:"tab",label:"tab."},{value:"caps",label:"kaps."},{value:"drops",label:"pilieni"}],Th=[{value:"tabletes",label:"Tabletes"},{value:"kapsulas",label:"Kapsulas"},{value:"skidrums",label:"dums"},{value:"injekcijas",label:"Injekcijas"},{value:"pilieni",label:"Pilieni"},{value:"ziede",label:"Ziede"},{value:"aerosols",label:"Aerosols"},{value:"plastiris",label:"Plkstiris"},{value:"cits",label:"Cits"}],_h=[{value:"daily",label:"Katru dienu"},{value:"specific_days",label:"Noteikts diens"},{value:"as_needed",label:"Pc nepiecieambas"}],Ah=[{value:"monday",label:"Pirmdiena",short:"P"},{value:"tuesday",label:"Otrdiena",short:"O"},{value:"wednesday",label:"Trediena",short:"T"},{value:"thursday",label:"Ceturtdiena",short:"C"},{value:"friday",label:"Piektdiena",short:"Pk"},{value:"saturday",label:"Sestdiena",short:"S"},{value:"sunday",label:"Svtdiena",short:"Sv"}],Ph=["Rezidents atteics bez paskaidrojuma","Slikta da / vemana","Aizrijs ar zlm iepriek","Aleriska reakcija","Rezidents gu / nav modinms","Rezidents nav klt (rpus iestdes)","Cits iemesls"];function zh({prescription:n,administrationStatus:i,onRefuse:l}){const o=m=>m?new Date(m).toLocaleDateString("lv-LV",{year:"numeric",month:"long",day:"numeric"}):"",u=()=>{var m;if(n.frequency==="daily")return"Katru dienu";if(n.frequency==="as_needed")return"Pc nepiecieambas";if(n.frequency==="specific_days"&&((m=n.specificDays)!=null&&m.length)){const x={monday:"P",tuesday:"O",wednesday:"T",thursday:"C",friday:"Pk",saturday:"S",sunday:"Sv"};return n.specificDays.map(g=>x[g]).join(", ")}return""};return e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:n.medicationName}),n.activeIngredient&&e.jsx("div",{className:"text-sm text-gray-500",children:n.activeIngredient}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[n.frequency==="daily"?"Katru dienu":u(),", ",o(n.prescribedDate),n.validUntil&&`  ${o(n.validUntil)}`,!n.validUntil&&"  ldz im brdim"]}),n.instructions&&e.jsx("div",{className:"text-sm text-orange-600 italic mt-1",children:n.instructions}),n.conditional&&n.conditionText&&e.jsx("div",{className:"text-sm text-orange-600 italic mt-1",children:n.conditionText})]})}),Vr.map(m=>e.jsx(Rh,{schedule:n.schedule[m],status:(i==null?void 0:i[m])||"pending",onRefuse:()=>l(n,m)},m))]})}function Lh({prescription:n}){const i=l=>l?new Date(l).toLocaleDateString("lv-LV"):"";return e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsxs("td",{className:"px-3 py-2 border border-gray-200",children:[e.jsx("div",{className:"font-medium",children:n.medicationName}),n.activeIngredient&&e.jsx("div",{className:"text-sm text-gray-600",children:n.activeIngredient}),e.jsxs("div",{className:"text-xs text-gray-500",children:[i(n.prescribedDate),"  ldz im brdim"]}),n.instructions&&e.jsx("div",{className:"text-sm text-red-600 italic",children:n.instructions})]}),Vr.map(l=>{const o=n.schedule[l];return o!=null&&o.enabled?e.jsx("td",{className:"px-2 py-2 text-center border border-gray-200",children:e.jsxs("div",{className:"inline-flex flex-col items-center bg-cyan-500 text-white px-2 py-1 rounded text-sm",children:[e.jsx("span",{className:"text-xs",children:o.time}),e.jsxs("span",{className:"font-bold",children:[o.dose," ",o.unit]})]})},l):e.jsx("td",{className:"px-2 py-2 text-center border border-gray-200 text-gray-300",children:""},l)})]})}function Oh({prescriptions:n,onRefuse:i}){return!n||n.length===0?e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:"Nav aktvu ordinciju"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600 min-w-[350px]",children:"Preparta ordinana"}),Vr.map(l=>e.jsx("th",{className:"px-3 py-3 text-center text-sm font-medium text-gray-600 w-32",children:zr[l].label},l))]})}),e.jsx("tbody",{children:n.map(l=>{const o=Qm(l.id);return e.jsx(zh,{prescription:l,administrationStatus:o,onRefuse:i},l.id)})})]})})}function Mh({prescriptions:n}){return!n||n.length===0?e.jsx("div",{className:"text-gray-500 text-center py-4",children:"Nav aktvu ordinciju"}):e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold border border-gray-300 min-w-[250px]",children:"Preparta ordinana"}),Vr.map(i=>e.jsx("th",{className:"px-2 py-2 text-center text-sm font-semibold border border-gray-300 w-24",children:zr[i].label},i))]})}),e.jsx("tbody",{children:n.map(i=>e.jsx(Lh,{prescription:i},i.id))})]})}function $h({prescriptions:n,onRefuse:i}){return!n||n.length===0?e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:"Nav aktvu ordinciju"}):e.jsx("div",{className:"space-y-4",children:n.map(l=>{const o=Qm(l.id);return e.jsx(Fh,{prescription:l,administrationStatus:o,onRefuse:i},l.id)})})}function Fh({prescription:n,administrationStatus:i,onRefuse:l}){const o=x=>x?new Date(x).toLocaleDateString("lv-LV"):"",u=x=>{switch(x){case"given":return"bg-teal-500 text-white";case"refused":return"bg-red-500 text-white";case"skipped":return"bg-gray-400 text-white";default:return"bg-cyan-500 text-white"}},m=x=>x==="given"?" ":x==="refused"?" ":"";return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:n.medicationName}),n.activeIngredient&&e.jsx("div",{className:"text-sm text-gray-500",children:n.activeIngredient})]}),e.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Katru dienu, ",o(n.prescribedDate),"  ldz im brdim"]}),n.instructions&&e.jsx("div",{className:"text-sm text-orange-600 italic mb-3",children:n.instructions}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Vr.map(x=>{const g=n.schedule[x];if(!(g!=null&&g.enabled))return null;const p=(i==null?void 0:i[x])||"pending";return e.jsxs("div",{className:`px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-1 ${u(p)}`,children:[m(p),g.time," ",g.dose," ",g.unit,p!=="refused"&&e.jsx("button",{onClick:()=>l(n,x),className:"ml-1.5 p-1 rounded-full bg-white active:bg-red-50",title:"Atzmt atteikumu",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},x)})})]})}function Bh({allergies:n}){return!n||n.length===0?null:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-3",children:[e.jsx(jt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-red-800",children:"Alerijas: "}),e.jsx("span",{className:"text-red-700",children:n.join(", ")})]})]})}function Vh({allergies:n}){return!n||n.length===0?e.jsx("div",{className:"text-gray-500 text-sm",children:"Nav zinmu aleriju"}):e.jsxs("div",{className:"bg-red-100 border-2 border-red-500 rounded px-3 py-2",children:[e.jsx("span",{className:"font-bold text-red-800",children:"ALERIJAS: "}),e.jsx("span",{className:"text-red-700 font-semibold",children:n.join(", ")})]})}function Uh(n){const i={};return(!n.medicationName||n.medicationName.trim()==="")&&(i.medicationName="Medikamenta nosaukums ir obligts"),n.frequency!=="as_needed"&&(Object.values(n.schedule||{}).some(o=>o==null?void 0:o.enabled)||(i.schedule="Jnorda vismaz viens lietoanas laiks")),n.schedule&&Object.entries(n.schedule).forEach(([l,o])=>{o!=null&&o.enabled&&(!o.dose||o.dose.trim()===""?i[`schedule.${l}.dose`]="Deva ir obligta":isNaN(parseFloat(o.dose))&&(i[`schedule.${l}.dose`]="Devai jbt skaitlim"),(!o.unit||o.unit.trim()==="")&&(i[`schedule.${l}.unit`]="Mrvienba ir obligta"),(!o.time||o.time.trim()==="")&&(i[`schedule.${l}.time`]="Laiks ir obligts"))}),(!n.prescribedBy||n.prescribedBy.trim()==="")&&(i.prescribedBy="rsta vrds ir obligts"),n.prescribedDate||(i.prescribedDate="Ordinanas datums ir obligts"),n.frequency==="specific_days"&&(!n.specificDays||n.specificDays.length===0)&&(i.specificDays="Jnorda vismaz viena diena"),n.conditional&&(!n.conditionText||n.conditionText.trim()==="")&&(i.conditionText="Nosacjuma teksts ir obligts"),{isValid:Object.keys(i).length===0,errors:i}}function qh(n){const i={};return(!n.refusalReason||n.refusalReason.trim()==="")&&(i.refusalReason="Atteikuma iemesls ir obligts"),(!n.administeredBy||n.administeredBy.trim()==="")&&(i.administeredBy="Jnorda, kas atzmja atteikumu"),{isValid:Object.keys(i).length===0,errors:i}}function Hh(n){return{residentId:n,medicationName:"",activeIngredient:"",form:"tabletes",prescribedDate:new Date().toISOString().split("T")[0],prescribedBy:"",validUntil:"",schedule:{morning:{time:"08:00",dose:"",unit:"mg",enabled:!1},noon:{time:"12:00",dose:"",unit:"mg",enabled:!1},evening:{time:"18:00",dose:"",unit:"mg",enabled:!1},night:{time:"21:00",dose:"",unit:"mg",enabled:!1}},instructions:"",conditional:!1,conditionText:"",frequency:"daily",specificDays:[],notes:""}}function Kh(n){return{...n,validUntil:n.validUntil||"",instructions:n.instructions||"",conditionText:n.conditionText||"",notes:n.notes||""}}function Gh({resident:n,prescription:i,onSave:l,onClose:o}){const u=!!i,[m,x]=j.useState(()=>u?Kh(i):Hh(n.id)),[g,p]=j.useState({}),[f,y]=j.useState(!1);j.useEffect(()=>{const v=E=>{E.key==="Escape"&&o()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[o]);const N=(v,E)=>{x(_=>({..._,[v]:E})),g[v]&&p(_=>{const D={..._};return delete D[v],D})},k=(v,E,_)=>{x(D=>({...D,schedule:{...D.schedule,[v]:{...D.schedule[v],[E]:_}}}))},w=v=>{x(E=>({...E,schedule:{...E.schedule,[v]:{...E.schedule[v],enabled:!E.schedule[v].enabled}}}))},b=v=>{x(E=>{const _=E.specificDays||[];return _.includes(v)?{...E,specificDays:_.filter(D=>D!==v)}:{...E,specificDays:[..._,v]}})},R=async()=>{const v=Uh(m);if(!v.isValid){p(v.errors);return}y(!0);try{u?If(i.id,m):Cf(m),l()}catch(E){console.error("Error saving prescription:",E),p({submit:"Kda saglabjot. Ldzu miniet vlreiz."})}finally{y(!1)}};return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:o}),e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:u?"Redit ordinciju":"Jauna ordincija"}),e.jsx("button",{onClick:o,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ge,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(Zt,{className:"w-4 h-4"}),"Medikamenta informcija"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medikamenta nosaukums *"}),e.jsx("input",{type:"text",value:m.medicationName,onChange:v=>N("medicationName",v.target.value),placeholder:"Piem., L-Thyroxin Berlin-Chemie 50 mikrogramu tabletes",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${g.medicationName?"border-red-500":"border-gray-300"}`}),g.medicationName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.medicationName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aktv viela"}),e.jsx("input",{type:"text",value:m.activeIngredient,onChange:v=>N("activeIngredient",v.target.value),placeholder:"Piem., Levothyroxinum natricum",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zu forma"}),e.jsx("select",{value:m.form,onChange:v=>N("form",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:Th.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(ft,{className:"w-4 h-4"}),"Ordinanas informcija"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"rsts *"}),e.jsx("input",{type:"text",value:m.prescribedBy,onChange:v=>N("prescribedBy",v.target.value),placeholder:"Piem., Dr. Kalnia",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${g.prescribedBy?"border-red-500":"border-gray-300"}`}),g.prescribedBy&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.prescribedBy})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordinanas datums *"}),e.jsx("input",{type:"date",value:m.prescribedDate,onChange:v=>N("prescribedDate",v.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${g.prescribedDate?"border-red-500":"border-gray-300"}`}),g.prescribedDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.prescribedDate})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(_t,{className:"w-4 h-4"}),"Lietoanas grafiks"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bieums"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:_h.map(v=>e.jsx("button",{type:"button",onClick:()=>N("frequency",v.value),className:`px-4 py-2 rounded-lg border transition-colors ${m.frequency===v.value?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:border-orange-300"}`,children:v.label},v.value))})]}),m.frequency==="specific_days"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dienas"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ah.map(v=>{var E;return e.jsx("button",{type:"button",onClick:()=>b(v.value),className:`w-10 h-10 rounded-lg border font-medium transition-colors ${(E=m.specificDays)!=null&&E.includes(v.value)?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:border-orange-300"}`,title:v.label,children:v.short},v.value)})}),g.specificDays&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.specificDays})]}),m.frequency!=="as_needed"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lietoanas laiki *"}),g.schedule&&e.jsx("p",{className:"text-sm text-red-600",children:g.schedule}),Vr.map(v=>{var E,_,D,O,q,H;return e.jsx("div",{className:`border rounded-lg p-3 transition-colors ${(E=m.schedule[v])!=null&&E.enabled?"border-orange-300 bg-orange-50":"border-gray-200 bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:((_=m.schedule[v])==null?void 0:_.enabled)||!1,onChange:()=>w(v),className:"w-5 h-5 text-orange-500 rounded focus:ring-orange-500"}),e.jsx("span",{className:"font-medium text-gray-700 w-20",children:zr[v].label}),((D=m.schedule[v])==null?void 0:D.enabled)&&e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:"time",value:((O=m.schedule[v])==null?void 0:O.time)||zr[v].defaultTime,onChange:G=>k(v,"time",G.target.value),className:"px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),e.jsx("input",{type:"text",value:((q=m.schedule[v])==null?void 0:q.dose)||"",onChange:G=>k(v,"dose",G.target.value),placeholder:"Deva",className:"w-20 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),e.jsx("select",{value:((H=m.schedule[v])==null?void 0:H.unit)||"mg",onChange:G=>k(v,"unit",G.target.value),className:"px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:Dh.map(G=>e.jsx("option",{value:G.value,children:G.label},G.value))})]})]})},v)})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",checked:m.conditional||!1,onChange:v=>N("conditional",v.target.checked),className:"w-5 h-5 mt-0.5 text-orange-500 rounded focus:ring-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nosacta lietoana (pc nepiecieambas)"}),m.conditional&&e.jsx("input",{type:"text",value:m.conditionText||"",onChange:v=>N("conditionText",v.target.value),placeholder:"Piem., pie spm vai ja t>37,5C",className:`mt-2 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${g.conditionText?"border-red-500":"border-gray-300"}`}),g.conditionText&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.conditionText})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Papildu nordjumi"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"paas nordes (pardsies sarkan krs)"}),e.jsx("textarea",{value:m.instructions||"",onChange:v=>N("instructions",v.target.value),placeholder:"Piem., 1/2 tab., lietot ar dienu, u.c.",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Piezmes (iekjai lietoanai)"}),e.jsx("textarea",{value:m.notes||"",onChange:v=>N("notes",v.target.value),placeholder:"Papildu piezmes...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),g.submit&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700",children:g.submit})]})}),e.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:R,disabled:f,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"Saglab...":u?"Saglabt izmaias":"Pievienot ordinciju"})]})]})})]})}const Wh="Gints Fricbergs";function Qh({resident:n,prescription:i,timeSlot:l,onSave:o,onClose:u}){const[m,x]=j.useState(""),[g,p]=j.useState(""),[f,y]=j.useState(""),[N,k]=j.useState({}),[w,b]=j.useState(!1),R=Wh;j.useEffect(()=>{const O=q=>{q.key==="Escape"&&u()};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[u]);const v=()=>m==="custom"?g:m,E=async()=>{const O=v(),q=qh({refusalReason:O,administeredBy:R});if(!q.isValid){k(q.errors);return}b(!0);try{Df(i.id,n.id,l,O,R,f),o()}catch(H){console.error("Error saving refusal:",H),k({submit:"Kda saglabjot. Ldzu miniet vlreiz."})}finally{b(!1)}},_=zr[l],D=i.schedule[l];return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:u}),e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-red-50 rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:e.jsx(jt,{className:"w-5 h-5 text-red-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-red-900",children:"Atzmt atteikumu"})]}),e.jsx("button",{onClick:u,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white rounded-lg transition-colors",children:e.jsx(Ge,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"font-medium text-gray-900",children:i.medicationName}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[_==null?void 0:_.label," (",D==null?void 0:D.time,")  ",D==null?void 0:D.dose," ",D==null?void 0:D.unit]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Rezidents: ",n.firstName," ",n.lastName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Atteikuma iemesls *"}),e.jsxs("div",{className:"space-y-2",children:[Ph.map((O,q)=>e.jsxs("label",{className:`flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${m===O?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"refusalReason",value:O,checked:m===O,onChange:H=>x(H.target.value),className:"w-4 h-4 text-red-500 focus:ring-red-500"}),e.jsx("span",{className:"text-gray-700",children:O})]},q)),e.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${m==="custom"?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"refusalReason",value:"custom",checked:m==="custom",onChange:O=>x(O.target.value),className:"w-4 h-4 mt-1 text-red-500 focus:ring-red-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-gray-700",children:"Cits iemesls:"}),m==="custom"&&e.jsx("textarea",{value:g,onChange:O=>p(O.target.value),placeholder:"Aprakstiet iemeslu...",rows:2,className:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]})]}),N.refusalReason&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.refusalReason})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kas atzmja *"}),e.jsx("div",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-700",children:R})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Papildu piezmes"}),e.jsx("textarea",{value:f,onChange:O=>y(O.target.value),placeholder:"Piem., minsim vlreiz pusdiens...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),N.submit&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700",children:N.submit})]}),e.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200",children:[e.jsx("button",{onClick:u,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:E,disabled:w,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:w?"Saglab...":"Atzmt atteikumu"})]})]})})]})}function Jh({status:n,isToday:i=!1,onClick:l}){const u=(()=>{switch(n){case"complete":return{bg:"bg-teal-500",hoverBg:"hover:bg-teal-600",icon:e.jsx(us,{className:"w-4 h-4 text-white"}),title:"Visas devas iedotas"};case"refused":return{bg:"bg-red-500",hoverBg:"hover:bg-red-600",icon:e.jsx(Ge,{className:"w-4 h-4 text-white"}),title:"Ir atteikumi"};case"partial":return{bg:"bg-cyan-500",hoverBg:"hover:bg-cyan-600",icon:e.jsx(_t,{className:"w-4 h-4 text-white"}),title:"Daji iedots"};case"pending":return{bg:"bg-cyan-400",hoverBg:"hover:bg-cyan-500",icon:e.jsx(_t,{className:"w-4 h-4 text-white"}),title:"Gaida"};case"future":return{bg:"bg-gray-200",hoverBg:"hover:bg-gray-300",icon:e.jsx(Yf,{className:"w-4 h-4 text-gray-400"}),title:"Nkotne"};case"not_scheduled":return{bg:"bg-transparent",hoverBg:"",icon:null,title:"Nav ieplnots"};default:return{bg:"bg-gray-100",hoverBg:"",icon:null,title:""}}})();return n==="not_scheduled"?e.jsx("td",{className:"px-1 py-2 text-center",children:e.jsx("div",{className:"w-8 h-8 mx-auto"})}):e.jsx("td",{className:`px-1 py-2 text-center ${i?"bg-orange-50":""}`,children:e.jsx("button",{onClick:l,className:`w-8 h-8 rounded-full ${u.bg} ${u.hoverBg} flex items-center justify-center mx-auto transition-colors cursor-pointer`,title:u.title,children:u.icon})})}function Yh(){const n=[{status:"complete",label:"Iedots",color:"bg-teal-500"},{status:"refused",label:"Atteikums",color:"bg-red-500"},{status:"pending",label:"Gaida",color:"bg-cyan-400"},{status:"future",label:"Nkotne",color:"bg-gray-200"}];return e.jsx("div",{className:"flex flex-wrap gap-4 text-xs text-gray-600",children:n.map(i=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${i.color}`}),e.jsx("span",{children:i.label})]},i.status))})}function Zh({prescriptions:n,residentId:i,onDayClick:l}){const[o,u]=j.useState(0),m=j.useMemo(()=>{const w=new Date;return w.setDate(w.getDate()+o*7),Tf(w)},[o]),x=j.useMemo(()=>bl().filter(w=>w.residentId===i),[i]),g=new Date().toISOString().split("T")[0],p=w=>new Date(w).getDate(),f=()=>{const w=new Date(m[0]),b=new Date(m[6]),R=w.toLocaleDateString("lv-LV",{month:"short"}),v=b.toLocaleDateString("lv-LV",{month:"short"}),E=w.getFullYear();return R===v?`${R} ${E}`:`${R} - ${v} ${E}`},y=()=>u(w=>w-1),N=()=>u(w=>w+1),k=()=>u(0);return!n||n.length===0?e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:"Nav aktvu ordinciju"}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:y,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Iepriekj neda",children:e.jsx(Ff,{className:"w-4 h-4"})}),e.jsx("button",{onClick:N,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Nkam neda",children:e.jsx($n,{className:"w-4 h-4"})}),o!==0&&e.jsx("button",{onClick:k,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:" neda"})]}),e.jsx("div",{className:"text-sm font-medium text-gray-600",children:f()})]}),e.jsx(Yh,{}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600 min-w-[200px]",children:"Preparts"}),m.map((w,b)=>{const R=w===g;return e.jsxs("th",{className:`px-1 py-3 text-center text-sm font-medium w-12 ${R?"bg-orange-50":""}`,children:[e.jsx("div",{className:`${R?"text-orange-600":"text-gray-600"}`,children:_f[b]}),e.jsx("div",{className:`text-xs ${R?"text-orange-500 font-semibold":"text-gray-400"}`,children:p(w)})]},w)})]})}),e.jsx("tbody",{children:n.map(w=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:w.medicationName}),w.activeIngredient&&e.jsx("div",{className:"text-xs text-gray-500",children:w.activeIngredient}),e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:Xh(w.schedule)})]}),m.map((b,R)=>{const v=b===g,E=Af(w,b,x);return e.jsx(Jh,{status:E,isToday:v,onClick:()=>l&&l(w,b)},b)})]},w.id))})]})}),e.jsx("div",{className:"text-xs text-gray-400 text-center md:hidden",children:" Velciet, lai skattu vairk "})]})}function Xh(n){var l,o,u,m;const i=[];return(l=n.morning)!=null&&l.enabled&&i.push(n.morning.time||"Rts"),(o=n.noon)!=null&&o.enabled&&i.push(n.noon.time||"Diena"),(u=n.evening)!=null&&u.enabled&&i.push(n.evening.time||"Vakars"),(m=n.night)!=null&&m.enabled&&i.push(n.night.time||"Nakts"),i.join(", ")||"Nav laika"}const om=[{value:"7days",label:"Pdjs 7 dienas"},{value:"30days",label:"Pdjs 30 dienas"},{value:"90days",label:"Pdjs 90 dienas"},{value:"all",label:"Visi ieraksti"}],cm=[{value:"all",label:"Visi statusi"},{value:"given",label:"Iedotas"},{value:"refused",label:"Atteikumi"},{value:"skipped",label:"Izlaistas"}];function ey({filters:n,onFiltersChange:i,medications:l=[]}){var N,k,w;const[o,u]=j.useState(!1),m=b=>{i({...n,datePreset:b})},x=b=>{i({...n,status:b})},g=b=>{i({...n,medicationId:b})},p=b=>{i({...n,searchQuery:b})},f=()=>{i({datePreset:"7days",status:"all",medicationId:"",searchQuery:""})},y=n.datePreset!=="7days"||n.status!=="all"||n.medicationId||n.searchQuery;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Meklt medikamentu...",value:n.searchQuery||"",onChange:b=>p(b.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),n.searchQuery&&e.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Ge,{className:"w-4 h-4"})})]}),e.jsx("select",{value:n.datePreset||"7days",onChange:b=>m(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:om.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))}),e.jsx("select",{value:n.status||"all",onChange:b=>x(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:cm.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))}),e.jsxs("button",{onClick:()=>u(!o),className:`flex items-center gap-1 px-3 py-2 border rounded-lg text-sm transition-colors ${o||n.medicationId?"border-orange-300 bg-orange-50 text-orange-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(Wf,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Filtri"}),e.jsx(Mn,{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`})]}),y&&e.jsx("button",{onClick:f,className:"px-3 py-2 text-sm text-gray-500 hover:text-gray-700",children:"Notrt"})]}),o&&e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medikaments"}),e.jsxs("select",{value:n.medicationId||"",onChange:b=>g(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Visi medikamenti"}),l.map(b=>e.jsx("option",{value:b.id,children:b.medicationName},b.id))]})]})})}),y&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.datePreset!=="7days"&&e.jsx(cl,{label:(N=om.find(b=>b.value===n.datePreset))==null?void 0:N.label,onRemove:()=>m("7days")}),n.status!=="all"&&e.jsx(cl,{label:(k=cm.find(b=>b.value===n.status))==null?void 0:k.label,onRemove:()=>x("all")}),n.medicationId&&e.jsx(cl,{label:((w=l.find(b=>b.id===n.medicationId))==null?void 0:w.medicationName)||"Medikaments",onRemove:()=>g("")}),n.searchQuery&&e.jsx(cl,{label:`"${n.searchQuery}"`,onRemove:()=>p("")})]})]})}function cl({label:n,onRemove:i}){return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-700 rounded-full text-xs",children:[n,e.jsx("button",{onClick:i,className:"hover:bg-orange-200 rounded-full p-0.5",children:e.jsx(Ge,{className:"w-3 h-3"})})]})}function ty({residentId:n,prescriptions:i}){const[l,o]=j.useState({datePreset:"7days",status:"all",medicationId:"",searchQuery:""}),[u,m]=j.useState(null),x=j.useMemo(()=>{const k=zf(l.datePreset);return Pf(n,{...k,status:l.status,medicationId:l.medicationId,searchQuery:l.searchQuery})},[n,l]),g=j.useMemo(()=>{const k={};return x.forEach(w=>{k[w.date]||(k[w.date]=[]),k[w.date].push(w)}),k},[x]),p=k=>{const w=new Date(k),b=new Date().toISOString().split("T")[0],R=new Date;R.setDate(R.getDate()-1);const v=R.toISOString().split("T")[0];return k===b?"odien":k===v?"Vakar":w.toLocaleDateString("lv-LV",{weekday:"short",day:"numeric",month:"short"})},f=k=>new Date(k).toLocaleTimeString("lv-LV",{hour:"2-digit",minute:"2-digit"}),y=k=>{switch(k){case"given":return{icon:e.jsx(us,{className:"w-4 h-4"}),label:"Iedota",bgColor:"bg-teal-100",textColor:"text-teal-700",iconColor:"text-teal-600"};case"refused":return{icon:e.jsx(Ge,{className:"w-4 h-4"}),label:"Atteics",bgColor:"bg-red-100",textColor:"text-red-700",iconColor:"text-red-600"};case"skipped":return{icon:e.jsx(Xf,{className:"w-4 h-4"}),label:"Izlaista",bgColor:"bg-gray-100",textColor:"text-gray-700",iconColor:"text-gray-600"};default:return{icon:e.jsx(_t,{className:"w-4 h-4"}),label:"Nezinms",bgColor:"bg-gray-100",textColor:"text-gray-700",iconColor:"text-gray-600"}}},N=k=>{m(u===k?null:k)};return e.jsxs("div",{className:"space-y-4",children:[e.jsx(ey,{filters:l,onFiltersChange:o,medications:i}),e.jsx("div",{className:"text-sm text-gray-500",children:x.length===0?"Nav ierakstu":`${x.length} ierakst${x.length===1?"s":"i"}`}),Object.keys(g).length===0?e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:"Nav atrasti ieraksti ar izvltajiem filtriem"}):e.jsx("div",{className:"space-y-6",children:Object.entries(g).map(([k,w])=>e.jsxs("div",{children:[e.jsx("div",{className:"sticky top-0 bg-white py-2 mb-2 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:p(k)})}),e.jsx("div",{className:"space-y-2",children:w.map(b=>{var _;const R=y(b.status),v=u===b.id,E=b.refusalReason||b.notes;return e.jsxs("div",{className:`border rounded-lg overflow-hidden transition-colors ${b.status==="refused"?"border-red-200 bg-red-50":"border-gray-200 bg-white"}`,children:[e.jsxs("button",{onClick:()=>E&&N(b.id),className:`w-full flex items-center gap-3 p-3 text-left ${E?"cursor-pointer hover:bg-gray-50":"cursor-default"}`,children:[e.jsx("div",{className:`p-2 rounded-full ${R.bgColor} ${R.iconColor}`,children:R.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm truncate",children:b.medicationName}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(_=zr[b.timeSlot])==null?void 0:_.label,"  ",b.dose," ",b.unit]})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.bgColor} ${R.textColor}`,children:R.label}),E&&e.jsx("div",{className:"text-gray-400",children:v?e.jsx(Bf,{className:"w-4 h-4"}):e.jsx(Mn,{className:"w-4 h-4"})})]}),v&&E&&e.jsx("div",{className:"px-3 pb-3 pt-0 border-t border-gray-100",children:e.jsxs("div",{className:"ml-11 space-y-2 text-sm",children:[b.refusalReason&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Iemesls: "}),e.jsx("span",{className:"text-red-700",children:b.refusalReason})]}),b.notes&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Piezmes: "}),e.jsx("span",{className:"text-gray-700",children:b.notes})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Atzmja: ",b.administeredBy,"  ",f(b.administeredAt)]})]})}),!v&&e.jsxs("div",{className:"px-3 pb-2 text-xs text-gray-400 ml-11",children:[b.administeredBy,"  ",f(b.administeredAt)]})]},b.id)})})]},k))})]})}const sy=[{id:"pamatinfo",label:"Pamatinformcija",disabled:!0},{id:"izmitinasana",label:"Izmitinana",disabled:!0},{id:"veseliba",label:"Veselbas aprpe",disabled:!1},{id:"sociala",label:"Socil aprpe",disabled:!0},{id:"aprupe",label:"Aprpe",disabled:!0},{id:"pielikumi",label:"Pielikumi",disabled:!0},{id:"papild",label:"Papildpakalpojumi",disabled:!0}];function ry({resident:n,onBack:i,onPrint:l,onDataChange:o}){const[u,m]=j.useState(()=>zo(n==null?void 0:n.id)),[x,g]=j.useState("veseliba"),[p,f]=j.useState(!1),[y,N]=j.useState(null),[k,w]=j.useState(!1),[b,R]=j.useState(null),[v,E]=j.useState("today"),_=()=>{n&&(m(zo(n.id)),o==null||o())},D=()=>{N(null),f(!0)},O=(V,ne)=>{R({prescription:V,timeSlot:ne}),w(!0)},q=()=>{f(!1),N(null),_()},H=()=>{w(!1),R(null),_()},G=V=>{if(!V)return null;const ne=new Date,ce=new Date(V);let me=ne.getFullYear()-ce.getFullYear();const ve=ne.getMonth()-ce.getMonth();return(ve<0||ve===0&&ne.getDate()<ce.getDate())&&me--,me};if(!n)return e.jsx(Ue,{children:e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Nav izvlts rezidents"})});const ee=G(n.birthDate);return e.jsxs(Ue,{children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("button",{onClick:i,className:"hover:text-gray-900",children:"Rezidenti"}),e.jsx($n,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-gray-900",children:[n.firstName," ",n.lastName]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-orange-100 border-2 border-orange-300 flex items-center justify-center flex-shrink-0",children:e.jsx(ft,{className:"w-10 h-10 text-orange-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:[n.firstName," ",n.lastName]}),e.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-sm font-medium rounded border border-orange-200",children:n.careLevel||"GI 2"})]}),e.jsxs("div",{className:"text-gray-600 mt-1",children:[n.personalCode||"120351-00000"," (",ee," gadi)"]})]})]}),e.jsxs("button",{onClick:l,className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Yo,{className:"w-4 h-4"}),"Drukt"]})]})}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:sy.map(V=>e.jsx("button",{onClick:()=>!V.disabled&&g(V.id),disabled:V.disabled,className:`
                px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors
                ${x===V.id?"text-orange-600 border-orange-500":V.disabled?"text-gray-400 border-transparent cursor-not-allowed":"text-gray-600 border-transparent hover:text-gray-900 hover:border-gray-300"}
              `,children:V.label},V.id))})}),n.allergies&&n.allergies.length>0&&e.jsx("div",{className:"mb-6",children:e.jsx(Bh,{allergies:n.allergies})}),x==="veseliba"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Diagnozes"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Pdjais ieraksts: "})]}),e.jsx("button",{className:"w-10 h-10 bg-orange-500 hover:bg-orange-600 text-white rounded-lg flex items-center justify-center transition-colors",children:e.jsx(Xs,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-8 text-center text-gray-500 text-sm",children:"Nav pievienotu diagnou"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Msas apskate"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Pdjais ieraksts: "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50",children:"Vsture"}),e.jsx("button",{className:"w-10 h-10 bg-orange-500 hover:bg-orange-600 text-white rounded-lg flex items-center justify-center transition-colors",children:e.jsx(Xs,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"px-6 py-8 text-center text-gray-500 text-sm",children:"Nav veikta msias apskate"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Ordincijas plns"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Pdjais ieraksts: ",new Date().toLocaleDateString("lv-LV")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>E("today"),className:`px-3 py-2 text-sm transition-colors ${v==="today"?"bg-orange-100 text-orange-700 border-r border-orange-200":"text-gray-700 hover:bg-gray-50 border-r border-gray-300"}`,children:"odien"}),e.jsxs("button",{onClick:()=>E("week"),className:`px-3 py-2 text-sm flex items-center gap-1 transition-colors ${v==="week"?"bg-orange-100 text-orange-700 border-r border-orange-200":"text-gray-700 hover:bg-gray-50 border-r border-gray-300"}`,children:[e.jsx(Mr,{className:"w-4 h-4"}),"Neda"]}),e.jsxs("button",{onClick:()=>E("history"),className:`px-3 py-2 text-sm flex items-center gap-1 transition-colors ${v==="history"?"bg-orange-100 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(Xm,{className:"w-4 h-4"}),"Vsture"]})]}),e.jsx("button",{onClick:D,className:"w-10 h-10 bg-orange-500 hover:bg-orange-600 text-white rounded-lg flex items-center justify-center transition-colors",children:e.jsx(Xs,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"p-4",children:[v==="today"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block -m-4",children:e.jsx(Oh,{prescriptions:u,onRefuse:O})}),e.jsx("div",{className:"block md:hidden",children:e.jsx($h,{prescriptions:u,onRefuse:O})})]}),v==="week"&&e.jsx(Zh,{prescriptions:u,residentId:n.id,onDayClick:(V,ne)=>{console.log("Day clicked:",V.medicationName,ne)}}),v==="history"&&e.jsx(ty,{residentId:n.id,prescriptions:u})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Vakcincija"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Pdjais ieraksts: "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50",children:"Vsture"}),e.jsx("button",{className:"w-10 h-10 bg-orange-500 hover:bg-orange-600 text-white rounded-lg flex items-center justify-center transition-colors",children:e.jsx(Xs,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"px-6 py-8 text-center text-gray-500 text-sm",children:"Nav pievienotu vakcinciju"})]})]}),p&&e.jsx(Gh,{resident:n,prescription:y,onSave:q,onClose:()=>{f(!1),N(null)}}),k&&b&&e.jsx(Qh,{resident:n,prescription:b.prescription,timeSlot:b.timeSlot,onSave:H,onClose:()=>{w(!1),R(null)}}),e.jsx("div",{className:"fixed bottom-4 left-4 z-30 print:hidden",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg px-3 py-2 shadow-sm flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-100 text-cyan-600 flex items-center justify-center",children:e.jsx(ft,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Sistmas loma"}),e.jsx("div",{className:"text-sm font-medium text-gray-800",children:"Medmsa vai aprpes msa"})]})]})})]})}function ny({vitals:n}){if(!n)return null;const i=[{label:"T",value:n.temperature,unit:"C"},{label:"AS",value:n.bloodPressure,unit:""},{label:"P",value:n.pulse,unit:""},{label:"SpO2",value:n.oxygen,unit:"%"},{label:"Svars",value:n.weight,unit:"kg"}];return n.bloodSugar&&i.push({label:"Cukurs",value:n.bloodSugar,unit:"mmol/L"}),e.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm",children:i.map((l,o)=>e.jsxs("span",{children:[e.jsxs("span",{className:"font-medium",children:[l.label,":"]})," ",l.value!==void 0?`${l.value}${l.unit}`:""]},o))})}function ay({resident:n,onBack:i}){var g;const l=n?zo(n.id):[],o=p=>p?new Date(p).toLocaleDateString("lv-LV"):"",u=()=>new Date().toLocaleDateString("lv-LV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=p=>{if(!p)return"";const f=new Date,y=new Date(p);let N=f.getFullYear()-y.getFullYear();const k=f.getMonth()-y.getMonth();return(k<0||k===0&&f.getDate()<y.getDate())&&N--,N},x=()=>{window.print()};return j.useEffect(()=>{const p=setTimeout(()=>{},100);return()=>clearTimeout(p)},[]),n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"print:hidden bg-gray-100 border-b border-gray-200 px-4 py-3 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[e.jsxs("button",{onClick:i,className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(rr,{className:"w-4 h-4 mr-2"}),"Atpaka"]}),e.jsxs("button",{onClick:x,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(Yo,{className:"w-4 h-4"}),"Printt"]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto p-8 print:p-4 print:max-w-none bg-white",children:[e.jsx("div",{className:"border-b-2 border-gray-800 pb-4 mb-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ORDINCIJAS PLNS"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Neatliekams medicnisks paldzbas vajadzbm"})]}),e.jsxs("div",{className:"text-right text-sm text-gray-600",children:[e.jsxs("div",{children:["Izdrukts: ",u()]}),e.jsx("div",{className:"font-semibold text-gray-900 mt-1",children:"ADORO Rezidence"})]})]})}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200 print:bg-white",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Rezidents"}),e.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[n.firstName," ",n.lastName]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Personas kods"}),e.jsx("div",{className:"text-lg font-mono font-semibold",children:n.personalCode||""})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Dzimanas datums"}),e.jsx("div",{className:"font-medium",children:o(n.birthDate)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Vecums"}),e.jsxs("div",{className:"font-medium",children:[m(n.birthDate)," gadi"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Istaba"}),e.jsx("div",{className:"font-medium",children:n.roomNumber})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Aprpes lmenis"}),e.jsx("div",{className:"font-medium",children:n.careLevel})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-red-600",children:""})," ALERIJAS"]}),e.jsx(Vh,{allergies:n.allergies})]}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200 print:bg-white",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-900 mb-2",children:["PDJIE VITLIE RDTJI",((g=n.vitals)==null?void 0:g.measuredAt)&&e.jsxs("span",{className:"font-normal text-gray-500 ml-2",children:["(",o(n.vitals.measuredAt),")"]})]}),e.jsx(ny,{vitals:n.vitals})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"AKTVS ORDINCIJAS"}),e.jsx(Mh,{prescriptions:l})]}),e.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 text-sm text-gray-500 print:mt-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:["Kop aktvas ordincijas: ",e.jsx("strong",{children:l.length})]}),e.jsx("div",{children:"Dokuments enerts automtiski no ADORO sistmas"})]})})]}),e.jsx("style",{children:`
        @media print {
          body {
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
          }

          .print\\:hidden {
            display: none !important;
          }

          .print\\:p-4 {
            padding: 1rem !important;
          }

          .print\\:max-w-none {
            max-width: none !important;
          }

          .print\\:bg-white {
            background-color: white !important;
          }

          .print\\:mt-4 {
            margin-top: 1rem !important;
          }

          @page {
            size: A4;
            margin: 1cm;
          }

          /* Ensure table doesn't break across pages */
          table {
            page-break-inside: avoid;
          }

          tr {
            page-break-inside: avoid;
          }
        }
      `})]}):e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Nav izvlts rezidents"})}const Se={RESIDENTS:"adorable-residents",DIAGNOSES:"adorable-diagnoses",VITALS_LOG:"adorable-vitals-log",VACCINATIONS:"adorable-vaccinations",ASSESSMENTS_DOCTOR:"adorable-assessments-doctor",ASSESSMENTS_NURSE:"adorable-assessments-nurse",ASSESSMENTS_PSYCH:"adorable-assessments-psych",ASSESSMENTS_PHYSIO:"adorable-assessments-physio",RISK_MORSE:"adorable-risk-morse",RISK_BRADEN:"adorable-risk-braden",RISK_BARTHEL:"adorable-risk-barthel",TECHNICAL_AIDS:"adorable-technical-aids"},dm={active:{value:"active",label:"Aktvs",color:"green",bgColor:"bg-green-100",textColor:"text-green-700"},discharged:{value:"discharged",label:"Izrakstts",color:"gray",bgColor:"bg-gray-100",textColor:"text-gray-700"},deceased:{value:"deceased",label:"Miris",color:"gray",bgColor:"bg-gray-100",textColor:"text-gray-500"}},um={GIR1:{value:"GIR1",label:"GIR 1 - oti augsta atkarba",description:"Pilnb atkargs, nepiecieama pastvga paldzba",level:1},GIR2:{value:"GIR2",label:"GIR 2 - Augsta atkarba",description:"Nepiecieama ievrojama paldzba ikdienas aktivitts",level:2},GIR3:{value:"GIR3",label:"GIR 3 - Vidja atkarba",description:"Saglabta daja neatkarba, nepiecieama regulra paldzba",level:3},GIR4:{value:"GIR4",label:"GIR 4 - Zema atkarba",description:"Lielkoties neatkargs, nepiecieama neliela paldzba",level:4},GIR5:{value:"GIR5",label:"GIR 5 - Minimla atkarba",description:"Neatkargs ikdienas aktivitts, periodiski nepiecieama uzraudzba",level:5},GIR6:{value:"GIR6",label:"GIR 6 - Neatkargs",description:"Pilnb neatkargs, nav nepiecieama paldzba",level:6}},mm={active:{value:"active",label:"Aktva",bgColor:"bg-blue-100",textColor:"text-blue-700"},resolved:{value:"resolved",label:"Atrisinta",bgColor:"bg-gray-100",textColor:"text-gray-500"},chronic:{value:"chronic",label:"Hroniska",bgColor:"bg-yellow-100",textColor:"text-yellow-700"}},ly={morse:{value:"morse",label:"Morsa skala",fullName:"Kritienu riska novrtjums pc Morsa skalas",description:"Krituma riska novrtjums",maxScore:125,levels:[{min:0,max:24,level:"low",label:"Zems risks",color:"green"},{min:25,max:50,level:"medium",label:"Vidjs risks",color:"yellow"},{min:51,max:125,level:"high",label:"Augsts risks",color:"red"}]},braden:{value:"braden",label:"Bradena skala",fullName:"Izguljumu riska noteikana pc Bradena skalas",description:"Spiediena las riska novrtjums",maxScore:23,levels:[{min:19,max:23,level:"low",label:"Zems risks",color:"green"},{min:15,max:18,level:"medium",label:"Vidjs risks",color:"yellow"},{min:13,max:14,level:"high",label:"Augsts risks",color:"orange"},{min:6,max:12,level:"very_high",label:"oti augsts risks",color:"red"}]},barthel:{value:"barthel",label:"Bartela indekss",fullName:"Personu paaprpes un mobilittes spju novrtjums pc Bartela indeksa",description:"Ikdienas aktivitu novrtjums",maxScore:100,levels:[{min:0,max:20,level:"total",label:"Pilnga atkarba",color:"red"},{min:21,max:60,level:"severe",label:"Smaga atkarba",color:"orange"},{min:61,max:90,level:"moderate",label:"Vidja atkarba",color:"yellow"},{min:91,max:99,level:"slight",label:"Neliela atkarba",color:"blue"},{min:100,max:100,level:"independent",label:"Neatkargs",color:"green"}]}},iy={temperature:{min:35.5,max:37.5,unit:"C"},bloodPressureSystolic:{min:90,max:140,unit:"mmHg"},bloodPressureDiastolic:{min:60,max:90,unit:"mmHg"},pulse:{min:60,max:100,unit:"sitieni/min"},oxygen:{min:95,max:100,unit:"%"},bloodSugar:{min:4,max:7,unit:"mmol/L"}},ot={ROOMS:"adorable-rooms",BEDS:"adorable-beds",OCCUPANCY_LOG:"adorable-occupancy-log"},Oo={available:{value:"available",label:"Pieejama",color:"green",bgColor:"bg-green-100",textColor:"text-green-700"},occupied:{value:"occupied",label:"Aizemta",color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-700"},maintenance:{value:"maintenance",label:"Remonts",color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-700"},reserved:{value:"reserved",label:"Rezervta",color:"purple",bgColor:"bg-purple-100",textColor:"text-purple-700"}},i0={free:{value:"free",label:"Brva",color:"green",bgColor:"bg-green-100",textColor:"text-green-700"},occupied:{value:"occupied",label:"Aizemta",color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-700"},reserved:{value:"reserved",label:"Rezervta",color:"purple",bgColor:"bg-purple-100",textColor:"text-purple-700"}},Jt={single:{value:"single",label:"Vienvietga",bedCount:1},double:{value:"double",label:"Divvietga",bedCount:2},triple:{value:"triple",label:"Trsvietga",bedCount:3}},Xo=[{value:1,label:"1. stvs"},{value:2,label:"2. stvs"},{value:3,label:"3. stvs"}],o0={window:{value:"window",label:"Logs",icon:"Sun"},bathroom:{value:"bathroom",label:"Vannasistaba",icon:"Bath"},balcony:{value:"balcony",label:"Balkons",icon:"Home"},tv:{value:"tv",label:"TV",icon:"Tv"},aircon:{value:"aircon",label:"Kondicionieris",icon:"Wind"}},c0=[{id:"ROOM-101",number:"101",floor:1,type:"single",bedCount:1,status:"available",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-102",number:"102",floor:1,type:"double",bedCount:2,status:"available",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-103",number:"103",floor:1,type:"double",bedCount:2,status:"available",features:["window"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-104",number:"104",floor:1,type:"triple",bedCount:3,status:"available",features:["window","bathroom","tv"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-105",number:"105",floor:1,type:"single",bedCount:1,status:"maintenance",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-201",number:"201",floor:2,type:"single",bedCount:1,status:"available",features:["window","bathroom","balcony"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-202",number:"202",floor:2,type:"double",bedCount:2,status:"available",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-203",number:"203",floor:2,type:"double",bedCount:2,status:"available",features:["window","bathroom","tv"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-204",number:"204",floor:2,type:"triple",bedCount:3,status:"available",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-205",number:"205",floor:2,type:"single",bedCount:1,status:"available",features:["window","bathroom","balcony","tv"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-301",number:"301",floor:3,type:"single",bedCount:1,status:"available",features:["window","bathroom","aircon"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-302",number:"302",floor:3,type:"double",bedCount:2,status:"available",features:["window","bathroom","aircon"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-303",number:"303",floor:3,type:"double",bedCount:2,status:"available",features:["window","bathroom","tv","aircon"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-304",number:"304",floor:3,type:"triple",bedCount:3,status:"available",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-305",number:"305",floor:3,type:"single",bedCount:1,status:"available",features:["window","bathroom","balcony","tv","aircon"],createdAt:"2024-01-01T00:00:00.000Z"}],ec=n=>{const i=[];return n.forEach(l=>{for(let o=1;o<=l.bedCount;o++)i.push({id:`BED-${l.number}-${o}`,roomId:l.id,bedNumber:o,status:"free",residentId:null,reservedFor:null,assignedAt:null})}),i};ec(c0);function tc(){const n=localStorage.getItem(ot.ROOMS),i=localStorage.getItem(ot.BEDS);if(n||localStorage.setItem(ot.ROOMS,JSON.stringify(c0)),!i){const l=JSON.parse(localStorage.getItem(ot.ROOMS)||"[]"),o=ec(l);localStorage.setItem(ot.BEDS,JSON.stringify(o))}}function Hn(){return tc(),JSON.parse(localStorage.getItem(ot.ROOMS)||"[]")}function sc(n){return Hn().find(l=>l.id===n)||null}function oy(n){var x;const i=Hn(),l=Kn(),o={id:`ROOM-${n.number}`,number:n.number,floor:n.floor,type:n.type,bedCount:((x=Jt[n.type])==null?void 0:x.bedCount)||1,status:n.status||"available",features:n.features||[],createdAt:new Date().toISOString()};if(i.some(g=>g.number===o.number))throw new Error(`Istaba ${o.number} jau eksist`);i.push(o),localStorage.setItem(ot.ROOMS,JSON.stringify(i));const u=ec([o]),m=[...l,...u];return localStorage.setItem(ot.BEDS,JSON.stringify(m)),o}function cy(n,i){var x;const l=Hn(),o=l.findIndex(g=>g.id===n);if(o===-1)throw new Error("Istaba nav atrasta");const u=l[o],m={...u,...i,id:u.id,updatedAt:new Date().toISOString()};if(i.type&&i.type!==u.type){const g=((x=Jt[i.type])==null?void 0:x.bedCount)||u.bedCount;m.bedCount=g,dy(n,g)}return l[o]=m,localStorage.setItem(ot.ROOMS,JSON.stringify(l)),m}function d0(){const n=Hn(),i=Kn();return n.map(l=>{const o=i.filter(g=>g.roomId===l.id),u=o.filter(g=>g.status==="free").length,m=o.filter(g=>g.status==="occupied").length,x=o.filter(g=>g.status==="reserved").length;return{...l,beds:o,freeBeds:u,occupiedBeds:m,reservedBeds:x,isFullyOccupied:u===0,occupancyPercent:Math.round(m/l.bedCount*100)}})}function Kn(){return tc(),JSON.parse(localStorage.getItem(ot.BEDS)||"[]")}function dy(n,i){const l=Kn(),o=l.filter(x=>x.roomId===n),u=l.filter(x=>x.roomId!==n),m=sc(n);if(i<o.length){if(o.filter(f=>f.status!=="free").length>i)throw new Error("Nevar samazint gultu skaitu - ir aizemtas gultas");const g=o.slice(0,i),p=[...u,...g];localStorage.setItem(ot.BEDS,JSON.stringify(p))}else if(i>o.length){const x=[];for(let p=o.length+1;p<=i;p++)x.push({id:`BED-${m.number}-${p}`,roomId:n,bedNumber:p,status:"free",residentId:null,reservedFor:null,assignedAt:null});const g=[...l,...x];localStorage.setItem(ot.BEDS,JSON.stringify(g))}}function u0(n,i,l){var x;const o=Kn(),u=`BED-${(x=sc(n))==null?void 0:x.number}-${i}`,m=o.findIndex(g=>g.id===u);if(m===-1)throw new Error("Gulta nav atrasta");if(o[m].status==="occupied")throw new Error("Gulta jau ir aizemta");return o[m]={...o[m],status:"occupied",residentId:l,reservedFor:null,assignedAt:new Date().toISOString()},localStorage.setItem(ot.BEDS,JSON.stringify(o)),my(n,i,"book",l),o[m]}function uy(){const n=Hn(),i=Kn(),l=n.length,o=i.length,u=i.filter(N=>N.status==="occupied").length,m=i.filter(N=>N.status==="reserved").length,x=i.filter(N=>N.status==="free").length,g=n.filter(N=>N.status==="maintenance").length,p=o>0?Math.round(u/o*100):0,f=[1,2,3].map(N=>{const k=n.filter(R=>R.floor===N),w=i.filter(R=>{const v=n.find(E=>E.id===R.roomId);return(v==null?void 0:v.floor)===N}),b=w.filter(R=>R.status==="occupied").length;return{floor:N,rooms:k.length,beds:w.length,occupied:b,free:w.filter(R=>R.status==="free").length,occupancyRate:w.length>0?Math.round(b/w.length*100):0}}),y=Object.keys(Jt).map(N=>{const k=n.filter(R=>R.type===N),w=i.filter(R=>{const v=n.find(E=>E.id===R.roomId);return(v==null?void 0:v.type)===N}),b=w.filter(R=>R.status==="occupied").length;return{type:N,label:Jt[N].label,rooms:k.length,beds:w.length,occupied:b,occupancyRate:w.length>0?Math.round(b/w.length*100):0}});return{totalRooms:l,totalBeds:o,occupiedBeds:u,reservedBeds:m,freeBeds:x,maintenanceRooms:g,occupancyRate:p,byFloor:f,byType:y}}function my(n,i,l,o){const u=JSON.parse(localStorage.getItem(ot.OCCUPANCY_LOG)||"[]");u.push({id:`OCC-${Date.now()}`,roomId:n,bedNumber:i,action:l,residentId:o,timestamp:new Date().toISOString()}),u.length>1e3&&u.splice(0,u.length-1e3),localStorage.setItem(ot.OCCUPANCY_LOG,JSON.stringify(u))}function xy(){localStorage.getItem(Se.RESIDENTS)||localStorage.setItem(Se.RESIDENTS,JSON.stringify([]))}function El(){return xy(),JSON.parse(localStorage.getItem(Se.RESIDENTS)||"[]").sort((i,l)=>i.lastName.localeCompare(l.lastName))}function py(){return El().filter(i=>i.status==="active")}function gy(n){return El().find(l=>l.id===n)||null}function fy(n){return El().find(l=>l.leadId===n)||null}function hy(){const n=Date.now(),i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`RES-${n}-${i}`}function yy(n,i,l){var g;if(!n)throw new Error("Nav nordti lda dati");if(!i||!l)throw new Error("Nav nordta istaba vai gulta");if(fy(n.id))throw new Error("Rezidents jau ir izveidots no  lda");const u=sc(i);if(!u)throw new Error("Istaba nav atrasta");const m=El(),x={id:hy(),firstName:n.firstName||"",lastName:n.lastName||"",phone:n.phone||"",email:n.email||"",birthDate:n.birthDate||null,personalCode:n.personalCode||"",gender:n.gender||null,street:n.street||"",city:n.city||"",postalCode:n.postalCode||"",leadId:n.id,agreementNumber:n.agreementNumber||null,careLevel:((g=n.consultation)==null?void 0:g.careLevel)||"GIR3",roomId:i,roomNumber:u.number,bedNumber:l,allergies:n.allergies||[],photo:null,contactPerson:n.clientFirstName?{firstName:n.clientFirstName||"",lastName:n.clientLastName||"",relationship:n.relationship||"",phone:n.clientPhone||"",email:n.clientEmail||""}:null,status:"active",admissionDate:new Date().toISOString(),dischargeDate:null,dischargeReason:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return u0(i,l,x.id),m.push(x),localStorage.setItem(Se.RESIDENTS,JSON.stringify(m)),x}function vy(n){if(!n)return null;const i=new Date,l=new Date(n);let o=i.getFullYear()-l.getFullYear();const u=i.getMonth()-l.getMonth();return(u<0||u===0&&i.getDate()<l.getDate())&&o--,o}function xm(n){return n?`${n.firstName||""} ${n.lastName||""}`.trim():""}function pm({onSelectResident:n,onBack:i,mode:l="prescriptions"}){const[o,u]=j.useState([]),[m,x]=j.useState("");j.useEffect(()=>{const f=l==="profile"?py():Wm();u(f)},[l]);const g=o.filter(f=>{var k,w;if(!m)return!0;const y=m.toLowerCase();return`${f.firstName} ${f.lastName}`.toLowerCase().includes(y)||((k=f.roomNumber)==null?void 0:k.toLowerCase().includes(y))||((w=f.personalCode)==null?void 0:w.includes(y))}),p=f=>{if(!f)return null;const y=new Date,N=new Date(f);let k=y.getFullYear()-N.getFullYear();const w=y.getMonth()-N.getMonth();return(w<0||w===0&&y.getDate()<N.getDate())&&k--,k};return e.jsxs(Ue,{children:[e.jsxs("div",{className:"mb-6",children:[i&&e.jsxs("button",{onClick:i,className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(rr,{className:"w-4 h-4 mr-2"}),"Atpaka"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l==="profile"?"Rezidenti":"Ordincijas plns"}),e.jsx("p",{className:"text-gray-600 mt-1",children:l==="profile"?"Izvlieties rezidentu, lai atvrtu profilu":"Izvlieties rezidentu, lai skattu ordincijas plnu"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Sl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:m,onChange:f=>x(f.target.value),placeholder:"Meklt rezidentu pc vrda, istabas vai personas koda...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})}),e.jsx("div",{className:"space-y-3",children:g.length===0?e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:m?"Nav atrasti rezidenti ar iem meklanas kritrijiem":"Nav pievienotu rezidentu"}):g.map(f=>{var k,w;const y=p(f.birthDate),N=f.allergies&&f.allergies.length>0;return e.jsx("button",{onClick:()=>n(f),className:"w-full bg-white border border-gray-200 rounded-lg p-4 hover:border-orange-300 hover:shadow-md transition-all text-left group",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 text-lg font-bold flex-shrink-0",children:[(k=f.firstName)==null?void 0:k[0],(w=f.lastName)==null?void 0:w[0]]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-gray-900",children:[f.firstName," ",f.lastName]}),N&&e.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-xs rounded-full",children:"Alerijas"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-500 mt-1",children:[e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(cs,{className:"w-3.5 h-3.5"}),"Istaba ",f.roomNumber]}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx($r,{className:"w-3.5 h-3.5"}),f.careLevel]}),y&&e.jsxs("span",{children:[y," gadi"]})]})]}),e.jsx($n,{className:"w-5 h-5 text-gray-400 group-hover:text-orange-500 transition-colors"})]})},f.id)})}),e.jsx("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded",children:e.jsx(ft,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Demo rems"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"is ir prototips ar demonstrcijas datiem. Relaj sistm rezidenti tiktu ieldti no datubzes."})]})]})})]})}const Ve={BULK_INVENTORY:"adorable-inventory-bulk",RESIDENT_INVENTORY:"adorable-inventory-resident",TRANSFERS:"adorable-inventory-transfers",RECEIPTS:"adorable-inventory-receipts",DISPENSE_LOG:"adorable-inventory-dispense-log"},gm={available:{value:"available",label:"Pieejams",color:"green",bgColor:"bg-green-100",textColor:"text-green-700"},low:{value:"low",label:"Zems krjums",color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-700"},expired:{value:"expired",label:"Beidzies dergums",color:"red",bgColor:"bg-red-100",textColor:"text-red-700"},depleted:{value:"depleted",label:"Izlietots",color:"gray",bgColor:"bg-gray-100",textColor:"text-gray-500"}},by={bulk_transfer:{value:"bulk_transfer",label:"No noliktavas",icon:"ArrowRight"},relatives:{value:"relatives",label:"Radinieki atnesa",icon:"Users"}},Ny={four_day_prep:{value:"4_day_preparation",label:"4 dienu sagatavoana"},replenishment:{value:"replenishment",label:"Papildinana"},emergency:{value:"emergency",label:"rkrtas"}},jy=[{value:"family",label:"imenes loceklis"},{value:"friend",label:"Draugs"},{value:"caregiver",label:"Aprptjs"},{value:"other",label:"Cits"}],Mo={EXPIRATION_WARNING_DAYS:30,EXPIRATION_CRITICAL_DAYS:7},fm=20,Cl="Gints Fricbergs",m0=({status:n,size:i="default"})=>{const l=gm[n]||gm.available,o={small:"px-1.5 py-0.5 text-xs",default:"px-2 py-1 text-sm",large:"px-3 py-1.5 text-base"},u={small:"w-3 h-3",default:"w-4 h-4",large:"w-5 h-5"},m=()=>{switch(n){case"available":return e.jsx(Fe,{className:`${u[i]} text-green-600`});case"low":return e.jsx(jt,{className:`${u[i]} text-yellow-600`});case"expired":return e.jsx(Nt,{className:`${u[i]} text-red-600`});case"depleted":return e.jsx(Vf,{className:`${u[i]} text-gray-500`});default:return e.jsx(Fe,{className:`${u[i]} text-green-600`})}};return e.jsxs("span",{className:`
        inline-flex items-center gap-1 rounded-full font-medium
        ${l.bgColor} ${l.textColor}
        ${o[i]}
      `,children:[m(),l.label]})},wy=({items:n,onTransfer:i,onView:l})=>{const o=m=>m?new Date(m).toLocaleDateString("lv-LV",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",u=m=>{if(!m)return null;const x=new Date,g=new Date(m),p=Math.ceil((g-x)/(1e3*60*60*24));return p<=0?"text-red-600 font-bold":p<=7?"text-red-500":p<=30?"text-yellow-600":""};return!n||n.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"Nav medikamentu noliktav"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medikaments"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Partija"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Daudzums"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dergums"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statuss"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Darbbas"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(m=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:m.medicationName}),e.jsx("p",{className:"text-xs text-gray-500 truncate max-w-xs",children:m.activeIngredient})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-600 font-mono",children:m.batchNumber||"-"})}),e.jsxs("td",{className:"px-4 py-3 text-right",children:[e.jsx("span",{className:`text-sm font-semibold ${m.quantity===0?"text-red-600":m.quantity<=m.minimumStock?"text-yellow-600":"text-gray-900"}`,children:m.quantity}),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:m.unit})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`text-sm ${u(m.expirationDate)}`,children:o(m.expirationDate)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(m0,{status:m.status,size:"small"})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l&&e.jsx("button",{onClick:()=>l(m),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Skatt detaas",children:e.jsx(Jo,{className:"w-4 h-4"})}),i&&m.quantity>0&&e.jsxs("button",{onClick:()=>i(m),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-orange-600 hover:text-orange-700 hover:bg-orange-50 rounded transition-colors",title:"Prvietot uz rezidenta noliktavu",children:[e.jsx(er,{className:"w-3 h-3"}),"Prvietot"]})]})})]},m.id))})]})})},$o=({alerts:n,onAlertClick:i,compact:l=!1})=>{if(!n||n.length===0)return null;const o=(g,p)=>{const f=p==="critical"?"text-red-500":"text-yellow-500",y=l?"w-4 h-4":"w-5 h-5";switch(g){case"low_stock":return e.jsx(nr,{className:`${y} ${f}`});case"depleted":return e.jsx(Nt,{className:`${y} ${f}`});case"expired":return e.jsx(Nt,{className:`${y} ${f}`});case"expiring_soon":return e.jsx(_t,{className:`${y} ${f}`});default:return e.jsx(jt,{className:`${y} ${f}`})}},u=g=>g==="critical"?"bg-red-50 border-red-200 text-red-800":"bg-yellow-50 border-yellow-200 text-yellow-800",m=n.filter(g=>g.severity==="critical"),x=n.filter(g=>g.severity==="warning");return l?e.jsxs("div",{className:"flex items-center gap-2",children:[m.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium",children:[e.jsx(Nt,{className:"w-3 h-3"}),m.length," kritisks"]}),x.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:[e.jsx(jt,{className:"w-3 h-3"}),x.length," brdinjums"]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4 text-yellow-500"}),"Brdinjumi (",n.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.map((g,p)=>{var f,y,N;return e.jsxs("div",{onClick:()=>i&&i(g),className:`
              flex items-start gap-3 p-3 rounded-lg border
              ${u(g.severity)}
              ${i?"cursor-pointer hover:opacity-80 transition-opacity":""}
            `,children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o(g.type,g.severity)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:((f=g.item)==null?void 0:f.medicationName)||"Nezinms medikaments"}),e.jsx("p",{className:"text-xs opacity-80 mt-0.5",children:g.message}),g.daysRemaining!==void 0&&e.jsxs("p",{className:"text-xs opacity-60 mt-1",children:["Atlikus dienas: ",g.daysRemaining]})]}),((y=g.item)==null?void 0:y.quantity)!==void 0&&e.jsxs("div",{className:"flex-shrink-0 text-right",children:[e.jsx("span",{className:"text-sm font-bold",children:g.item.quantity}),e.jsx("span",{className:"text-xs opacity-70 ml-1",children:g.item.unit})]})]},`${((N=g.item)==null?void 0:N.id)||p}-${g.type}`)})})]})},rc=new Date,it=rc.toISOString().split("T")[0];function X(n){const i=new Date(rc);return i.setDate(i.getDate()-n),i.toISOString().split("T")[0]}function Te(n){const i=new Date(rc);return i.setMonth(i.getMonth()+n),i.toISOString().split("T")[0]}const ky=[{id:"BI-001",medicationName:"L-Thyroxin Berlin-Chemie 50 mikrogramu tabletes",activeIngredient:"Levothyroxinum natricum",form:"tabletes",batchNumber:"LT2024-A89",expirationDate:Te(18),quantity:500,unit:"tabletes",unitCost:.08,receivedDate:X(30),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:50,createdAt:X(30)+"T10:00:00",updatedAt:X(30)+"T10:00:00"},{id:"BI-002",medicationName:"Somnols 7,5 mg apvalkots tabletes",activeIngredient:"Zopiclonum",form:"tabletes",batchNumber:"SOM2024-B12",expirationDate:Te(12),quantity:200,unit:"tabletes",unitCost:.15,receivedDate:X(45),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:30,createdAt:X(45)+"T10:00:00",updatedAt:X(45)+"T10:00:00"},{id:"BI-003",medicationName:"Nateo D3 vit.cap 4000 SV",activeIngredient:"Cholecalciferolum",form:"kapsulas",batchNumber:"NAT2024-C45",expirationDate:Te(24),quantity:300,unit:"kapsulas",unitCost:.12,receivedDate:X(20),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:40,createdAt:X(20)+"T10:00:00",updatedAt:X(20)+"T10:00:00"},{id:"BI-004",medicationName:"Verospiron 25 mg tabletes",activeIngredient:"Spironolactonum",form:"tabletes",batchNumber:"VER2024-D78",expirationDate:Te(8),quantity:150,unit:"tabletes",unitCost:.1,receivedDate:X(60),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:30,createdAt:X(60)+"T10:00:00",updatedAt:X(60)+"T10:00:00"},{id:"BI-005",medicationName:"NovoMix 30 FlexPen",activeIngredient:"Insulinum aspartum",form:"injekcijas",batchNumber:"NOV2024-E01",expirationDate:Te(6),quantity:10,unit:"pildspalvas",unitCost:25,receivedDate:X(15),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:3,createdAt:X(15)+"T10:00:00",updatedAt:X(15)+"T10:00:00"},{id:"BI-006",medicationName:"Paracetamol Accord 500 mg tabletes",activeIngredient:"Paracetamolum",form:"tabletes",batchNumber:"PAR2024-F34",expirationDate:Te(36),quantity:1e3,unit:"tabletes",unitCost:.03,receivedDate:X(90),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:100,createdAt:X(90)+"T10:00:00",updatedAt:X(90)+"T10:00:00"},{id:"BI-007",medicationName:"Torasemid HEXAL 50 mg tabletes",activeIngredient:"Torasemidum",form:"tabletes",batchNumber:"TOR2024-G56",expirationDate:Te(10),quantity:80,unit:"tabletes",unitCost:.18,receivedDate:X(40),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:20,createdAt:X(40)+"T10:00:00",updatedAt:X(40)+"T10:00:00"},{id:"BI-008",medicationName:"Regulax Picosulphate 7,23 mg/ml pilieni",activeIngredient:"Natrii picosulfas",form:"pilieni",batchNumber:"REG2024-H89",expirationDate:Te(14),quantity:5,unit:"pudeles",unitCost:4.5,receivedDate:X(25),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:2,createdAt:X(25)+"T10:00:00",updatedAt:X(25)+"T10:00:00"},{id:"BI-009",medicationName:"Olanzapine Accord 5 mg apvalkots tabletes",activeIngredient:"Olanzapinum",form:"tabletes",batchNumber:"OLA2024-I12",expirationDate:Te(16),quantity:120,unit:"tabletes",unitCost:.22,receivedDate:X(50),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:20,createdAt:X(50)+"T10:00:00",updatedAt:X(50)+"T10:00:00"},{id:"BI-010",medicationName:"Metformin Accord 500 mg tabletes",activeIngredient:"Metforminum",form:"tabletes",batchNumber:"MET2024-J45",expirationDate:Te(20),quantity:400,unit:"tabletes",unitCost:.05,receivedDate:X(35),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:60,createdAt:X(35)+"T10:00:00",updatedAt:X(35)+"T10:00:00"},{id:"BI-011",medicationName:"Lisinopril Actavis 10 mg tabletes",activeIngredient:"Lisinoprilum",form:"tabletes",batchNumber:"LIS2024-K78",expirationDate:Te(22),quantity:250,unit:"tabletes",unitCost:.07,receivedDate:X(55),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:30,createdAt:X(55)+"T10:00:00",updatedAt:X(55)+"T10:00:00"},{id:"BI-012",medicationName:"Atorvastatin Teva 20 mg tabletes",activeIngredient:"Atorvastatinum",form:"tabletes",batchNumber:"ATO2024-L01",expirationDate:Te(15),quantity:180,unit:"tabletes",unitCost:.09,receivedDate:X(28),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:30,createdAt:X(28)+"T10:00:00",updatedAt:X(28)+"T10:00:00"},{id:"BI-013",medicationName:"Aspirin Cardio 100 mg tabletes",activeIngredient:"Acidum acetylsalicylicum",form:"tabletes",batchNumber:"ASP2024-M34",expirationDate:Te(4),quantity:15,unit:"tabletes",unitCost:.04,receivedDate:X(100),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"low",minimumStock:30,createdAt:X(100)+"T10:00:00",updatedAt:it+"T10:00:00"},{id:"BI-014",medicationName:"Omeprazole Actavis 20 mg kapsulas",activeIngredient:"Omeprazolum",form:"kapsulas",batchNumber:"OME2023-N56",expirationDate:X(-20),quantity:45,unit:"kapsulas",unitCost:.11,receivedDate:X(180),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:20,createdAt:X(180)+"T10:00:00",updatedAt:X(180)+"T10:00:00"}],Sy=[{id:"RI-001",residentId:"R-001",medicationName:"L-Thyroxin Berlin-Chemie 50 mikrogramu tabletes",activeIngredient:"Levothyroxinum natricum",form:"tabletes",batchNumber:"LT2024-A89",expirationDate:Te(18),quantity:8,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-001",prescriptionId:"P-001",status:"available",minimumStock:4,lastDispenseDate:it,createdAt:X(4)+"T10:00:00",updatedAt:it+"T08:00:00"},{id:"RI-002",residentId:"R-001",medicationName:"Somnols 7,5 mg apvalkots tabletes",activeIngredient:"Zopiclonum",form:"tabletes",batchNumber:"SOM2024-B12",expirationDate:Te(12),quantity:6,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-002",prescriptionId:"P-002",status:"available",minimumStock:4,lastDispenseDate:X(1),createdAt:X(4)+"T10:00:00",updatedAt:X(1)+"T21:00:00"},{id:"RI-003",residentId:"R-001",medicationName:"Verospiron 25 mg tabletes",activeIngredient:"Spironolactonum",form:"tabletes",batchNumber:"VER2024-D78",expirationDate:Te(8),quantity:5,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-004",prescriptionId:"P-004",status:"available",minimumStock:4,lastDispenseDate:it,createdAt:X(4)+"T10:00:00",updatedAt:it+"T08:30:00"},{id:"RI-004",residentId:"R-001",medicationName:"NovoMix 30 FlexPen",activeIngredient:"Insulinum aspartum",form:"injekcijas",batchNumber:"NOV2024-E01",expirationDate:Te(6),quantity:1,unit:"pildspalvas",source:"bulk_transfer",sourceId:"BI-005",prescriptionId:"P-005",status:"available",minimumStock:1,lastDispenseDate:it,createdAt:X(4)+"T10:00:00",updatedAt:it+"T08:35:00"},{id:"RI-005",residentId:"R-001",medicationName:"Olanzapine Accord 5 mg apvalkots tabletes",activeIngredient:"Olanzapinum",form:"tabletes",batchNumber:"OLA2024-I12",expirationDate:Te(16),quantity:7,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-009",prescriptionId:"P-009",status:"available",minimumStock:4,lastDispenseDate:X(1),createdAt:X(4)+"T10:00:00",updatedAt:X(1)+"T20:30:00"},{id:"RI-006",residentId:"R-001",medicationName:"Nateo D3 vit.cap 4000 SV",activeIngredient:"Cholecalciferolum",form:"kapsulas",batchNumber:"NAT2024-C45",expirationDate:Te(24),quantity:2,unit:"kapsulas",source:"bulk_transfer",sourceId:"BI-003",prescriptionId:"P-003",status:"low",minimumStock:4,lastDispenseDate:X(1),createdAt:X(4)+"T10:00:00",updatedAt:X(1)+"T12:30:00"},{id:"RI-007",residentId:"R-002",medicationName:"Metformin Accord 500 mg tabletes",activeIngredient:"Metforminum",form:"tabletes",batchNumber:"MET2024-J45",expirationDate:Te(20),quantity:14,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-010",prescriptionId:"P-010",status:"available",minimumStock:8,lastDispenseDate:it,createdAt:X(4)+"T10:00:00",updatedAt:it+"T08:05:00"},{id:"RI-008",residentId:"R-002",medicationName:"Lisinopril Actavis 10 mg tabletes",activeIngredient:"Lisinoprilum",form:"tabletes",batchNumber:"LIS2024-K78",expirationDate:Te(22),quantity:6,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-011",prescriptionId:"P-011",status:"available",minimumStock:4,lastDispenseDate:it,createdAt:X(4)+"T10:00:00",updatedAt:it+"T08:05:00"},{id:"RI-009",residentId:"R-002",medicationName:"Omega-3 Fish Oil kapsulas",activeIngredient:"Omega-3 fatty acids",form:"kapsulas",batchNumber:"OMG2024-X99",expirationDate:Te(12),quantity:30,unit:"kapsulas",source:"relatives",sourceId:"ER-001",prescriptionId:null,status:"available",minimumStock:10,lastDispenseDate:null,createdAt:X(7)+"T14:00:00",updatedAt:X(7)+"T14:00:00"},{id:"RI-010",residentId:"R-003",medicationName:"Atorvastatin Teva 20 mg tabletes",activeIngredient:"Atorvastatinum",form:"tabletes",batchNumber:"ATO2024-L01",expirationDate:Te(15),quantity:8,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-012",prescriptionId:"P-012",status:"available",minimumStock:4,lastDispenseDate:X(1),createdAt:X(4)+"T10:00:00",updatedAt:X(1)+"T21:00:00"}],Ey=[{id:"TR-001",bulkItemId:"BI-001",residentId:"R-001",residentInventoryId:"RI-001",medicationName:"L-Thyroxin Berlin-Chemie 50 mikrogramu tabletes",quantity:8,unit:"tabletes",transferredBy:"Msa Ilze",transferredAt:X(4)+"T10:00:00",reason:"4_day_preparation",notes:"4 dienu sagatavoana"},{id:"TR-002",bulkItemId:"BI-002",residentId:"R-001",residentInventoryId:"RI-002",medicationName:"Somnols 7,5 mg apvalkots tabletes",quantity:8,unit:"tabletes",transferredBy:"Msa Ilze",transferredAt:X(4)+"T10:05:00",reason:"4_day_preparation",notes:"4 dienu sagatavoana"},{id:"TR-003",bulkItemId:"BI-010",residentId:"R-002",residentInventoryId:"RI-007",medicationName:"Metformin Accord 500 mg tabletes",quantity:16,unit:"tabletes",transferredBy:"Msa Anna",transferredAt:X(4)+"T10:30:00",reason:"4_day_preparation",notes:"4 dienu sagatavoana - 2x dien"},{id:"TR-004",bulkItemId:"BI-012",residentId:"R-003",residentInventoryId:"RI-010",medicationName:"Atorvastatin Teva 20 mg tabletes",quantity:8,unit:"tabletes",transferredBy:"Msa Lga",transferredAt:X(4)+"T11:00:00",reason:"4_day_preparation",notes:"4 dienu sagatavoana"}],Cy=[{id:"ER-001",residentId:"R-002",residentInventoryId:"RI-009",medicationName:"Omega-3 Fish Oil kapsulas",activeIngredient:"Omega-3 fatty acids",form:"kapsulas",batchNumber:"OMG2024-X99",expirationDate:Te(12),quantity:30,unit:"kapsulas",broughtBy:"Dls Jnis",relationship:"family",receivedBy:"Msa Anna",receivedAt:X(7)+"T14:00:00",notes:"Radinieks atnesa papildus vitamnus"}],Iy=[{id:"DL-001",residentInventoryId:"RI-001",residentId:"R-001",prescriptionId:"P-001",administrationLogId:"MA-TODAY-1",quantityDispensed:1,unit:"tabletes",dispensedAt:it+"T07:35:00",timeSlot:"morning",type:"auto_dispense",previousQuantity:9,newQuantity:8},{id:"DL-002",residentInventoryId:"RI-003",residentId:"R-001",prescriptionId:"P-004",administrationLogId:"MA-TODAY-2",quantityDispensed:1,unit:"tabletes",dispensedAt:it+"T08:32:00",timeSlot:"morning",type:"auto_dispense",previousQuantity:6,newQuantity:5},{id:"DL-003",residentInventoryId:"RI-007",residentId:"R-002",prescriptionId:"P-010",administrationLogId:"MA-TODAY-5",quantityDispensed:1,unit:"tabletes",dispensedAt:it+"T08:05:00",timeSlot:"morning",type:"auto_dispense",previousQuantity:15,newQuantity:14},{id:"DL-004",residentInventoryId:"RI-008",residentId:"R-002",prescriptionId:"P-011",administrationLogId:"MA-TODAY-6",quantityDispensed:1,unit:"tabletes",dispensedAt:it+"T08:05:00",timeSlot:"morning",type:"auto_dispense",previousQuantity:7,newQuantity:6}];function Ry(){const n=[{name:"Bisoprolol Actavis 5 mg tabletes",ingredient:"Bisoprololum",form:"tabletes",unit:"tabletes",cost:.06},{name:"Amlodipine Teva 5 mg tabletes",ingredient:"Amlodipinum",form:"tabletes",unit:"tabletes",cost:.04},{name:"Furosemid Polpharma 40 mg tabletes",ingredient:"Furosemidum",form:"tabletes",unit:"tabletes",cost:.05},{name:"Pantoprazole Actavis 40 mg tabletes",ingredient:"Pantoprazolum",form:"tabletes",unit:"tabletes",cost:.08},{name:"Xarelto 20 mg tabletes",ingredient:"Rivaroxabanum",form:"tabletes",unit:"tabletes",cost:2.5}],i=n[Math.floor(Math.random()*n.length)],l=`XML${Date.now().toString(36).toUpperCase()}`;return{medicationName:i.name,activeIngredient:i.ingredient,form:i.form,batchNumber:l,expirationDate:Te(Math.floor(Math.random()*24)+6),quantity:Math.floor(Math.random()*200)+50,unit:i.unit,unitCost:i.cost,supplier:"Recipe Plus"}}function Il(){localStorage.getItem(Ve.BULK_INVENTORY)||localStorage.setItem(Ve.BULK_INVENTORY,JSON.stringify(ky)),localStorage.getItem(Ve.RESIDENT_INVENTORY)||localStorage.setItem(Ve.RESIDENT_INVENTORY,JSON.stringify(Sy)),localStorage.getItem(Ve.TRANSFERS)||localStorage.setItem(Ve.TRANSFERS,JSON.stringify(Ey)),localStorage.getItem(Ve.RECEIPTS)||localStorage.setItem(Ve.RECEIPTS,JSON.stringify(Cy)),localStorage.getItem(Ve.DISPENSE_LOG)||localStorage.setItem(Ve.DISPENSE_LOG,JSON.stringify(Iy))}function Rl(n){const i=Date.now().toString(36),l=Math.random().toString(36).substring(2,8);return`${n}-${i}-${l}`.toUpperCase()}function Os(){Il();const n=localStorage.getItem(Ve.BULK_INVENTORY);return n?JSON.parse(n):[]}function x0(n){return Os().find(l=>l.id===n)||null}function Dy(n){const i=Os(),l=new Date().toISOString(),o={id:Rl("BI"),medicationName:n.medicationName,activeIngredient:n.activeIngredient||"",form:n.form||"tabletes",batchNumber:n.batchNumber||"",expirationDate:n.expirationDate,quantity:n.quantity||0,unit:n.unit||"tabletes",unitCost:n.unitCost||0,receivedDate:n.receivedDate||l.split("T")[0],receivedFrom:n.receivedFrom||"manual",supplier:n.supplier||"",status:Dl(n.quantity,n.minimumStock||fm,n.expirationDate),minimumStock:n.minimumStock||fm,createdAt:l,updatedAt:l};return i.push(o),localStorage.setItem(Ve.BULK_INVENTORY,JSON.stringify(i)),o}function Ty(n,i){const l=Os(),o=l.findIndex(m=>m.id===n);if(o===-1)return null;const u={...l[o],...i,status:Dl(i.quantity??l[o].quantity,i.minimumStock??l[o].minimumStock,i.expirationDate??l[o].expirationDate),updatedAt:new Date().toISOString()};return l[o]=u,localStorage.setItem(Ve.BULK_INVENTORY,JSON.stringify(l)),u}function _y(n,i){const l=x0(n);if(!l)return null;const o=Math.max(0,l.quantity+i);return Ty(n,{quantity:o})}function Ay(n){const i=Os();if(!n)return i;const l=n.toLowerCase();return i.filter(o=>o.medicationName.toLowerCase().includes(l)||o.activeIngredient.toLowerCase().includes(l)||o.batchNumber.toLowerCase().includes(l))}function p0(){const n=Os(),i=new Date,l=[];return n.forEach(o=>{if(o.quantity<=o.minimumStock&&o.quantity>0&&l.push({type:"low_stock",severity:o.quantity<=o.minimumStock/2?"critical":"warning",item:o,message:`Zems krjums: ${o.medicationName} (${o.quantity} ${o.unit})`}),o.quantity===0&&l.push({type:"depleted",severity:"critical",item:o,message:`Izlietots: ${o.medicationName}`}),o.expirationDate){const u=new Date(o.expirationDate),m=Math.ceil((u-i)/(1e3*60*60*24));m<=0?l.push({type:"expired",severity:"critical",item:o,message:`Beidzies dergums: ${o.medicationName}`}):m<=Mo.EXPIRATION_CRITICAL_DAYS?l.push({type:"expiring_soon",severity:"critical",item:o,daysRemaining:m,message:`Drz beigsies dergums (${m} dienas): ${o.medicationName}`}):m<=Mo.EXPIRATION_WARNING_DAYS&&l.push({type:"expiring_soon",severity:"warning",item:o,daysRemaining:m,message:`Beigsies dergums (${m} dienas): ${o.medicationName}`})}}),l.sort((o,u)=>o.severity==="critical"&&u.severity!=="critical"?-1:o.severity!=="critical"&&u.severity==="critical"?1:0),l}function zs(n=null){Il();const i=localStorage.getItem(Ve.RESIDENT_INVENTORY),l=i?JSON.parse(i):[];return n?l.filter(o=>o.residentId===n):l}function g0(n){const i=zs(),l=new Date().toISOString(),o={id:Rl("RI"),residentId:n.residentId,medicationName:n.medicationName,activeIngredient:n.activeIngredient||"",form:n.form||"tabletes",batchNumber:n.batchNumber||"",expirationDate:n.expirationDate,quantity:n.quantity||0,unit:n.unit||"tabletes",source:n.source||"bulk_transfer",sourceId:n.sourceId||null,prescriptionId:n.prescriptionId||null,status:Dl(n.quantity,n.minimumStock||4,n.expirationDate),minimumStock:n.minimumStock||4,lastDispenseDate:null,createdAt:l,updatedAt:l};return i.push(o),localStorage.setItem(Ve.RESIDENT_INVENTORY,JSON.stringify(i)),o}function f0(n,i){const l=zs(),o=l.findIndex(m=>m.id===n);if(o===-1)return null;const u={...l[o],...i,status:Dl(i.quantity??l[o].quantity,i.minimumStock??l[o].minimumStock,i.expirationDate??l[o].expirationDate),updatedAt:new Date().toISOString()};return l[o]=u,localStorage.setItem(Ve.RESIDENT_INVENTORY,JSON.stringify(l)),u}function Fo(n){const i=zs(n),l=new Date,o=[];return i.forEach(u=>{if(u.quantity<=u.minimumStock&&u.quantity>0&&o.push({type:"low_stock",severity:u.quantity<=2?"critical":"warning",item:u,message:`Zems krjums: ${u.medicationName} (${u.quantity} ${u.unit})`}),u.quantity===0&&o.push({type:"depleted",severity:"critical",item:u,message:`Nav krjum: ${u.medicationName}`}),u.expirationDate){const m=new Date(u.expirationDate),x=Math.ceil((m-l)/(1e3*60*60*24));x<=0?o.push({type:"expired",severity:"critical",item:u,message:`Beidzies dergums: ${u.medicationName}`}):x<=Mo.EXPIRATION_CRITICAL_DAYS&&o.push({type:"expiring_soon",severity:"critical",item:u,daysRemaining:x,message:`Drz beigsies dergums: ${u.medicationName}`})}}),o}function Py(n=null){Il();const i=localStorage.getItem(Ve.TRANSFERS),l=i?JSON.parse(i):[];return n?l.filter(o=>o.residentId===n):l}function zy(n,i,l,o="4_day_preparation",u=""){const m=x0(n);if(!m)throw new Error("Bulk inventory item not found");if(m.quantity<l)throw new Error("Insufficient quantity in bulk inventory");const x=new Date().toISOString();let g=zs(i).find(y=>y.medicationName===m.medicationName&&y.batchNumber===m.batchNumber);g?g=f0(g.id,{quantity:g.quantity+l}):g=g0({residentId:i,medicationName:m.medicationName,activeIngredient:m.activeIngredient,form:m.form,batchNumber:m.batchNumber,expirationDate:m.expirationDate,quantity:l,unit:m.unit,source:"bulk_transfer",sourceId:n,prescriptionId:null,minimumStock:4}),_y(n,-l);const p=Py(),f={id:Rl("TR"),bulkItemId:n,residentId:i,residentInventoryId:g.id,medicationName:m.medicationName,quantity:l,unit:m.unit,transferredBy:Cl,transferredAt:x,reason:o,notes:u};return p.push(f),localStorage.setItem(Ve.TRANSFERS,JSON.stringify(p)),{transfer:f,residentItem:g}}function Ly(n=null){Il();const i=localStorage.getItem(Ve.RECEIPTS),l=i?JSON.parse(i):[];return n?l.filter(o=>o.residentId===n):l}function Oy(n,i){const l=new Date().toISOString(),o=g0({residentId:n,medicationName:i.medicationName,activeIngredient:i.activeIngredient||"",form:i.form||"tabletes",batchNumber:i.batchNumber||"",expirationDate:i.expirationDate,quantity:i.quantity,unit:i.unit||"tabletes",source:"relatives",sourceId:null,prescriptionId:i.prescriptionId||null,minimumStock:4}),u=Ly(),m={id:Rl("ER"),residentId:n,residentInventoryId:o.id,medicationName:i.medicationName,activeIngredient:i.activeIngredient||"",form:i.form||"tabletes",batchNumber:i.batchNumber||"",expirationDate:i.expirationDate,quantity:i.quantity,unit:i.unit||"tabletes",broughtBy:i.broughtBy||"",relationship:i.relationship||"family",receivedBy:Cl,receivedAt:l,notes:i.notes||""};return u.push(m),localStorage.setItem(Ve.RECEIPTS,JSON.stringify(u)),f0(o.id,{sourceId:m.id}),{receipt:m,residentItem:o}}function Dl(n,i,l){if(n===0)return"depleted";if(l){const o=new Date;if(new Date(l)<=o)return"expired"}return n<=i?"low":"available"}function My(){const n=Os(),i=zs(),l=p0();return{bulk:{totalItems:n.length,totalQuantity:n.reduce((o,u)=>o+u.quantity,0),lowStockCount:n.filter(o=>o.status==="low").length,depletedCount:n.filter(o=>o.status==="depleted").length,expiringCount:l.filter(o=>o.type==="expiring_soon").length,expiredCount:l.filter(o=>o.type==="expired").length},resident:{totalItems:i.length,residentsWithInventory:[...new Set(i.map(o=>o.residentId))].length},alerts:{total:l.length,critical:l.filter(o=>o.severity==="critical").length,warning:l.filter(o=>o.severity==="warning").length}}}function $y(n){const i=zs(n),l=Fo(n);return{totalItems:i.length,totalQuantity:i.reduce((o,u)=>o+u.quantity,0),lowStockCount:i.filter(o=>o.status==="low").length,depletedCount:i.filter(o=>o.status==="depleted").length,fromBulk:i.filter(o=>o.source==="bulk_transfer").length,fromRelatives:i.filter(o=>o.source==="relatives").length,alerts:l.length}}const Fy=({isOpen:n,onClose:i,onImportComplete:l})=>{const[o,u]=j.useState(null),[m,x]=j.useState(!1),[g,p]=j.useState(!1);if(!n)return null;const f=()=>{const k=Ry();u(k),p(!1)},y=async()=>{if(o){x(!0),await new Promise(k=>setTimeout(k,800));try{const k=Dy({...o,receivedFrom:"xml_import"});p(!0),x(!1),setTimeout(()=>{l&&l(k),i(),u(null),p(!1)},1e3)}catch(k){console.error("Import failed:",k),x(!1)}}},N=()=>{u(null),p(!1),i()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{className:"w-5 h-5 text-orange-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Simult XML importu"})]}),e.jsx("button",{onClick:N,className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",children:e.jsx(Ge,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:" ir simulcijas funkcija. Relaj sistm XML fails tiktu importts no Recipe Plus."})}),o?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Importjamie dati:"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Medikaments"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.medicationName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Aktv viela"}),e.jsx("p",{className:"text-sm text-gray-700",children:o.activeIngredient})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Daudzums"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[o.quantity," ",o.unit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Partijas Nr."}),e.jsx("p",{className:"text-sm font-mono text-gray-700",children:o.batchNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Dergums"}),e.jsx("p",{className:"text-sm text-gray-700",children:new Date(o.expirationDate).toLocaleDateString("lv-LV")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Vienbas cena"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["",o.unitCost.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Piegdtjs"}),e.jsx("p",{className:"text-sm text-gray-700",children:o.supplier})]})]})]}),g&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(us,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Imports veiksmgs!"})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(nr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Nospiediet pogu, lai enertu parauga importa datus"}),e.jsxs("button",{onClick:f,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(r0,{className:"w-4 h-4"}),"enert importa datus"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 bg-gray-50",children:[o&&e.jsx("button",{onClick:f,className:"text-sm text-gray-600 hover:text-gray-800",children:"enert citus datus"}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:"Atcelt"}),o&&!g&&e.jsx("button",{onClick:y,disabled:m,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white text-sm font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Import..."]}):e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"w-4 h-4"}),"Importt"]})})]})]})]})})},By=({onNavigate:n,onSelectResident:i})=>{var D,O,q,H,G,ee,V,ne,ce;const[l,o]=j.useState([]),[u,m]=j.useState([]),[x,g]=j.useState(null),[p,f]=j.useState(""),[y,N]=j.useState(!1),[k,w]=j.useState(!0),b=()=>{const me=Os();o(me),m(p0()),g(My())};j.useEffect(()=>{b()},[]);const R=p?Ay(p):l,v=me=>{i&&i(me)},E=me=>{b()},_=[{label:"Kop medikamenti",value:((D=x==null?void 0:x.bulk)==null?void 0:D.totalItems)||0,color:"text-gray-900"},{label:"Zems krjums",value:((O=x==null?void 0:x.bulk)==null?void 0:O.lowStockCount)||0,color:((q=x==null?void 0:x.bulk)==null?void 0:q.lowStockCount)>0?"text-yellow-600":"text-gray-900"},{label:"Beidzas dergums",value:(((H=x==null?void 0:x.bulk)==null?void 0:H.expiringCount)||0)+(((G=x==null?void 0:x.bulk)==null?void 0:G.expiredCount)||0),color:(((ee=x==null?void 0:x.bulk)==null?void 0:ee.expiringCount)||0)+(((V=x==null?void 0:x.bulk)==null?void 0:V.expiredCount)||0)>0?"text-red-600":"text-gray-900"},{label:"Izlietots",value:((ne=x==null?void 0:x.bulk)==null?void 0:ne.depletedCount)||0,color:((ce=x==null?void 0:x.bulk)==null?void 0:ce.depletedCount)>0?"text-red-600":"text-gray-900"}];return e.jsxs(Ue,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[e.jsx("button",{onClick:()=>n&&n("all-leads"),className:"hover:text-orange-600 transition-colors",children:"Skums"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-700",children:"Liel noliktava"})]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(nr,{className:"w-7 h-7 text-orange-500"}),"Liel noliktava"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Centrl zu noliktava (A)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:b,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Atjaunot",children:e.jsx(wl,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:()=>N(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(r0,{className:"w-4 h-4"}),"Simult XML importu"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:_.map((me,ve)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:me.label}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${me.color}`,children:me.value})]},ve))}),u.length>0&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4 text-yellow-500"}),"Brdinjumi (",u.length,")"]}),e.jsx("button",{onClick:()=>w(!k),className:"text-xs text-gray-500 hover:text-gray-700",children:k?"Slpt":"Rdt"})]}),k&&e.jsx($o,{alerts:u,onAlertClick:me=>{var he;const ve=document.getElementById(`item-${(he=me.item)==null?void 0:he.id}`);ve&&(ve.scrollIntoView({behavior:"smooth",block:"center"}),ve.classList.add("ring-2","ring-orange-500"),setTimeout(()=>{ve.classList.remove("ring-2","ring-orange-500")},2e3))}})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(Sl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:p,onChange:me=>f(me.target.value),placeholder:"Meklt medikamentu...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]})}),e.jsx(wy,{items:R,onTransfer:v}),R.length>0&&e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50 text-sm text-gray-500",children:["Rda ",R.length," no ",l.length," ierakstiem"]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Prototipa rems:"}),"  ir demonstrcijas versija. Dati tiek glabti prlka loklaj krtuv."]})})]}),e.jsx(Fy,{isOpen:y,onClose:()=>N(!1),onImportComplete:E})]})},Vy=({items:n,onView:i})=>{const l=m=>m?new Date(m).toLocaleDateString("lv-LV",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",o=m=>m==="relatives"?e.jsx(wt,{className:"w-3 h-3 text-blue-500"}):e.jsx(er,{className:"w-3 h-3 text-orange-500"}),u=m=>{var x;return((x=by[m])==null?void 0:x.label)||m};return!n||n.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(nr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{children:"Nav medikamentu rezidenta noliktav"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medikaments"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Daudzums"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avots"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dergums"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statuss"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(m=>e.jsxs("tr",{onClick:()=>i&&i(m),className:`hover:bg-gray-50 transition-colors ${i?"cursor-pointer":""}`,children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:m.medicationName}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Partija: ",m.batchNumber||"-"]})]})}),e.jsxs("td",{className:"px-4 py-3 text-right",children:[e.jsx("span",{className:`text-sm font-semibold ${m.quantity===0?"text-red-600":m.quantity<=m.minimumStock?"text-yellow-600":"text-gray-900"}`,children:m.quantity}),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:m.unit})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-600",children:[o(m.source),u(m.source)]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-600",children:l(m.expirationDate)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(m0,{status:m.status,size:"small"})})]},m.id))})]})})};function Uy(n){const i={};return n.bulkItemId||(i.bulkItemId="Jizvlas medikaments no noliktavas"),n.residentId||(i.residentId="Jizvlas rezidents"),(!n.quantity||n.quantity<=0)&&(i.quantity="Daudzumam jbt lielkam par 0"),n.availableQuantity!==void 0&&n.quantity>n.availableQuantity&&(i.quantity=`Pieejami tikai ${n.availableQuantity} ${n.unit||"vienbas"}`),{isValid:Object.keys(i).length===0,errors:i}}function qy(n){var l,o,u;const i={};return(l=n.medicationName)!=null&&l.trim()||(i.medicationName="Medikamenta nosaukums ir obligts"),(!n.quantity||n.quantity<=0)&&(i.quantity="Daudzumam jbt lielkam par 0"),(o=n.unit)!=null&&o.trim()||(i.unit="Vienba ir obligta"),(u=n.broughtBy)!=null&&u.trim()||(i.broughtBy="Jnorda, kur atnesa zles"),{isValid:Object.keys(i).length===0,errors:i}}const Hy=[{value:"tabletes",label:"Tabletes"},{value:"kapsulas",label:"Kapsulas"},{value:"skidrums",label:"idrums"},{value:"injekcijas",label:"Injekcijas"},{value:"pilieni",label:"Pilieni"},{value:"ziede",label:"Ziede"},{value:"aerosols",label:"Aerosols"},{value:"plastiris",label:"Plkstiris"},{value:"cits",label:"Cits"}],Ky=[{value:"tabletes",label:"tabletes"},{value:"kapsulas",label:"kapsulas"},{value:"ml",label:"ml"},{value:"mg",label:"mg"},{value:"gab.",label:"gab."},{value:"pudeles",label:"pudeles"},{value:"pildspalvas",label:"pildspalvas"},{value:"ampulas",label:"ampulas"}],Gy=({isOpen:n,onClose:i,residentId:l,residentName:o,preselectedItem:u,onTransferComplete:m})=>{const[x,g]=j.useState([]),[p,f]=j.useState(null),[y,N]=j.useState(""),[k,w]=j.useState("4_day_preparation"),[b,R]=j.useState(""),[v,E]=j.useState({}),[_,D]=j.useState(!1);if(j.useEffect(()=>{if(n){const G=Os().filter(ee=>ee.quantity>0);g(G),u&&f(u)}},[n,u]),!n)return null;const O=G=>{f(G),N(""),E({})},q=async G=>{G.preventDefault();const ee={bulkItemId:p==null?void 0:p.id,residentId:l,quantity:parseInt(y),availableQuantity:p==null?void 0:p.quantity,unit:p==null?void 0:p.unit},V=Uy(ee);if(!V.isValid){E(V.errors);return}D(!0);try{const ne=zy(p.id,l,parseInt(y),k,b);m&&m(ne),H()}catch(ne){E({submit:ne.message})}finally{D(!1)}},H=()=>{f(null),N(""),w("4_day_preparation"),R(""),E({}),i()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(er,{className:"w-5 h-5 text-orange-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Prvietot uz rezidenta noliktavu"})]}),e.jsx("button",{onClick:H,className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",children:e.jsx(Ge,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:q,className:"p-4 space-y-4",children:[e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-orange-800",children:[e.jsx("strong",{children:"Rezidents:"})," ",o]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medikaments no noliktavas *"}),p?e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.medicationName}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Partija: ",p.batchNumber," | Pieejami: ",p.quantity," ",p.unit]})]}),e.jsx("button",{type:"button",onClick:()=>f(null),className:"text-xs text-orange-600 hover:text-orange-700",children:"Maint"})]})}):e.jsx("div",{className:"border border-gray-200 rounded-lg max-h-48 overflow-y-auto",children:x.length===0?e.jsx("p",{className:"p-3 text-sm text-gray-500 text-center",children:"Nav pieejamu medikamentu"}):x.map(G=>e.jsxs("button",{type:"button",onClick:()=>O(G),className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:G.medicationName}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Pieejami: ",G.quantity," ",G.unit]})]},G.id))}),v.bulkItemId&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:v.bulkItemId})]}),p&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daudzums *"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:"1",max:p.quantity,value:y,onChange:G=>{N(G.target.value),E({...v,quantity:null})},className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${v.quantity?"border-red-300":"border-gray-300"}`,placeholder:"Ievadiet daudzumu"}),e.jsx("span",{className:"text-sm text-gray-500 min-w-[60px]",children:p.unit})]}),v.quantity&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:v.quantity}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maksimums: ",p.quantity," ",p.unit]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Iemesls"}),e.jsx("select",{value:k,onChange:G=>w(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:Object.values(Ny).map(G=>e.jsx("option",{value:G.value,children:G.label},G.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piezmes"}),e.jsx("textarea",{value:b,onChange:G=>R(G.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Papildu informcija..."})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Prvieto:"})," ",Cl]}),v.submit&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(jt,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-700",children:v.submit})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 p-4 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{type:"button",onClick:H,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:q,disabled:_||!p||!y,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white text-sm font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:_?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Prvieto..."]}):e.jsxs(e.Fragment,{children:[e.jsx(er,{className:"w-4 h-4"}),"Prvietot"]})})]})]})})},Wy=({isOpen:n,onClose:i,residentId:l,residentName:o,onReceiptComplete:u})=>{const[m,x]=j.useState({medicationName:"",activeIngredient:"",form:"tabletes",batchNumber:"",expirationDate:"",quantity:"",unit:"tabletes",broughtBy:"",relationship:"family",notes:""}),[g,p]=j.useState({}),[f,y]=j.useState(!1);if(!n)return null;const N=(b,R)=>{x(v=>({...v,[b]:R})),p(v=>({...v,[b]:null}))},k=async b=>{b.preventDefault();const R=qy(m);if(!R.isValid){p(R.errors);return}y(!0);try{const v=Oy(l,{...m,quantity:parseInt(m.quantity)});u&&u(v),w()}catch(v){p({submit:v.message})}finally{y(!1)}},w=()=>{x({medicationName:"",activeIngredient:"",form:"tabletes",batchNumber:"",expirationDate:"",quantity:"",unit:"tabletes",broughtBy:"",relationship:"family",notes:""}),p({}),i()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5 text-blue-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Radinieki atnes zles"})]}),e.jsx("button",{onClick:w,className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",children:e.jsx(Ge,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:k,className:"p-4 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Rezidents:"})," ",o]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medikamenta nosaukums *"}),e.jsx("input",{type:"text",value:m.medicationName,onChange:b=>N("medicationName",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${g.medicationName?"border-red-300":"border-gray-300"}`,placeholder:"Piem., Aspirin 100 mg tabletes"}),g.medicationName&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.medicationName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aktv viela"}),e.jsx("input",{type:"text",value:m.activeIngredient,onChange:b=>N("activeIngredient",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Piem., Acidum acetylsalicylicum"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forma"}),e.jsx("select",{value:m.form,onChange:b=>N("form",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:Hy.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vienba *"}),e.jsx("select",{value:m.unit,onChange:b=>N("unit",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${g.unit?"border-red-300":"border-gray-300"}`,children:Ky.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))}),g.unit&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.unit})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daudzums *"}),e.jsx("input",{type:"number",min:"1",value:m.quantity,onChange:b=>N("quantity",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${g.quantity?"border-red-300":"border-gray-300"}`,placeholder:"0"}),g.quantity&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.quantity})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Partijas Nr."}),e.jsx("input",{type:"text",value:m.batchNumber,onChange:b=>N("batchNumber",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Ja zinms"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Derguma termi"}),e.jsx("input",{type:"date",value:m.expirationDate,onChange:b=>N("expirationDate",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsx("hr",{className:"border-gray-200"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kur atnesa zles *"}),e.jsx("input",{type:"text",value:m.broughtBy,onChange:b=>N("broughtBy",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${g.broughtBy?"border-red-300":"border-gray-300"}`,placeholder:"Vrds, uzvrds"}),g.broughtBy&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.broughtBy})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attiecbas ar rezidentu"}),e.jsx("select",{value:m.relationship,onChange:b=>N("relationship",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:jy.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Piezmes"}),e.jsx("textarea",{value:m.notes,onChange:b=>N("notes",b.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Papildu informcija..."})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Piema:"})," ",Cl]}),g.submit&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(jt,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-700",children:g.submit})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 p-4 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:k,disabled:f,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white text-sm font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saglab..."]}):e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"w-4 h-4"}),"Reistrt"]})})]})]})})},Qy=({selectedResident:n,preselectedBulkItem:i,onBack:l,onNavigate:o})=>{const[u,m]=j.useState([]),[x,g]=j.useState(n||null),[p,f]=j.useState([]),[y,N]=j.useState([]),[k,w]=j.useState(null),[b,R]=j.useState(""),[v,E]=j.useState(!1),[_,D]=j.useState(!1),[O,q]=j.useState(i||null);j.useEffect(()=>{const ce=Wm();m(ce)},[]);const H=()=>{if(x){const ce=zs(x.id);f(ce),N(Fo(x.id)),w($y(x.id))}};j.useEffect(()=>{H()},[x]);const G=ce=>{g(ce),O&&E(!0)},ee=()=>{g(null),f([]),N([]),w(null)},V=u.filter(ce=>{var me;return`${ce.firstName} ${ce.lastName}`.toLowerCase().includes(b.toLowerCase())||((me=ce.roomNumber)==null?void 0:me.includes(b))}),ne=ce=>{if(!ce)return"";const me=new Date,ve=new Date(ce);let he=me.getFullYear()-ve.getFullYear();const Le=me.getMonth()-ve.getMonth();return(Le<0||Le===0&&me.getDate()<ve.getDate())&&he--,he};return x?e.jsxs(Ue,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[e.jsxs("button",{onClick:ee,className:"hover:text-orange-600 transition-colors flex items-center gap-1",children:[e.jsx(rr,{className:"w-4 h-4"}),"Rezidenti"]}),e.jsx("span",{children:"/"}),e.jsxs("span",{className:"text-gray-700",children:[x.firstName," ",x.lastName]})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rezidenta noliktava"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:H,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Atjaunot",children:e.jsx(wl,{className:"w-5 h-5"})})})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ft,{className:"w-7 h-7 text-orange-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[x.firstName," ",x.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Istaba ",x.roomNumber,"  ",ne(x.birthDate)," gadi  ",x.careLevel]})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>E(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(er,{className:"w-4 h-4"}),"Prvietot no noliktavas"]}),e.jsxs("button",{onClick:()=>D(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:[e.jsx(wt,{className:"w-4 h-4"}),"Radinieki atnes"]})]}),k&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Medikamenti"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:k.totalItems})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"No noliktavas"}),e.jsx("p",{className:"text-xl font-bold text-orange-600",children:k.fromBulk})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"No radiniekiem"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:k.fromRelatives})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Brdinjumi"}),e.jsx("p",{className:`text-xl font-bold ${k.alerts>0?"text-red-600":"text-gray-900"}`,children:k.alerts})]})]}),y.length>0&&e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsx($o,{alerts:y})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-900",children:"Zu krjumi"})}),e.jsx(Vy,{items:p})]})]}),e.jsx(Gy,{isOpen:v,onClose:()=>{E(!1),q(null)},residentId:x.id,residentName:`${x.firstName} ${x.lastName}`,preselectedItem:O,onTransferComplete:()=>{E(!1),q(null),H()}}),e.jsx(Wy,{isOpen:_,onClose:()=>D(!1),residentId:x.id,residentName:`${x.firstName} ${x.lastName}`,onReceiptComplete:()=>{D(!1),H()}})]}):e.jsx(Ue,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[e.jsx("button",{onClick:()=>o&&o("bulk-inventory"),className:"hover:text-orange-600 transition-colors",children:"Noliktava"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-700",children:"Rezidentu noliktavas"})]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(nr,{className:"w-7 h-7 text-orange-500"}),"Rezidentu noliktavas"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Izvlieties rezidentu, lai skattu via zu krjumus"})]}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(Sl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:b,onChange:ce=>R(ce.target.value),placeholder:"Meklt rezidentu...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsx("div",{className:"grid gap-3",children:V.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nav atrasts neviens rezidents"}):V.map(ce=>{const me=zs(ce.id),ve=Fo(ce.id);return e.jsx("button",{onClick:()=>G(ce),className:"w-full bg-white border border-gray-200 rounded-lg p-4 hover:border-orange-300 hover:shadow-md transition-all text-left",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ft,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[ce.firstName," ",ce.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Istaba ",ce.roomNumber,"  ",ne(ce.birthDate)," gadi  ",ce.careLevel]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[me.length," medikamenti"]}),ve.length>0&&e.jsx($o,{alerts:ve,compact:!0})]}),e.jsx(er,{className:"w-5 h-5 text-gray-400"})]})]})},ce.id)})})]})})},Jy=({status:n,type:i="room",size:l="md"})=>{const o=i==="bed"?i0:Oo,u=o[n]||o.available,m={sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1",lg:"text-sm px-3 py-1.5"};return e.jsx("span",{className:`
        inline-flex items-center font-medium rounded-full
        ${u.bgColor} ${u.textColor}
        ${m[l]}
      `,children:u.label})},h0=({room:n,onSelect:i,onEdit:l,selectable:o=!1,selectedBed:u=null})=>{const{number:m,floor:x,type:g,status:p,features:f=[],beds:y=[],freeBeds:N=0,occupiedBeds:k=0}=n,w=Jt[g]||Jt.single,b={window:im,bathroom:Hf,tv:nh,aircon:a0,balcony:rh},R=p!=="maintenance"&&N>0;return e.jsxs("div",{className:`
        bg-white border rounded-lg overflow-hidden transition-all
        ${o&&R?"cursor-pointer hover:border-orange-400 hover:shadow-md":""}
        ${p==="maintenance"?"opacity-60":""}
        ${o&&!R?"opacity-50":""}
      `,onClick:()=>o&&R&&(i==null?void 0:i(n)),children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(cs,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Istaba ",m]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[x,". stvs  ",w.label]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jy,{status:p}),l&&e.jsx("button",{onClick:v=>{v.stopPropagation(),l(n)},className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:e.jsx(t0,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Gultas"}),e.jsx("div",{className:"flex items-center gap-2",children:y.map(v=>{var E;return e.jsxs("div",{className:`
                relative flex items-center justify-center w-12 h-10 rounded border-2
                ${v.status==="free"?"border-green-300 bg-green-50":""}
                ${v.status==="occupied"?"border-blue-300 bg-blue-50":""}
                ${v.status==="reserved"?"border-purple-300 bg-purple-50":""}
                ${o&&v.status==="free"?"cursor-pointer hover:border-orange-400":""}
                ${u===v.bedNumber?"ring-2 ring-orange-500":""}
              `,onClick:_=>{_.stopPropagation(),o&&v.status==="free"&&(i==null||i(n,v.bedNumber))},title:`Gulta ${v.bedNumber} - ${(E=i0[v.status])==null?void 0:E.label}`,children:[e.jsx(ft,{className:`w-4 h-4 ${v.status==="free"?"text-green-500":v.status==="occupied"?"text-blue-500":"text-purple-500"}`}),e.jsx("span",{className:"absolute -top-1 -right-1 text-[10px] font-medium bg-white border rounded px-1",children:v.bedNumber})]},v.id)})}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Brvas: ",N]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Aizemtas: ",k]})]})]}),f.length>0&&e.jsx("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100",children:e.jsx("div",{className:"flex items-center gap-2",children:f.map(v=>{const E=b[v]||im,_=o0[v];return e.jsx("span",{className:"flex items-center gap-1 text-xs text-gray-500",title:_==null?void 0:_.label,children:e.jsx(E,{className:"w-3 h-3"})},v)})})})]})},Yy=({isOpen:n,onClose:i,room:l,onSave:o})=>{const[u,m]=j.useState({number:"",floor:1,type:"double",status:"available",features:[]}),[x,g]=j.useState("");j.useEffect(()=>{m(l?{number:l.number||"",floor:l.floor||1,type:l.type||"double",status:l.status||"available",features:l.features||[]}:{number:"",floor:1,type:"double",status:"available",features:[]}),g("")},[l,n]);const p=y=>{if(y.preventDefault(),g(""),!u.number.trim()){g("Ldzu ievadiet istabas numuru");return}o(u)},f=y=>{m(N=>({...N,features:N.features.includes(y)?N.features.filter(k=>k!==y):[...N.features,y]}))};return n?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(cs,{className:"w-5 h-5 text-orange-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l?"Redit istabu":"Jauna istaba"})]}),e.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ge,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[x&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:x}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Istabas numurs *"}),e.jsx("input",{type:"text",value:u.number,onChange:y=>m(N=>({...N,number:y.target.value})),placeholder:"piem., 101, 205",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",disabled:!!l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stvs"}),e.jsx("div",{className:"flex gap-2",children:Xo.map(y=>e.jsx("button",{type:"button",onClick:()=>m(N=>({...N,floor:y.value})),className:`
                    flex-1 px-4 py-2 border rounded-lg text-sm font-medium transition-colors
                    ${u.floor===y.value?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:border-orange-300"}
                  `,children:y.label},y.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Istabas tips"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(Jt).map(([y,N])=>e.jsxs("button",{type:"button",onClick:()=>m(k=>({...k,type:y})),className:`
                    px-3 py-2 border rounded-lg text-sm font-medium transition-colors
                    ${u.type===y?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:border-orange-300"}
                  `,children:[N.label,e.jsxs("span",{className:"block text-xs opacity-75",children:[N.bedCount," gulta(s)"]})]},y))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statuss"}),e.jsxs("select",{value:u.status,onChange:y=>m(N=>({...N,status:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"available",children:Oo.available.label}),e.jsx("option",{value:"maintenance",children:Oo.maintenance.label})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"rtbas"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(o0).map(([y,N])=>e.jsx("button",{type:"button",onClick:()=>f(y),className:`
                    px-3 py-1.5 border rounded-full text-sm transition-colors
                    ${u.features.includes(y)?"bg-orange-100 text-orange-700 border-orange-300":"bg-white text-gray-600 border-gray-300 hover:border-orange-300"}
                  `,children:N.label},y))})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Atcelt"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center gap-2",children:l?"Saglabt":e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-4 h-4"})," Pievienot"]})})]})]})]})}):null},Zy=({onNavigate:n})=>{const[i,l]=j.useState([]),[o,u]=j.useState(null),[m,x]=j.useState(0),[g,p]=j.useState(!1),[f,y]=j.useState(null),[N,k]=j.useState(""),w=()=>{const D=d0();l(D),u(uy())};j.useEffect(()=>{w()},[]);const b=m===0?i:i.filter(D=>D.floor===m),R=D=>{k("");try{f?cy(f.id,D):oy(D),w(),p(!1),y(null)}catch(O){k(O.message)}},v=D=>{y(D),p(!0)},E=()=>{y(null),p(!0)},_=D=>D>=80?"text-red-600":D>=50?"text-yellow-600":"text-green-600";return e.jsxs(Ue,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[e.jsx("button",{onClick:()=>n&&n("resident-list"),className:"hover:text-orange-600 transition-colors",children:"Rezidenti"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-700",children:"Istabu prvaldba"})]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(cs,{className:"w-7 h-7 text-orange-500"}),"Istabu prvaldba"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:w,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Atjaunot",children:e.jsx(wl,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(Xs,{className:"w-4 h-4"}),"Jauna istaba"]})]})]}),o&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[e.jsx(cs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Istabas"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalRooms})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[e.jsx(Yt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Gultas"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalBeds})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[e.jsx(wt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Aizemtba"})]}),e.jsxs("p",{className:`text-2xl font-bold ${_(o.occupancyRate)}`,children:[o.occupancyRate,"%"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[e.jsx("span",{className:"w-4 h-4 flex items-center justify-center text-green-500 font-bold",children:"B"}),e.jsx("span",{className:"text-xs",children:"Brvas gultas"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.freeBeds})]})]}),o&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Aizemtba pa stviem"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:o.byFloor.map(D=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center font-bold text-gray-600",children:D.floor}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsxs("span",{className:"text-gray-600",children:[D.floor,". stvs"]}),e.jsxs("span",{className:`font-medium ${_(D.occupancyRate)}`,children:[D.occupancyRate,"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${D.occupancyRate>=80?"bg-red-500":D.occupancyRate>=50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${D.occupancyRate}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[D.occupied,"/",D.beds," gultas aizemtas"]})]})]},D.floor))})]}),N&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(jt,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{children:N})]}),e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[e.jsx("button",{onClick:()=>x(0),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${m===0?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:border-orange-300"}`,children:"Visi stvi"}),Xo.map(D=>e.jsx("button",{onClick:()=>x(D.value),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${m===D.value?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:border-orange-300"}`,children:D.label},D.value))]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.length===0?e.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500",children:[e.jsx(cs,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Nav atrasta neviena istaba"})]}):b.map(D=>e.jsx(h0,{room:D,onEdit:v},D.id))}),o&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Istabu tipi"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:o.byType.map(D=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:D.label}),e.jsxs("p",{className:"text-sm text-gray-500",children:[D.rooms," istabas, ",D.beds," gultas"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-lg font-bold ${_(D.occupancyRate)}`,children:[D.occupancyRate,"%"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[D.occupied," aizemtas"]})]})]},D.type))})]})]}),e.jsx(Yy,{isOpen:g,onClose:()=>{p(!1),y(null),k("")},room:f,onSave:R})]})},Xy=({lead:n,onComplete:i,onBack:l})=>{var H,G,ee;const[o,u]=j.useState([]),[m,x]=j.useState(0),[g,p]=j.useState("all"),[f,y]=j.useState(null),[N,k]=j.useState(null),[w,b]=j.useState(""),[R,v]=j.useState(!1);j.useEffect(()=>{const V=d0();u(V)},[]);const E=o.filter(V=>!(V.freeBeds===0||V.status==="maintenance"||m!==0&&V.floor!==m||g!=="all"&&V.type!==g)),_=(V,ne)=>{ne?(y(V),k(ne)):(y(V),k(null)),b("")},D=V=>{k(V),b("")},O=async()=>{if(!f||!N){b("Ldzu izvlieties istabu un gultu");return}v(!0),b("");try{const V=yy(n,f.id,N);i==null||i(V)}catch(V){b(V.message||"Kda izveidojot rezidentu"),v(!1)}},q=((H=n==null?void 0:n.consultation)==null?void 0:H.roomType)||null;return e.jsx(Ue,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:l,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-orange-600 mb-2",children:[e.jsx(rr,{className:"w-4 h-4"}),"Atpaka uz lgumu"]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Yt,{className:"w-7 h-7 text-orange-500"}),"Rezervt gultu"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Izvlieties istabu un gultu jaunajam rezidentam"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(ft,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"font-semibold text-gray-900",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Lgums: ",n==null?void 0:n.agreementNumber,q&&e.jsxs("span",{className:"ml-2",children:[" Vlam istaba: ",((G=Jt[q])==null?void 0:G.label)||q]})]})]})]})}),w&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(jt,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{children:w})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Stvs:"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>x(0),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${m===0?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:border-orange-300"}`,children:"Visi"}),Xo.map(V=>e.jsx("button",{onClick:()=>x(V.value),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${m===V.value?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:border-orange-300"}`,children:V.value},V.value))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Tips:"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>p("all"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${g==="all"?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:border-orange-300"}`,children:"Visi"}),Object.entries(Jt).map(([V,ne])=>e.jsx("button",{onClick:()=>p(V),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${g===V?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:border-orange-300"}${q===V?" ring-2 ring-orange-300":""}`,children:ne.label},V))]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.length===0?e.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500",children:[e.jsx(cs,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Nav pieejamu istabu ar izvltajiem filtriem"})]}):E.map(V=>e.jsx("div",{className:`${(f==null?void 0:f.id)===V.id?"ring-2 ring-orange-500 rounded-lg":""}`,children:e.jsx(h0,{room:V,selectable:!0,selectedBed:(f==null?void 0:f.id)===V.id?N:null,onSelect:_})},V.id))}),f&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-3",children:["Izvlt istaba: ",f.number]}),f.bedCount>1&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Izvlieties gultu:"}),e.jsx("div",{className:"flex gap-2",children:f.beds.map(V=>e.jsxs("button",{onClick:()=>V.status==="free"&&D(V.bedNumber),disabled:V.status!=="free",className:`
                        flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors
                        ${V.status!=="free"?"bg-gray-100 text-gray-400 cursor-not-allowed":N===V.bedNumber?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:border-orange-300"}
                      `,children:[e.jsx(Yt,{className:"w-4 h-4"}),"Gulta ",V.bedNumber,V.status!=="free"&&e.jsxs("span",{className:"text-xs",children:["(",V.status==="occupied"?"aizemta":"rezervta",")"]})]},V.id))})]}),f.bedCount===1&&!N&&e.jsx("p",{className:"text-sm text-orange-700",children:"Vienvietga istaba - gulta tiks automtiski izvlta"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:l,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:O,disabled:!f||!N&&(f==null?void 0:f.bedCount)>1||R,className:`
              flex-1 px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors
              ${!f||!N&&(f==null?void 0:f.bedCount)>1||R?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}
            `,children:R?e.jsx(e.Fragment,{children:"Apstrd..."}):e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"w-5 h-5"}),"Apstiprint un izveidot rezidentu"]})})]}),f&&(N||f.bedCount===1)&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Kopsavilkums"}),e.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[e.jsxs("li",{children:["Rezidents: ",e.jsxs("strong",{children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]})]}),e.jsxs("li",{children:["Istaba: ",e.jsx("strong",{children:f.number})," (",(ee=Jt[f.type])==null?void 0:ee.label,")"]}),e.jsxs("li",{children:["Gulta: ",e.jsx("strong",{children:N||1})]}),e.jsxs("li",{children:["Stvs: ",e.jsxs("strong",{children:[f.floor,". stvs"]})]})]})]})]})})},ev=({resident:n,onEdit:i})=>{if(!n)return null;const l=vy(n.birthDate),o=um[n.careLevel]||um.GIR3,u=dm[n.status]||dm.active;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:`h-1 ${n.status==="active"?"bg-green-500":n.status==="discharged"?"bg-gray-400":"bg-gray-300"}`}),e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-orange-100 rounded-full flex items-center justify-center",children:n.photo?e.jsx("img",{src:n.photo,alt:xm(n),className:"w-full h-full rounded-full object-cover"}):e.jsx(ft,{className:"w-10 h-10 sm:w-12 sm:h-12 text-orange-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:xm(n)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[n.personalCode||"ID nav nordts",l&&e.jsxs("span",{className:"ml-2",children:[" ",l," gadi"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u.bgColor} ${u.textColor}`,children:u.label}),i&&e.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(jl,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[n.roomNumber&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[e.jsx(cs,{className:"w-3.5 h-3.5"}),"Istaba ",n.roomNumber,n.bedNumber&&e.jsxs("span",{className:"text-blue-500",children:["/ Gulta ",n.bedNumber]})]}),e.jsx("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-orange-100 text-orange-700 rounded-full text-sm",children:o.value}),n.allergies&&n.allergies.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:[e.jsx(Ut,{className:"w-3.5 h-3.5"}),n.allergies.length," alerija(s)"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4 text-sm text-gray-600",children:[n.phone&&e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(ms,{className:"w-4 h-4 text-gray-400"}),n.phone]}),n.email&&e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(gt,{className:"w-4 h-4 text-gray-400"}),n.email]}),n.admissionDate&&e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Mr,{className:"w-4 h-4 text-gray-400"}),"Uzemts: ",new Date(n.admissionDate).toLocaleDateString("lv-LV")]})]}),n.agreementNumber&&e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Lgums: ",n.agreementNumber]})]})]})})]})},Tt=({title:n,icon:i,children:l,count:o,lastUpdate:u,onAdd:m,onHistory:x,defaultOpen:g=!1,addLabel:p="Pievienot",badge:f,badgeColor:y="gray"})=>{const[N,k]=j.useState(g),w={green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700",orange:"bg-orange-100 text-orange-700",red:"bg-red-100 text-red-700",blue:"bg-blue-100 text-blue-700",gray:"bg-gray-100 text-gray-600"};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>k(!N),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[i&&e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(i,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:n}),u&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Pdjais ieraksts: ",u]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[o!==void 0&&e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:o}),f&&e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${w[y]}`,children:f}),e.jsx(Mn,{className:`w-5 h-5 text-gray-400 transition-transform ${N?"rotate-180":""}`})]})]}),N&&e.jsxs("div",{className:"border-t border-gray-200",children:[(m||x)&&e.jsxs("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[x&&e.jsxs("button",{onClick:x,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Xm,{className:"w-4 h-4"}),"Vsture"]}),m&&e.jsxs("button",{onClick:m,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm text-orange-600 hover:text-orange-700 hover:bg-orange-50 rounded-lg transition-colors",children:[e.jsx(Xs,{className:"w-4 h-4"}),p]})]}),e.jsx("div",{className:"p-4",children:l})]})]})},tv=({vitals:n,onRecordNew:i})=>{var p;if(!n)return e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(fl,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"Nav pieejamu mrjumu"}),i&&e.jsx("button",{onClick:i,className:"mt-2 text-sm text-orange-600 hover:text-orange-700",children:"Pievienot pirmo mrjumu"})]});const l=(f,y)=>{if(f==null)return null;const N=iy[y];return N?f>=N.min&&f<=N.max:null},o=((p=n.bloodPressure)==null?void 0:p.split("/"))||[],u=parseInt(o[0])||null,m=parseInt(o[1])||null,x=[{label:"Temperatra",value:n.temperature,unit:"C",icon:th,normal:l(n.temperature,"temperature"),color:"red"},{label:"Cukura lmenis",value:n.bloodSugar,unit:"mmol/L",icon:qf,normal:l(n.bloodSugar,"bloodSugar"),color:"purple"},{label:"Asinsspiediens",value:n.bloodPressure,unit:"",icon:fl,normal:u!==null?l(u,"bloodPressureSystolic")&&l(m,"bloodPressureDiastolic"):null,color:"blue"},{label:"Pulss",value:n.pulse,unit:"",icon:$r,normal:l(n.pulse,"pulse"),color:"pink"},{label:"Saturcija",value:n.oxygen,unit:"%",icon:a0,normal:l(n.oxygen,"oxygen"),color:"cyan"},{label:"Svars",value:n.weight,unit:"kg",icon:lh,normal:null,color:"gray"}],g={red:{bg:"bg-red-50",icon:"text-red-500",value:"text-red-700"},purple:{bg:"bg-purple-50",icon:"text-purple-500",value:"text-purple-700"},blue:{bg:"bg-blue-50",icon:"text-blue-500",value:"text-blue-700"},pink:{bg:"bg-pink-50",icon:"text-pink-500",value:"text-pink-700"},cyan:{bg:"bg-cyan-50",icon:"text-cyan-500",value:"text-cyan-700"},gray:{bg:"bg-gray-50",icon:"text-gray-500",value:"text-gray-700"}};return e.jsxs("div",{children:[n.measuredAt&&e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Mrts: ",new Date(n.measuredAt).toLocaleString("lv-LV"),n.measuredBy&&e.jsxs("span",{children:["  ",n.measuredBy]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:x.map((f,y)=>{const N=g[f.color],k=f.value!==null&&f.value!==void 0&&f.value!=="";return e.jsxs("div",{className:`${N.bg} rounded-lg p-3 relative`,children:[f.normal!==null&&e.jsx("span",{className:`absolute top-1 right-1 w-2 h-2 rounded-full ${f.normal?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(f.icon,{className:`w-4 h-4 ${N.icon}`}),e.jsx("span",{className:"text-xs text-gray-600",children:f.label})]}),e.jsx("div",{className:`text-lg font-bold ${k?N.value:"text-gray-400"}`,children:k?e.jsxs(e.Fragment,{children:[f.value,f.unit&&e.jsx("span",{className:"text-sm font-normal ml-1",children:f.unit})]}):""})]},y)})}),n.notes&&e.jsx("div",{className:"mt-3 p-2 bg-yellow-50 rounded text-sm text-yellow-800",children:n.notes})]})},sv=({diagnoses:n,onEdit:i,onDelete:l})=>!n||n.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(Qo,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"Nav pievienotu diagnou"})]}):e.jsx("div",{className:"space-y-3",children:n.map(o=>{const u=mm[o.status]||mm.active;return e.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:border-gray-300 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.code&&e.jsx("span",{className:"text-xs font-mono bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded",children:o.code}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${u.bgColor} ${u.textColor}`,children:u.label})]}),e.jsx("p",{className:"font-medium text-gray-900 mt-1",children:o.description||"Nav apraksta"}),o.notes&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.notes}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-400",children:[o.diagnosedDate&&e.jsxs("span",{children:["Diagnosticts: ",new Date(o.diagnosedDate).toLocaleDateString("lv-LV")]}),o.createdBy&&e.jsxs("span",{children:["Pievienoja: ",o.createdBy]})]})]}),(i||l)&&e.jsxs("div",{className:"flex items-center gap-1",children:[i&&e.jsx("button",{onClick:()=>i(o),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Redit",children:e.jsx(jl,{className:"w-4 h-4"})}),l&&e.jsx("button",{onClick:()=>l(o.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Dzst",children:e.jsx(sh,{className:"w-4 h-4"})})]})]})},o.id)})});function Ms(n){return JSON.parse(localStorage.getItem(n)||"[]")}function y0(n){return Ms(Se.DIAGNOSES).filter(l=>l.residentId===n).sort((l,o)=>new Date(o.createdAt)-new Date(l.createdAt))}function v0(n){const l=Ms(Se.VITALS_LOG).filter(o=>o.residentId===n);return l.length===0?null:l.sort((o,u)=>new Date(u.measuredAt)-new Date(o.measuredAt))[0]}function b0(n){return Ms(Se.VACCINATIONS).filter(l=>l.residentId===n).sort((l,o)=>new Date(o.administeredDate)-new Date(l.administeredDate))}function Tl(n,i){return Ms(n).filter(o=>o.residentId===i).sort((o,u)=>new Date(u.assessedAt)-new Date(o.assessedAt))}function N0(n){return Tl(Se.ASSESSMENTS_DOCTOR,n)}function j0(n){return Tl(Se.ASSESSMENTS_NURSE,n)}function w0(n){return Tl(Se.ASSESSMENTS_PSYCH,n)}function k0(n){return Tl(Se.ASSESSMENTS_PHYSIO,n)}function rv(n){return Ms(Se.RISK_MORSE).filter(l=>l.residentId===n).sort((l,o)=>new Date(o.assessedAt)-new Date(l.assessedAt))}function S0(n){const i=rv(n);return i.length>0?i[0]:null}function nv(n){return Ms(Se.RISK_BRADEN).filter(l=>l.residentId===n).sort((l,o)=>new Date(o.assessedAt)-new Date(l.assessedAt))}function E0(n){const i=nv(n);return i.length>0?i[0]:null}function av(n){return Ms(Se.RISK_BARTHEL).filter(l=>l.residentId===n).sort((l,o)=>new Date(o.assessedAt)-new Date(l.assessedAt))}function C0(n){const i=av(n);return i.length>0?i[0]:null}function I0(n){return Ms(Se.TECHNICAL_AIDS).filter(l=>l.residentId===n).sort((l,o)=>new Date(o.assignedAt)-new Date(l.assignedAt))}function lv(n){return{diagnoses:y0(n).length,vitals:v0(n),vaccinations:b0(n).length,doctorAssessments:N0(n).length,nurseAssessments:j0(n).length,psychiatristAssessments:w0(n).length,physiotherapistAssessments:k0(n).length,morseScore:S0(n),bradenScore:E0(n),barthelIndex:C0(n),technicalAids:I0(n).filter(i=>i.status==="active").length}}const iv=({residentId:n,onBack:i,onNavigateToPrescriptions:l,onNavigateToInventory:o})=>{var qe,Ee,K,ae,W,T;const[u,m]=j.useState(null),[x,g]=j.useState(null),[p,f]=j.useState([]),[y,N]=j.useState(null),[k,w]=j.useState([]),[b,R]=j.useState([]),[v,E]=j.useState([]),[_,D]=j.useState([]),[O,q]=j.useState([]),[H,G]=j.useState(null),[ee,V]=j.useState(null),[ne,ce]=j.useState(null),[me,ve]=j.useState([]);if(j.useEffect(()=>{if(n){const L=gy(n);m(L),L&&(g(lv(n)),f(y0(n)),N(v0(n)),w(b0(n)),R(N0(n)),E(j0(n)),D(w0(n)),q(k0(n)),G(S0(n)),V(E0(n)),ce(C0(n)),ve(I0(n).filter(de=>de.status==="active")))}},[n]),!u)return e.jsx(Ue,{children:e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{children:"Rezidents nav atrasts"}),e.jsx("button",{onClick:i,className:"mt-4 text-orange-600 hover:text-orange-700",children:"Atgriezties"})]})});const he=L=>L?new Date(L).toLocaleDateString("lv-LV"):null,Le=(L,de)=>{if(!L)return null;const ue=ly[de],xe=ue==null?void 0:ue.levels.find(fe=>fe.level===L.riskLevel);return xe?{label:xe.label,color:xe.color}:null};return e.jsx(Ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-orange-600 mb-2",children:[e.jsx(rr,{className:"w-4 h-4"}),"Atpaka uz sarakstu"]}),e.jsx(ev,{resident:u,onEdit:()=>{}}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Tt,{title:"Diagnozes",icon:Qo,count:p.length,onAdd:()=>{},defaultOpen:p.length>0,children:e.jsx(sv,{diagnoses:p,onEdit:L=>{},onDelete:L=>{}})}),e.jsx(Tt,{title:"Msas apskate",icon:fl,lastUpdate:y?he(y.measuredAt):null,onAdd:()=>{},onHistory:()=>{},defaultOpen:!0,children:e.jsx(tv,{vitals:y,onRecordNew:()=>{}})}),e.jsx(Tt,{title:"rsta apskate",icon:s0,count:b.length,lastUpdate:b[0]?he(b[0].assessedAt):null,onAdd:()=>{},onHistory:()=>{},children:b.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav apskau ierakstu"}):e.jsx("div",{className:"space-y-2",children:b.slice(0,3).map(L=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[e.jsxs("div",{className:"flex justify-between text-gray-500 text-xs mb-1",children:[e.jsx("span",{children:he(L.assessedAt)}),e.jsx("span",{children:L.assessedBy})]}),e.jsx("p",{className:"text-gray-700",children:L.findings||L.notes||"Nav piezmju"})]},L.id))})}),e.jsx(Tt,{title:"Psihiatra apskate",icon:Ym,count:_.length,lastUpdate:_[0]?he(_[0].assessedAt):null,onAdd:()=>{},onHistory:()=>{},children:_.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav apskau ierakstu"}):e.jsx("div",{className:"space-y-2",children:_.slice(0,3).map(L=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[e.jsxs("div",{className:"flex justify-between text-gray-500 text-xs mb-1",children:[e.jsx("span",{children:he(L.assessedAt)}),e.jsx("span",{children:L.assessedBy})]}),e.jsx("p",{className:"text-gray-700",children:L.findings||L.notes||"Nav piezmju"})]},L.id))})}),e.jsx(Tt,{title:"Vakcincija",icon:eh,count:k.length,lastUpdate:k[0]?he(k[0].administeredDate):null,onAdd:()=>{},children:k.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav vakcincijas ierakstu"}):e.jsx("div",{className:"space-y-2",children:k.map(L=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:L.vaccineName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Srija: ",L.series||"","  Datums: ",he(L.administeredDate)]})]}),L.expirationDate&&e.jsxs("span",{className:"text-xs text-gray-400",children:["Dergs ldz: ",he(L.expirationDate)]})]},L.id))})}),e.jsx(Tt,{title:"Ordincijas plns",icon:Zf,defaultOpen:!1,children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-gray-500 mb-3",children:"Skatt rezidenta medikamentu plnu"}),e.jsx("button",{onClick:()=>l==null?void 0:l(u),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Atvrt ordincijas plnu"})]})}),e.jsx(Tt,{title:"Fizioterapeita apskate",icon:Qf,count:O.length,lastUpdate:O[0]?he(O[0].assessedAt):null,onAdd:()=>{},onHistory:()=>{},children:O.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav apskau ierakstu"}):e.jsx("div",{className:"space-y-2",children:O.slice(0,3).map(L=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[e.jsxs("div",{className:"flex justify-between text-gray-500 text-xs mb-1",children:[e.jsx("span",{children:he(L.assessedAt)}),e.jsx("span",{children:L.assessedBy})]}),e.jsx("p",{className:"text-gray-700",children:L.findings||L.notes||"Nav piezmju"})]},L.id))})}),e.jsx(Tt,{title:"Kritienu riska novrtjums pc Morsa skalas",icon:jt,badge:H?(qe=Le(H,"morse"))==null?void 0:qe.label:null,badgeColor:H?(Ee=Le(H,"morse"))==null?void 0:Ee.color:"gray",lastUpdate:H?he(H.assessedAt):null,onAdd:()=>{},onHistory:()=>{},children:H?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Kopjais punktu skaits"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:H.score})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Novrtja: ",H.assessedBy,"  ",he(H.assessedAt)]})]}):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav novrtjuma"})}),e.jsx(Tt,{title:"Izguljumu riska noteikana pc Bradena skalas",icon:Ut,badge:ee?(K=Le(ee,"braden"))==null?void 0:K.label:null,badgeColor:ee?(ae=Le(ee,"braden"))==null?void 0:ae.color:"gray",lastUpdate:ee?he(ee.assessedAt):null,onAdd:()=>{},onHistory:()=>{},children:ee?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Kopjais punktu skaits"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:ee.score})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Novrtja: ",ee.assessedBy,"  ",he(ee.assessedAt)]})]}):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav novrtjuma"})}),e.jsx(Tt,{title:"Personu paaprpes un mobilittes spju novrtjums pc Bartela indeksa",icon:fl,badge:ne?(W=Le(ne,"barthel"))==null?void 0:W.label:null,badgeColor:ne?(T=Le(ne,"barthel"))==null?void 0:T.color:"gray",lastUpdate:ne?he(ne.assessedAt):null,onAdd:()=>{},onHistory:()=>{},children:ne?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Kopjais punktu skaits"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:ne.score})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Novrtja: ",ne.assessedBy,"  ",he(ne.assessedAt)]})]}):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav novrtjuma"})}),e.jsx(Tt,{title:"Tehnisko palgldzeku izmantoana",icon:ih,count:me.length,onAdd:()=>{},children:me.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav pieirtu palgldzeku"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:me.map(L=>e.jsx("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm",children:L.description||L.aidType},L.id))})}),e.jsx(Tt,{title:"Rezidenta noliktava",icon:nr,defaultOpen:!1,children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-gray-500 mb-3",children:"Skatt rezidenta medikamentu krjumus"}),e.jsx("button",{onClick:()=>o==null?void 0:o(u),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Atvrt noliktavu"})]})})]})]})})},hm=[{id:"RES-001",firstName:"Anna",lastName:"Brzia",birthDate:"1942-03-15",personalCode:"150342-12345",phone:"+371 29123456",email:"anna.berzina@inbox.lv",gender:"female",leadId:"L-2025-001",agreementNumber:"A-2025-001",careLevel:"GIR3",roomId:"ROOM-101",bedNumber:1,allergies:["Penicilns","Olas"],photo:null,status:"active",admissionDate:"2025-06-01",dischargeDate:null,createdAt:"2025-06-01T10:00:00.000Z"},{id:"RES-002",firstName:"Jnis",lastName:"Kalni",birthDate:"1938-08-22",personalCode:"220838-54321",phone:"+371 29654321",email:null,gender:"male",leadId:"L-2025-002",agreementNumber:"A-2025-002",careLevel:"GIR4",roomId:"ROOM-102",bedNumber:1,allergies:[],photo:null,status:"active",admissionDate:"2025-07-15",dischargeDate:null,createdAt:"2025-07-15T14:30:00.000Z"},{id:"RES-003",firstName:"Marta",lastName:"Liepia",birthDate:"1945-11-30",personalCode:"301145-98765",phone:"+371 29987654",email:"marta.liepina@gmail.com",gender:"female",leadId:"L-2025-003",agreementNumber:"A-2025-003",careLevel:"GIR2",roomId:"ROOM-201",bedNumber:1,allergies:["Laktoze"],photo:null,status:"active",admissionDate:"2025-08-01",dischargeDate:null,createdAt:"2025-08-01T09:00:00.000Z"}],ov=[{id:"DX-001",residentId:"RES-001",code:"I10",description:"Arteril hipertensija",diagnosedDate:"2020-05-15",status:"active",notes:"Kontrol ar medikamentiem",createdBy:"Dr. Liepi",createdAt:"2025-06-01T10:30:00.000Z"},{id:"DX-002",residentId:"RES-001",code:"E11",description:"2. tipa cukura diabts",diagnosedDate:"2018-03-10",status:"active",notes:"Dita un metformns",createdBy:"Dr. Liepi",createdAt:"2025-06-01T10:35:00.000Z"},{id:"DX-003",residentId:"RES-002",code:"G30.9",description:"Alcheimera slimba",diagnosedDate:"2023-01-20",status:"active",notes:"Vidji smaga pakpe",createdBy:"Dr. Kalni",createdAt:"2025-07-15T15:00:00.000Z"},{id:"DX-004",residentId:"RES-002",code:"M81.0",description:"Osteoporoze",diagnosedDate:"2022-06-15",status:"active",notes:"",createdBy:"Dr. Kalni",createdAt:"2025-07-15T15:05:00.000Z"},{id:"DX-005",residentId:"RES-003",code:"I25.9",description:"Hroniska imiska sirds slimba",diagnosedDate:"2019-08-25",status:"active",notes:"",createdBy:"Dr. Ozols",createdAt:"2025-08-01T09:30:00.000Z"}],cv=[{id:"VIT-001",residentId:"RES-001",temperature:36.5,bloodPressure:"138/85",pulse:72,oxygen:97,weight:68.5,bloodSugar:6.2,measuredAt:"2026-01-07T08:00:00.000Z",measuredBy:"Msa Irna",notes:""},{id:"VIT-002",residentId:"RES-001",temperature:36.4,bloodPressure:"142/88",pulse:74,oxygen:96,weight:68.5,bloodSugar:5.8,measuredAt:"2026-01-06T08:00:00.000Z",measuredBy:"Msa Irna",notes:""},{id:"VIT-003",residentId:"RES-002",temperature:36.8,bloodPressure:"125/78",pulse:68,oxygen:98,weight:75.2,bloodSugar:5.1,measuredAt:"2026-01-07T08:15:00.000Z",measuredBy:"Msa Irna",notes:""},{id:"VIT-004",residentId:"RES-003",temperature:36.6,bloodPressure:"145/90",pulse:80,oxygen:95,weight:62,bloodSugar:5.5,measuredAt:"2026-01-07T08:30:00.000Z",measuredBy:"Msa Dace",notes:"Nedaudz paaugstints asinsspiediens"}],dv=[{id:"VAC-001",residentId:"RES-001",vaccineName:"Comirnaty (Pfizer-BioNTech)",vaccineType:"COVID-19",series:"BNT162b2",administeredDate:"2024-10-15",expirationDate:"2025-10-15",administeredBy:"Dr. Liepi",createdAt:"2024-10-15T10:00:00.000Z"},{id:"VAC-002",residentId:"RES-001",vaccineName:"Influvac Tetra",vaccineType:"Gripa",series:"INF2024",administeredDate:"2024-11-01",expirationDate:"2025-11-01",administeredBy:"Msa Irna",createdAt:"2024-11-01T09:00:00.000Z"},{id:"VAC-003",residentId:"RES-002",vaccineName:"Comirnaty (Pfizer-BioNTech)",vaccineType:"COVID-19",series:"BNT162b2",administeredDate:"2024-10-20",expirationDate:"2025-10-20",administeredBy:"Dr. Kalni",createdAt:"2024-10-20T11:00:00.000Z"},{id:"VAC-004",residentId:"RES-003",vaccineName:"Influvac Tetra",vaccineType:"Gripa",series:"INF2024",administeredDate:"2024-11-05",expirationDate:"2025-11-05",administeredBy:"Msa Dace",createdAt:"2024-11-05T14:00:00.000Z"}],uv=[{id:"DOC-001",residentId:"RES-001",assessedAt:"2026-01-05T10:00:00.000Z",assessedBy:"Dr. Liepi",findings:"Stabils stvoklis. Turpint pareizjo rstanu.",recommendations:"Kontrole pc 1 mnea",notes:""},{id:"DOC-002",residentId:"RES-002",assessedAt:"2026-01-03T11:00:00.000Z",assessedBy:"Dr. Kalni",findings:"Kognitvs funkcijas nemaingas. Izteikta slaicgs atmias traucjumi.",recommendations:"Turpint kognitvo stimulciju",notes:""},{id:"DOC-003",residentId:"RES-003",assessedAt:"2026-01-04T09:30:00.000Z",assessedBy:"Dr. Ozols",findings:"Sdzas par aizdusas epizodm. EKG bez izmaim.",recommendations:"Palielint diurtia devu",notes:"Kontrolt svaru katru dienu"}],mv=[{id:"NRS-001",residentId:"RES-001",assessedAt:"2026-01-07T07:30:00.000Z",assessedBy:"Msa Irna",findings:"Guljusi labi. stgribu normla.",notes:""},{id:"NRS-002",residentId:"RES-002",assessedAt:"2026-01-07T07:45:00.000Z",assessedBy:"Msa Irna",findings:"Dezorientts no rta. Paldzba vajadzga rbjoties.",notes:"Uzmangi sekot aktivittm"},{id:"NRS-003",residentId:"RES-003",assessedAt:"2026-01-07T08:00:00.000Z",assessedBy:"Msa Dace",findings:"Nedaudz nogurusi. Kjas pietkuas.",notes:"Pacelt kjas gult"}],xv=[{id:"PSY-001",residentId:"RES-002",assessedAt:"2025-12-15T14:00:00.000Z",assessedBy:"Dr. Straupe",findings:"MMSE: 18/30. Vidji smagi kognitvi traucjumi.",recommendations:"Turpint donepezilu",notes:""}],pv=[{id:"PHY-001",residentId:"RES-001",assessedAt:"2026-01-02T10:00:00.000Z",assessedBy:"Fiziot. Kalnja",findings:"Gaita stabila ar rollatoru. Izpilda vingrojumus patstvgi.",notes:"Turpint ikdienas vingrojumus"},{id:"PHY-002",residentId:"RES-002",assessedAt:"2026-01-02T11:00:00.000Z",assessedBy:"Fiziot. Kalnja",findings:"Nepiecieama paldzba staigjot. Izmanto rolatoru.",notes:"Uzmanba - kritienu risks"}],gv=[{id:"MORSE-001",residentId:"RES-001",scaleType:"morse",score:35,riskLevel:"medium",factors:{fallHistory:0,secondaryDiagnosis:15,ambulatoryAid:15,ivTherapy:0,gait:5,mentalStatus:0},assessedAt:"2026-01-01T10:00:00.000Z",assessedBy:"Msa Irna"},{id:"MORSE-002",residentId:"RES-002",scaleType:"morse",score:55,riskLevel:"high",factors:{fallHistory:25,secondaryDiagnosis:15,ambulatoryAid:15,ivTherapy:0,gait:0,mentalStatus:0},assessedAt:"2026-01-01T10:30:00.000Z",assessedBy:"Msa Irna"},{id:"MORSE-003",residentId:"RES-003",scaleType:"morse",score:25,riskLevel:"low",factors:{fallHistory:0,secondaryDiagnosis:15,ambulatoryAid:0,ivTherapy:0,gait:10,mentalStatus:0},assessedAt:"2026-01-01T11:00:00.000Z",assessedBy:"Msa Dace"}],fv=[{id:"BRADEN-001",residentId:"RES-001",scaleType:"braden",score:18,riskLevel:"low",factors:{sensoryPerception:4,moisture:3,activity:3,mobility:3,nutrition:3,frictionShear:2},assessedAt:"2026-01-01T10:00:00.000Z",assessedBy:"Msa Irna"},{id:"BRADEN-002",residentId:"RES-002",scaleType:"braden",score:14,riskLevel:"medium",factors:{sensoryPerception:3,moisture:3,activity:2,mobility:2,nutrition:2,frictionShear:2},assessedAt:"2026-01-01T10:30:00.000Z",assessedBy:"Msa Irna"}],hv=[{id:"BARTHEL-001",residentId:"RES-001",scaleType:"barthel",score:75,riskLevel:"medium",factors:{feeding:10,bathing:0,grooming:5,dressing:10,bowels:10,bladder:10,toiletUse:10,transfers:10,mobility:10,stairs:0},assessedAt:"2026-01-01T10:00:00.000Z",assessedBy:"Msa Irna"},{id:"BARTHEL-002",residentId:"RES-002",scaleType:"barthel",score:45,riskLevel:"severe",factors:{feeding:5,bathing:0,grooming:0,dressing:5,bowels:5,bladder:5,toiletUse:5,transfers:10,mobility:10,stairs:0},assessedAt:"2026-01-01T10:30:00.000Z",assessedBy:"Msa Irna"},{id:"BARTHEL-003",residentId:"RES-003",scaleType:"barthel",score:85,riskLevel:"low",factors:{feeding:10,bathing:5,grooming:5,dressing:10,bowels:10,bladder:10,toiletUse:10,transfers:10,mobility:15,stairs:0},assessedAt:"2026-01-01T11:00:00.000Z",assessedBy:"Msa Dace"}],yv=[{id:"AID-001",residentId:"RES-001",aidType:"rollator",description:"Rollators ar sdekli",assignedDate:"2025-06-01",status:"active",notes:"Izmanto ikdien"},{id:"AID-002",residentId:"RES-002",aidType:"rollator",description:"Rollators",assignedDate:"2025-07-15",status:"active",notes:""},{id:"AID-003",residentId:"RES-002",aidType:"bed_rails",description:"Gultas margalas",assignedDate:"2025-07-15",status:"active",notes:"Kritienu profilaksei"},{id:"AID-004",residentId:"RES-003",aidType:"walking_cane",description:"Spieis",assignedDate:"2025-08-01",status:"active",notes:""}],vv=()=>{const n=localStorage.getItem(Se.RESIDENTS);return n&&JSON.parse(n).length>0},bv=()=>{if(vv()){console.log("Demo data already initialized");return}console.log("Initializing demo data..."),tc(),hm.forEach(n=>{u0(n.roomId,n.bedNumber,n.id)}),localStorage.setItem(Se.RESIDENTS,JSON.stringify(hm)),localStorage.setItem(Se.DIAGNOSES,JSON.stringify(ov)),localStorage.setItem(Se.VITALS_LOG,JSON.stringify(cv)),localStorage.setItem(Se.VACCINATIONS,JSON.stringify(dv)),localStorage.setItem(Se.DOCTOR_ASSESSMENTS,JSON.stringify(uv)),localStorage.setItem(Se.NURSE_ASSESSMENTS,JSON.stringify(mv)),localStorage.setItem(Se.PSYCHIATRIST_ASSESSMENTS,JSON.stringify(xv)),localStorage.setItem(Se.PHYSIO_ASSESSMENTS,JSON.stringify(pv)),localStorage.setItem(Se.RISK_MORSE,JSON.stringify(gv)),localStorage.setItem(Se.RISK_BRADEN,JSON.stringify(fv)),localStorage.setItem(Se.RISK_BARTHEL,JSON.stringify(hv)),localStorage.setItem(Se.TECHNICAL_AIDS,JSON.stringify(yv)),console.log("Demo data initialized successfully")},Nv=({lead:n,queuePosition:i,onClose:l,onSend:o})=>{var y,N,k;const[u,m]=j.useState(!1),[x]=j.useState(()=>yh(n,i)),g=async()=>{const w=`Subject: ${x.subject}

${x.body}`;try{await navigator.clipboard.writeText(w),m(!0),setTimeout(()=>m(!1),2e3)}catch(b){console.error("Failed to copy:",b)}},p=()=>{o(n)},f=w=>{switch(w){case"single":return"Vienvietga istaba";case"double":return"Divvietga istaba";case"triple":return"Trsvietga istaba";default:return w}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(tr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"}),"Piedvjums no rindas"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Pozcija rind: #",i]})]}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ge,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-4 sm:p-6 bg-blue-50 border-b border-blue-100",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block",children:"Klients"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[n.firstName," ",n.lastName]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block",children:"Aprpes lmenis"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[(y=n.consultation)==null?void 0:y.careLevel,". lmenis"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block",children:"Istaba"}),e.jsx("span",{className:"font-semibold text-gray-900",children:f((N=n.consultation)==null?void 0:N.roomType)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block",children:"Cena"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[(k=n.consultation)==null?void 0:k.price," /d"]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Samjs:"}),e.jsxs("div",{className:"font-medium text-gray-900",children:[n.firstName," ",n.lastName," <",n.email,">"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Temats:"}),e.jsx("div",{className:"font-semibold text-gray-900",children:x.subject})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Ziojums:"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-gray-700 leading-relaxed",children:x.body})})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(gt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-green-900",children:[e.jsx("p",{className:"font-medium mb-1",children:"Piedvjums vietas pieejambai"}),e.jsx("p",{className:"text-green-700",children:"Klients tiks informts, ka vieta ir pieejama un jsazins 3 darba dienu laik. Pc nostanas klients paliks rind ldz apstiprinsiet lgumu."})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 p-4 sm:p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:l,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsx("button",{onClick:g,className:"flex-1 px-6 py-2.5 border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 font-medium flex items-center justify-center gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"w-4 h-4"}),"Nokopts!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Zm,{className:"w-4 h-4"}),"Kopt saturu"]})}),e.jsxs("button",{onClick:p,className:"flex-1 px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(Fr,{className:"w-4 h-4"}),"Nostt piedvjumu"]})]})]})})};bv();const jv=()=>{const{leads:n,addLead:i,updateLead:l}=Wo(),[o,u]=j.useState(B.LIST),[m,x]=j.useState("all-leads"),[g,p]=j.useState({firstName:"",lastName:"",email:"",phone:"",comment:""}),[f,y]=j.useState(null),[N,k]=j.useState({}),[w,b]=j.useState({careLevel:"",duration:"",roomType:"",notes:"",hasDementia:!1,fillScenario:"in-person"}),[R,v]=j.useState(!1),[E,_]=j.useState(null),[D,O]=j.useState(null),[q,H]=j.useState(null),[G,ee]=j.useState(null),[V,ne]=j.useState(null),ce=J=>{J.preventDefault();const pe=Vm(g);if(k(pe),Um(pe)){const et=ff(g);y(et),i(et),u(B.LEAD_VIEW)}},me=()=>{const J=Ro(w),pe={...w,price:J},et=hf(f,pe);y(et),i(et),w.fillScenario==="in-person"?u(B.SURVEY):u(B.WAITING)},ve=J=>{const pe={...f,...J};y(pe),l(f.id,J)},he=J=>{const pe=Ro(J),et={...f.consultation,...J,price:pe},qt={...f,consultation:et};y(qt),i(qt)},Le=()=>{u(B.SURVEY)},qe=J=>{const pe={...f,status:ye.SURVEY_FILLED,survey:J};y(pe),i(pe),u(B.OFFER_REVIEW)},Ee=J=>{const pe={...f,status:ye.SURVEY_FILLED,offer:J};y(pe),i(pe),u(B.OFFER_REVIEW)},K=()=>{const J=am(),pe={...f,status:ye.AGREEMENT,agreementNumber:J};y(pe),i(pe),u(B.AGREEMENT)},ae=()=>{const J=lm(f);y(J),i(J),u(B.QUEUE)},W=()=>{const J=lm(f);y(J),i(J),u(B.QUEUE)},T=J=>{_(J),v(!0)},L=J=>{const pe=yf(J);i(pe),v(!1),_(null)},de=J=>{const pe=am(),et={...J,status:ye.AGREEMENT,agreementNumber:pe,acceptedFromQueueDate:zn(),acceptedFromQueueTime:Ln()};y(et),i(et),u(B.AGREEMENT)},ue=(J,pe)=>{const et=n.find(qt=>qt.id===J);if(et){const qt={...et,status:ye.CANCELLED,cancellation:pe};i(qt)}},xe=J=>{y(J),u(B.QUEUE)},fe=()=>{const J={...f,emailSent:!0,emailSentDate:zn(),emailSentTime:Ln()};y(J),i(J)},je=J=>{const pe={...f,status:ye.CANCELLED,cancellation:J};y(pe),i(pe),u(B.LIST)},be=()=>{u(B.FORM),p({firstName:"",lastName:"",email:"",phone:"",comment:""}),y(null),b({careLevel:"",duration:"",roomType:"",notes:"",hasDementia:!1,fillScenario:"in-person"}),k({})},Ce=J=>{if(J.status===ye.CANCELLED)return;y({...J,assignedTo:J.assignedTo||"Kristens Blms",createdTime:J.createdTime||"10:00"});const pe=J.status||ye.PROSPECT;pe===ye.PROSPECT?u(B.LEAD_VIEW):pe===ye.CONSULTATION?u(B.WAITING):pe===ye.SURVEY_FILLED?u(B.OFFER_REVIEW):pe===ye.AGREEMENT?u(B.AGREEMENT):pe===ye.QUEUE&&u(B.QUEUE)},We=J=>{x(J),J==="queue"?u(B.QUEUE_LIST):J==="prescriptions"?(O(null),u(B.RESIDENT_LIST)):J==="resident-list"?(ne(null),u(B.RESIDENT_LIST_PROFILE)):J==="room-management"?u(B.ROOM_MANAGEMENT):J==="bulk-inventory"?u(B.INVENTORY_DASHBOARD):J==="resident-inventory"?(H(null),u(B.RESIDENT_INVENTORY_LIST)):u(J==="inventory-reports"?B.INVENTORY_REPORTS:B.LIST)},ar=J=>{O(J),u(B.RESIDENT_PRESCRIPTIONS)},Gn=()=>{u(B.PRESCRIPTION_PRINT)},lr=J=>{ne(J),u(B.RESIDENT_PROFILE)},Ur=J=>{O(J),u(B.RESIDENT_PRESCRIPTIONS)},Wn=J=>{H(J),u(B.RESIDENT_INVENTORY)},Qn=Ro(w),qr=w.careLevel&&w.duration&&w.roomType,Jn=[B.RESIDENT_LIST,B.RESIDENT_PRESCRIPTIONS,B.PRESCRIPTION_PRINT].includes(o),Hr=[B.RESIDENT_LIST_PROFILE,B.RESIDENT_PROFILE].includes(o),$s=o===B.ROOM_MANAGEMENT,ps=o===B.QUEUE_LIST,Kr=o===B.LIST?m:Jn?"prescriptions":Hr?"resident-list":$s?"room-management":ps?"queue":o===B.INVENTORY_DASHBOARD?"bulk-inventory":o===B.RESIDENT_INVENTORY_LIST||o===B.RESIDENT_INVENTORY?"resident-inventory":o===B.INVENTORY_REPORTS?"inventory-reports":null,Yn=o===B.OFFER_CUSTOMER;return e.jsxs("div",{children:[e.jsx(ch,{onNavigate:We,currentView:Kr,isCustomerView:Yn}),o===B.FORM&&e.jsx(dh,{leadData:g,errors:N,onChange:p,onSubmit:ce,onBack:()=>u(B.LIST)}),o===B.LEAD_VIEW&&f&&e.jsx(mh,{savedLead:f,onBack:()=>u(B.LIST),onStartConsultation:()=>u(B.CONSULTATION),onUpdate:ve,onCancelLead:je}),o===B.CONSULTATION&&f&&e.jsx(xh,{savedLead:f,consultation:w,price:Qn,allSelected:qr,onConsultationChange:b,onSave:me,onBack:()=>u(B.LEAD_VIEW)}),o===B.WAITING&&f&&e.jsx(vh,{savedLead:f,onBack:()=>u(B.CONSULTATION),onCreateAgreement:Le,onAddToQueue:W,onViewList:()=>u(B.LIST),onUpdateConsultation:he,onEmailSent:fe,onCancelLead:je}),o===B.SURVEY&&f&&e.jsx(bh,{savedLead:f,onSubmit:qe,onBack:()=>u(B.WAITING)}),o===B.OFFER_CUSTOMER&&f&&e.jsx(Nh,{savedLead:f,onSubmit:Ee,onCancel:()=>u(B.WAITING)}),o===B.OFFER_REVIEW&&f&&e.jsx(wh,{savedLead:f,onCreateAgreement:K,onAddToQueue:ae,onBack:()=>u(B.SURVEY),onEmailSent:fe,onCancelLead:je}),o===B.AGREEMENT&&f&&e.jsx(Sh,{savedLead:f,onBack:()=>u(B.OFFER_REVIEW),onViewList:()=>u(B.LIST),onAddNew:be,onCancelLead:je,onBookBed:()=>u(B.BED_BOOKING)}),o===B.QUEUE&&f&&e.jsx(Eh,{savedLead:f,allLeads:n,onBack:()=>u(B.OFFER_REVIEW),onViewList:()=>u(B.LIST),onAddNew:be,onCancelLead:je}),o===B.QUEUE_LIST&&e.jsx(Ch,{allLeads:n,onSendOffer:T,onAcceptFromQueue:de,onViewLead:xe,onCancelLead:ue}),o===B.LIST&&e.jsx(Ih,{allLeads:n,onAddNew:be,onSelectLead:Ce,filterView:m}),o===B.RESIDENT_LIST&&e.jsx(pm,{onSelectResident:ar,onBack:()=>u(B.LIST)}),o===B.RESIDENT_PRESCRIPTIONS&&D&&e.jsx(ry,{resident:D,onBack:()=>u(B.RESIDENT_LIST),onPrint:Gn}),o===B.PRESCRIPTION_PRINT&&D&&e.jsx(ay,{resident:D,onBack:()=>u(B.RESIDENT_PRESCRIPTIONS)}),o===B.INVENTORY_DASHBOARD&&e.jsx(By,{onNavigate:We,onSelectResident:J=>{ee(J),H(null),u(B.RESIDENT_INVENTORY_LIST)}}),(o===B.RESIDENT_INVENTORY_LIST||o===B.RESIDENT_INVENTORY)&&e.jsx(Qy,{selectedResident:q,preselectedBulkItem:G,onBack:()=>{ee(null),u(B.INVENTORY_DASHBOARD)},onNavigate:We}),o===B.INVENTORY_REPORTS&&e.jsxs("div",{className:"p-6 text-center text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"Atskaites (drzum)"}),e.jsx("p",{className:"text-sm mt-2",children:" funkcionalitte tiks pievienota nkamaj versij."})]}),o===B.ROOM_MANAGEMENT&&e.jsx(Zy,{onNavigate:We}),o===B.BED_BOOKING&&f&&e.jsx(Xy,{lead:f,onComplete:J=>{const pe={...f,residentId:J.id,bookedRoomId:J.roomId,bookedBedNumber:J.bedNumber};y(pe),i(pe),u(B.AGREEMENT)},onBack:()=>u(B.AGREEMENT)}),o===B.RESIDENT_LIST_PROFILE&&e.jsx(pm,{mode:"profile",onSelectResident:lr,onBack:()=>u(B.LIST)}),o===B.RESIDENT_PROFILE&&V&&e.jsx(iv,{residentId:V.id,onBack:()=>u(B.RESIDENT_LIST_PROFILE),onNavigateToPrescriptions:Ur,onNavigateToInventory:Wn}),R&&E&&e.jsx(Nv,{lead:E,queuePosition:qm(E,n),onClose:()=>{v(!1),_(null)},onSend:L})]})},wv=()=>{const{id:n}=Tm(),{leads:i}=Wo(),l=i.find(m=>m.id===n);if(!l)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[e.jsx(Ut,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pieteikums nav atrasts"}),e.jsx("p",{className:"text-gray-600",children:" saite vairs nav derga vai pieteikums ir dzsts."})]})});const o=l.consultation||{},u=l.survey||{};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"https://via.placeholder.com/60x60/f97316/ffffff?text=A",alt:"Adoro",className:"w-12 h-12 rounded-lg"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Adoro ampteris"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Socils aprpes centrs"})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Fe,{className:"w-7 h-7 text-green-600"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:["Labdien, ",u.firstName||l.firstName," ",u.lastName||l.lastName,"!"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Paldies, ka apmekljt msu iestdi. eit Js varat prskatt informciju, ko esam savkui pc msu sarunas. Ldzu prbaudiet, vai viss ir pareizi."})]})]})}),e.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-5 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ut,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Tikai apskatei"}),e.jsx("p",{className:"text-sm text-blue-800",children:" ir tikai informcijas apskates lapa. Ja pamant kdu vai vlaties ko maint, ldzu sazinieties ar mums pa e-pastu vai tlruni (kontakti lapas apak)."})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx($r,{className:"w-5 h-5 text-orange-500"}),"Jsu izvltais pakalpojums"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Aprpes lmenis"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[o.careLevel,". lmenis"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Uzturans"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:o.duration==="long"?"Ilglaicga":"slaicga"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Istabas veids"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[o.roomType==="single"?"Vienvietga":"Divvietga",o.hasDementia&&" (Specila)"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("p",{className:"text-sm text-green-700 mb-1",children:"Cena"}),e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[o.price,"  / dien"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ft,{className:"w-5 h-5 text-orange-500"}),"Jsu persong informcija"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Vrds, uzvrds"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[u.firstName||l.firstName," ",u.lastName||l.lastName]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[e.jsx(ms,{className:"w-3 h-3"})," Tlrunis"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:u.phone||l.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[e.jsx(gt,{className:"w-3 h-3"})," E-pasts"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:u.email||l.email})]})]}),u.street&&u.city&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[e.jsx(Lo,{className:"w-3 h-3"})," Adrese"]}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[u.street,", ",u.city,", ",u.postalCode]})]})]})]}),u.signerScenario==="relative"&&u.clientFirstName&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lguma paraksttjs"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Vrds, uzvrds"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[u.clientFirstName," ",u.clientLastName]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Tlrunis"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:u.clientPhone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"E-pasts"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:u.clientEmail})]})]})]})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-5",children:[e.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:"Nkamie soi"}),e.jsx("p",{className:"text-sm text-orange-800 mb-3",children:"Ja visa informcija ir pareiza, ms turpinsim ar lguma sagatavoanu un sazinsimies ar Jums tuvkaj laik."}),e.jsx("p",{className:"text-sm text-orange-800",children:"Ja ir jautjumi vai nepiecieami labojumi, ldzu sazinieties ar mums."})]})]}),e.jsx("div",{className:"bg-white border-t border-gray-200 mt-12",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Adoro ampteris"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Zolitdes iela 68A"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rga, LV-1046"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Kontakti"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tlrunis: +371 20 616 003"}),e.jsx("p",{className:"text-sm text-gray-600",children:"E-pasts: rezidence.sampeteris@adoro.lv"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"www.adoro.lv"})]})]})})})]})},kv=()=>{const{id:n}=Tm(),{leads:i,addLead:l}=Wo(),o=i.find(E=>E.id===n),[u,m]=j.useState(!1),[x,g]=j.useState({}),p=(o==null?void 0:o.survey)||{},[f,y]=j.useState(p.signerScenario||"resident"),[N,k]=j.useState({firstName:p.firstName||(o==null?void 0:o.firstName)||"",lastName:p.lastName||(o==null?void 0:o.lastName)||"",phone:p.phone||(o==null?void 0:o.phone)||"",email:p.email||(o==null?void 0:o.email)||"",birthDate:p.birthDate||"",personalCode:p.personalCode||"",street:p.street||"",city:p.city||"",postalCode:p.postalCode||"",gender:p.gender||"",disabilityGroup:p.disabilityGroup||"",disabilityDateFrom:p.disabilityDateFrom||"",disabilityDateTo:p.disabilityDateTo||"",stayDateFrom:p.stayDateFrom||new Date().toISOString().split("T")[0],stayDateTo:p.stayDateTo||"",clientFirstName:p.clientFirstName||"",clientLastName:p.clientLastName||"",relationship:p.relationship||"",clientPhone:p.clientPhone||"",clientEmail:p.clientEmail||"",clientStreet:p.clientStreet||"",clientCity:p.clientCity||"",clientPostalCode:p.clientPostalCode||"",clientPersonalCode:p.clientPersonalCode||""});if(!o)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[e.jsx(Ut,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pieteikums nav atrasts"}),e.jsx("p",{className:"text-gray-600",children:" saite vairs nav derga vai pieteikums ir dzsts."})]})});if(u)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Fe,{className:"w-10 h-10 text-green-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Paldies!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Jsu anketa ir veiksmgi nostta. Ms sazinsimies ar Jums tuvkaj laik."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[e.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"Adoro ampteris"}),e.jsx("p",{className:"text-sm text-blue-800 mt-2",children:"Tlrunis: +371 20 616 003"}),e.jsx("p",{className:"text-sm text-blue-800",children:"E-pasts: rezidence.sampeteris@adoro.lv"})]})]})});const w=(E,_)=>{k(D=>({...D,[E]:_})),x[E]&&g(D=>{const O={...D};return delete O[E],O})},b=E=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100",children:E.title}),e.jsx("div",{className:"space-y-4",children:E.fields.map(_=>{var q;const D=N.disabilityGroup&&N.disabilityGroup!=="none"&&N.disabilityGroup!=="";if((_.name==="disabilityDateFrom"||_.name==="disabilityDateTo")&&!D)return null;const O=()=>_.type==="date"?"max-w-xs":_.type==="tel"||_.name==="personalCode"||_.name==="clientPersonalCode"?"max-w-sm":_.name==="postalCode"||_.name==="clientPostalCode"?"max-w-xs":_.name==="city"||_.name==="clientCity"?"max-w-sm":_.type==="select"&&(_.name==="gender"||_.name==="disabilityGroup")?"max-w-xs":"w-full";return e.jsx("div",{children:_.type==="select"?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[_.label," ",_.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:N[_.name],onChange:H=>w(_.name,H.target.value),className:`${O()} px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white`,children:[e.jsx("option",{value:"",children:"Izvlieties..."}),(q=_.options)==null?void 0:q.map(H=>e.jsx("option",{value:H.value,children:H.label},H.value))]})]}):e.jsxs("div",{className:O(),children:[e.jsx(Bt,{label:_.label,name:_.name,type:_.type,value:N[_.name],onChange:H=>w(_.name,H.target.value),error:x[_.name],required:_.required,placeholder:_.placeholder}),_.helper&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:_.helper})]})},_.name)})})]},E.id),R=E=>{E.preventDefault();const _={};if(Ar.forEach(D=>{D.fields.forEach(O=>{O.required&&!N[O.name]&&(_[O.name]="Obligts lauks")})}),f==="relative"&&Pr.forEach(D=>{D.fields.forEach(O=>{O.required&&!N[O.name]&&(_[O.name]="Obligts lauks")})}),g(_),Object.keys(_).length===0){const D={...o,status:"survey_filled",survey:{...N,signerScenario:f}};l(D),m(!0)}else window.scrollTo({top:0,behavior:"smooth"})},v=o.consultation||{};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"https://via.placeholder.com/60x60/f97316/ffffff?text=A",alt:"Adoro",className:"w-12 h-12 rounded-lg"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Adoro ampteris"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Socils aprpes centrs"})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:["Labdien, ",o.firstName," ",o.lastName,"!"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Paldies par interesi par Adoro aprpes centru. Ldzu aizpildiet o anketu ar visu nepiecieamo informciju lguma sagatavoanai."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Jsu izvltais pakalpojums:"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Aprpe:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[v.careLevel,". lmenis"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Istaba:"}),e.jsx("span",{className:"ml-1 font-medium",children:v.roomType==="single"?"Vienvietga":"Divvietga"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Periods:"}),e.jsx("span",{className:"ml-1 font-medium",children:v.duration==="long"?"Ilglaicgs":"slaicgs"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Cena:"}),e.jsxs("span",{className:"ml-1 font-bold text-green-700",children:[v.price," /dien"]})]})]})]})]}),e.jsxs("form",{onSubmit:R,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ft,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Rezidenta informcija"})]}),Ar.map(E=>b(E))]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Lguma paraksttjs"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${f==="resident"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"resident",checked:f==="resident",onChange:E=>y(E.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Rezidents pats"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Parakstu persongi"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${f==="relative"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"relative",checked:f==="relative",onChange:E=>y(E.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Radinieks / Pilnvarot persona"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Paraksts cita persona"})]})]})]})}),f==="relative"&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Paraksttja informcija"}),Pr.map(E=>b(E))]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-gray-200",children:e.jsxs("button",{type:"submit",className:"flex-1 px-8 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(kl,{className:"w-5 h-5"}),"Nostt anketu"]})})]})]}),e.jsx("div",{className:"bg-white border-t border-gray-200 mt-12",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"Adoro ampteris"}),e.jsx("p",{children:"Zolitdes iela 68A, Rga, LV-1046"}),e.jsx("p",{className:"mt-2",children:"Tlrunis: +371 20 616 003 | E-pasts: rezidence.sampeteris@adoro.lv"})]})})})]})};Ap.createRoot(document.getElementById("root")).render(e.jsx(j.StrictMode,{children:e.jsx(tf,{basename:"/adorable-prototype",children:e.jsxs(Tg,{children:[e.jsx(dl,{path:"/",element:e.jsx(jv,{})}),e.jsx(dl,{path:"/review/:id",element:e.jsx(wv,{})}),e.jsx(dl,{path:"/fill/:id",element:e.jsx(kv,{})})]})})}));
