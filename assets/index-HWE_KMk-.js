(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const x of c.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&l(x)}).observe(document,{childList:!0,subtree:!0});function i(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=i(u);fetch(u.href,c)}})();var oc={exports:{}},Nn={},cc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function Sp(){if(Om)return we;Om=1;var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),x=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),N=Symbol.iterator;function I(L){return L===null||typeof L!="object"?null:(L=N&&L[N]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,k={};function b(L,W,he){this.props=L,this.context=W,this.refs=k,this.updater=he||D}b.prototype.isReactComponent={},b.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=b.prototype;function w(L,W,he){this.props=L,this.context=W,this.refs=k,this.updater=he||D}var E=w.prototype=new C;E.constructor=w,v(E,b.prototype),E.isPureReactComponent=!0;var S=Array.isArray,R=Object.prototype.hasOwnProperty,z={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function A(L,W,he){var fe,be={},pe=null,Ee=null;if(W!=null)for(fe in W.ref!==void 0&&(Ee=W.ref),W.key!==void 0&&(pe=""+W.key),W)R.call(W,fe)&&!B.hasOwnProperty(fe)&&(be[fe]=W[fe]);var Ne=arguments.length-2;if(Ne===1)be.children=he;else if(1<Ne){for(var Re=Array(Ne),He=0;He<Ne;He++)Re[He]=arguments[He+2];be.children=Re}if(L&&L.defaultProps)for(fe in Ne=L.defaultProps,Ne)be[fe]===void 0&&(be[fe]=Ne[fe]);return{$$typeof:r,type:L,key:pe,ref:Ee,props:be,_owner:z.current}}function H(L,W){return{$$typeof:r,type:L.type,key:W,ref:L.ref,props:L.props,_owner:L._owner}}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function K(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return W[he]})}var ae=/\/+/g;function ce(L,W){return typeof L=="object"&&L!==null&&L.key!=null?K(""+L.key):W.toString(36)}function je(L,W,he,fe,be){var pe=typeof L;(pe==="undefined"||pe==="boolean")&&(L=null);var Ee=!1;if(L===null)Ee=!0;else switch(pe){case"string":case"number":Ee=!0;break;case"object":switch(L.$$typeof){case r:case n:Ee=!0}}if(Ee)return Ee=L,be=be(Ee),L=fe===""?"."+ce(Ee,0):fe,S(be)?(he="",L!=null&&(he=L.replace(ae,"$&/")+"/"),je(be,W,he,"",function(He){return He})):be!=null&&(O(be)&&(be=H(be,he+(!be.key||Ee&&Ee.key===be.key?"":(""+be.key).replace(ae,"$&/")+"/")+L)),W.push(be)),1;if(Ee=0,fe=fe===""?".":fe+":",S(L))for(var Ne=0;Ne<L.length;Ne++){pe=L[Ne];var Re=fe+ce(pe,Ne);Ee+=je(pe,W,he,Re,be)}else if(Re=I(L),typeof Re=="function")for(L=Re.call(L),Ne=0;!(pe=L.next()).done;)pe=pe.value,Re=fe+ce(pe,Ne++),Ee+=je(pe,W,he,Re,be);else if(pe==="object")throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Ce(L,W,he){if(L==null)return L;var fe=[],be=0;return je(L,fe,"","",function(pe){return W.call(he,pe,be++)}),fe}function Ae(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var F={current:null},J={transition:null},le={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:J,ReactCurrentOwner:z};function te(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Ce,forEach:function(L,W,he){Ce(L,function(){W.apply(this,arguments)},he)},count:function(L){var W=0;return Ce(L,function(){W++}),W},toArray:function(L){return Ce(L,function(W){return W})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},we.Component=b,we.Fragment=i,we.Profiler=u,we.PureComponent=w,we.StrictMode=l,we.Suspense=g,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,we.act=te,we.cloneElement=function(L,W,he){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var fe=v({},L.props),be=L.key,pe=L.ref,Ee=L._owner;if(W!=null){if(W.ref!==void 0&&(pe=W.ref,Ee=z.current),W.key!==void 0&&(be=""+W.key),L.type&&L.type.defaultProps)var Ne=L.type.defaultProps;for(Re in W)R.call(W,Re)&&!B.hasOwnProperty(Re)&&(fe[Re]=W[Re]===void 0&&Ne!==void 0?Ne[Re]:W[Re])}var Re=arguments.length-2;if(Re===1)fe.children=he;else if(1<Re){Ne=Array(Re);for(var He=0;He<Re;He++)Ne[He]=arguments[He+2];fe.children=Ne}return{$$typeof:r,type:L.type,key:be,ref:pe,props:fe,_owner:Ee}},we.createContext=function(L){return L={$$typeof:x,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:c,_context:L},L.Consumer=L},we.createElement=A,we.createFactory=function(L){var W=A.bind(null,L);return W.type=L,W},we.createRef=function(){return{current:null}},we.forwardRef=function(L){return{$$typeof:p,render:L}},we.isValidElement=O,we.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:Ae}},we.memo=function(L,W){return{$$typeof:f,type:L,compare:W===void 0?null:W}},we.startTransition=function(L){var W=J.transition;J.transition={};try{L()}finally{J.transition=W}},we.unstable_act=te,we.useCallback=function(L,W){return F.current.useCallback(L,W)},we.useContext=function(L){return F.current.useContext(L)},we.useDebugValue=function(){},we.useDeferredValue=function(L){return F.current.useDeferredValue(L)},we.useEffect=function(L,W){return F.current.useEffect(L,W)},we.useId=function(){return F.current.useId()},we.useImperativeHandle=function(L,W,he){return F.current.useImperativeHandle(L,W,he)},we.useInsertionEffect=function(L,W){return F.current.useInsertionEffect(L,W)},we.useLayoutEffect=function(L,W){return F.current.useLayoutEffect(L,W)},we.useMemo=function(L,W){return F.current.useMemo(L,W)},we.useReducer=function(L,W,he){return F.current.useReducer(L,W,he)},we.useRef=function(L){return F.current.useRef(L)},we.useState=function(L){return F.current.useState(L)},we.useSyncExternalStore=function(L,W,he){return F.current.useSyncExternalStore(L,W,he)},we.useTransition=function(){return F.current.useTransition()},we.version="18.3.1",we}var $m;function Gc(){return $m||($m=1,cc.exports=Sp()),cc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function Cp(){if(Bm)return Nn;Bm=1;var r=Gc(),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function x(p,g,f){var h,N={},I=null,D=null;f!==void 0&&(I=""+f),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(D=g.ref);for(h in g)l.call(g,h)&&!c.hasOwnProperty(h)&&(N[h]=g[h]);if(p&&p.defaultProps)for(h in g=p.defaultProps,g)N[h]===void 0&&(N[h]=g[h]);return{$$typeof:n,type:p,key:I,ref:D,props:N,_owner:u.current}}return Nn.Fragment=i,Nn.jsx=x,Nn.jsxs=x,Nn}var Vm;function Ip(){return Vm||(Vm=1,oc.exports=Cp()),oc.exports}var e=Ip(),y=Gc(),Gl={},dc={exports:{}},Ot={},uc={exports:{}},mc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function Dp(){return Fm||(Fm=1,(function(r){function n(J,le){var te=J.length;J.push(le);e:for(;0<te;){var L=te-1>>>1,W=J[L];if(0<u(W,le))J[L]=le,J[te]=W,te=L;else break e}}function i(J){return J.length===0?null:J[0]}function l(J){if(J.length===0)return null;var le=J[0],te=J.pop();if(te!==le){J[0]=te;e:for(var L=0,W=J.length,he=W>>>1;L<he;){var fe=2*(L+1)-1,be=J[fe],pe=fe+1,Ee=J[pe];if(0>u(be,te))pe<W&&0>u(Ee,be)?(J[L]=Ee,J[pe]=te,L=pe):(J[L]=be,J[fe]=te,L=fe);else if(pe<W&&0>u(Ee,te))J[L]=Ee,J[pe]=te,L=pe;else break e}}return le}function u(J,le){var te=J.sortIndex-le.sortIndex;return te!==0?te:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var x=Date,p=x.now();r.unstable_now=function(){return x.now()-p}}var g=[],f=[],h=1,N=null,I=3,D=!1,v=!1,k=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(J){for(var le=i(f);le!==null;){if(le.callback===null)l(f);else if(le.startTime<=J)l(f),le.sortIndex=le.expirationTime,n(g,le);else break;le=i(f)}}function S(J){if(k=!1,E(J),!v)if(i(g)!==null)v=!0,Ae(R);else{var le=i(f);le!==null&&F(S,le.startTime-J)}}function R(J,le){v=!1,k&&(k=!1,C(A),A=-1),D=!0;var te=I;try{for(E(le),N=i(g);N!==null&&(!(N.expirationTime>le)||J&&!K());){var L=N.callback;if(typeof L=="function"){N.callback=null,I=N.priorityLevel;var W=L(N.expirationTime<=le);le=r.unstable_now(),typeof W=="function"?N.callback=W:N===i(g)&&l(g),E(le)}else l(g);N=i(g)}if(N!==null)var he=!0;else{var fe=i(f);fe!==null&&F(S,fe.startTime-le),he=!1}return he}finally{N=null,I=te,D=!1}}var z=!1,B=null,A=-1,H=5,O=-1;function K(){return!(r.unstable_now()-O<H)}function ae(){if(B!==null){var J=r.unstable_now();O=J;var le=!0;try{le=B(!0,J)}finally{le?ce():(z=!1,B=null)}}else z=!1}var ce;if(typeof w=="function")ce=function(){w(ae)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Ce=je.port2;je.port1.onmessage=ae,ce=function(){Ce.postMessage(null)}}else ce=function(){b(ae,0)};function Ae(J){B=J,z||(z=!0,ce())}function F(J,le){A=b(function(){J(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){v||D||(v=!0,Ae(R))},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return i(g)},r.unstable_next=function(J){switch(I){case 1:case 2:case 3:var le=3;break;default:le=I}var te=I;I=le;try{return J()}finally{I=te}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var te=I;I=J;try{return le()}finally{I=te}},r.unstable_scheduleCallback=function(J,le,te){var L=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?L+te:L):te=L,J){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,J={id:h++,callback:le,priorityLevel:J,startTime:te,expirationTime:W,sortIndex:-1},te>L?(J.sortIndex=te,n(f,J),i(g)===null&&J===i(f)&&(k?(C(A),A=-1):k=!0,F(S,te-L))):(J.sortIndex=W,n(g,J),v||D||(v=!0,Ae(R))),J},r.unstable_shouldYield=K,r.unstable_wrapCallback=function(J){var le=I;return function(){var te=I;I=le;try{return J.apply(this,arguments)}finally{I=te}}}})(mc)),mc}var Um;function Ep(){return Um||(Um=1,uc.exports=Dp()),uc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function _p(){if(qm)return Ot;qm=1;var r=Gc(),n=Ep();function i(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function c(t,s){x(t,s),x(t+"Capture",s)}function x(t,s){for(u[t]=s,t=0;t<s.length;t++)l.add(s[t])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},N={};function I(t){return g.call(N,t)?!0:g.call(h,t)?!1:f.test(t)?N[t]=!0:(h[t]=!0,!1)}function D(t,s,a,o){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function v(t,s,a,o){if(s===null||typeof s>"u"||D(t,s,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(t,s,a,o,d,m,j){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=t,this.type=s,this.sanitizeURL=m,this.removeEmptyString=j}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){b[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];b[s]=new k(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){b[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){b[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){b[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){b[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){b[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){b[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){b[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function w(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(C,w);b[s]=new k(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(C,w);b[s]=new k(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(C,w);b[s]=new k(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){b[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),b.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){b[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function E(t,s,a,o){var d=b.hasOwnProperty(s)?b[s]:null;(d!==null?d.type!==0:o||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(v(s,a,d,o)&&(a=null),o||d===null?I(s)&&(a===null?t.removeAttribute(s):t.setAttribute(s,""+a)):d.mustUseProperty?t[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,o=d.attributeNamespace,a===null?t.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,o?t.setAttributeNS(o,s,a):t.setAttribute(s,a))))}var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),K=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,L;function W(t){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+t}var he=!1;function fe(t,s){if(!t||he)return"";he=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(V){var o=V}Reflect.construct(t,[],s)}else{try{s.call()}catch(V){o=V}t.call(s.prototype)}else{try{throw Error()}catch(V){o=V}t()}}catch(V){if(V&&o&&typeof V.stack=="string"){for(var d=V.stack.split(`
`),m=o.stack.split(`
`),j=d.length-1,_=m.length-1;1<=j&&0<=_&&d[j]!==m[_];)_--;for(;1<=j&&0<=_;j--,_--)if(d[j]!==m[_]){if(j!==1||_!==1)do if(j--,_--,0>_||d[j]!==m[_]){var T=`
`+d[j].replace(" at new "," at ");return t.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",t.displayName)),T}while(1<=j&&0<=_);break}}}finally{he=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?W(t):""}function be(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return t=fe(t.type,!1),t;case 11:return t=fe(t.type.render,!1),t;case 1:return t=fe(t.type,!0),t;default:return""}}function pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case z:return"Portal";case H:return"Profiler";case A:return"StrictMode";case ce:return"Suspense";case je:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K:return(t.displayName||"Context")+".Consumer";case O:return(t._context.displayName||"Context")+".Provider";case ae:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ce:return s=t.displayName||null,s!==null?s:pe(t.type)||"Memo";case Ae:s=t._payload,t=t._init;try{return pe(t(s))}catch{}}return null}function Ee(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ne(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Re(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function He(t){var s=Re(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),o=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(j){o=""+j,m.call(this,j)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(j){o=""+j},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function gt(t){t._valueTracker||(t._valueTracker=He(t))}function Jt(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=Re(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function wt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bt(t,s){var a=s.checked;return te({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Me(t,s){var a=s.defaultValue==null?"":s.defaultValue,o=s.checked!=null?s.checked:s.defaultChecked;a=Ne(s.value!=null?s.value:a),t._wrapperState={initialChecked:o,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ot(t,s){s=s.checked,s!=null&&E(t,"checked",s,!1)}function Vt(t,s){ot(t,s);var a=Ne(s.value),o=s.type;if(a!=null)o==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?_t(t,s.type,a):s.hasOwnProperty("defaultValue")&&_t(t,s.type,Ne(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function ls(t,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var o=s.type;if(!(o!=="submit"&&o!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,a||s===t.value||(t.value=s),t.defaultValue=s}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function _t(t,s,a){(s!=="number"||wt(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var pt=Array.isArray;function Qt(t,s,a,o){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ne(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Rt(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(i(91));return te({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ms(t,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(i(92));if(pt(a)){if(1<a.length)throw Error(i(93));a=a[0]}s=a}s==null&&(s=""),a=s}t._wrapperState={initialValue:Ne(a)}}function Ns(t,s){var a=Ne(s.value),o=Ne(s.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),s.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),o!=null&&(t.defaultValue=""+o)}function ar(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function ws(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ks(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?ws(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var q,ke=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,o,d){MSApp.execUnsafeLocalFunction(function(){return t(s,a,o,d)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(q=q||document.createElement("div"),q.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=q.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Ue(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ss=["Webkit","ms","Moz","O"];Object.keys(tt).forEach(function(t){Ss.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),tt[s]=tt[t]})});function G(t,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||tt.hasOwnProperty(t)&&tt[t]?(""+s).trim():s+"px"}function U(t,s){t=t.style;for(var a in s)if(s.hasOwnProperty(a)){var o=a.indexOf("--")===0,d=G(a,s[a],o);a==="float"&&(a="cssFloat"),o?t.setProperty(a,d):t[a]=d}}var Le=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pe(t,s){if(s){if(Le[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(i(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(i(61))}if(s.style!=null&&typeof s.style!="object")throw Error(i(62))}}function ht(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var is=null;function st(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,Tt=null,kt=null;function Cs(t){if(t=ln(t)){if(typeof os!="function")throw Error(i(280));var s=t.stateNode;s&&(s=il(s),os(t.stateNode,t.type,s))}}function Rr(t){Tt?kt?kt.push(t):kt=[t]:Tt=t}function Tr(){if(Tt){var t=Tt,s=kt;if(kt=Tt=null,Cs(t),s)for(t=0;t<s.length;t++)Cs(s[t])}}function Ar(t,s){return t(s)}function Pr(){}var nr=!1;function zr(t,s,a){if(nr)return t(s,a);nr=!0;try{return Ar(t,s,a)}finally{nr=!1,(Tt!==null||kt!==null)&&(Pr(),Tr())}}function Is(t,s){var a=t.stateNode;if(a===null)return null;var o=il(a);if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var lr=!1;if(p)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{lr=!1}function na(t,s,a,o,d,m,j,_,T){var V=Array.prototype.slice.call(arguments,3);try{s.apply(a,V)}catch(Z){this.onError(Z)}}var St=!1,Os=null,$s=!1,Bs=null,ki={onError:function(t){St=!0,Os=t}};function Si(t,s,a,o,d,m,j,_,T){St=!1,Os=null,na.apply(ki,arguments)}function Ci(t,s,a,o,d,m,j,_,T){if(Si.apply(this,arguments),St){if(St){var V=Os;St=!1,Os=null}else throw Error(i(198));$s||($s=!0,Bs=V)}}function Vs(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function $n(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Ft(t){if(Vs(t)!==t)throw Error(i(188))}function Ii(t){var s=t.alternate;if(!s){if(s=Vs(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,o=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Ft(d),t;if(m===o)return Ft(d),s;m=m.sibling}throw Error(i(188))}if(a.return!==o.return)a=d,o=m;else{for(var j=!1,_=d.child;_;){if(_===a){j=!0,a=d,o=m;break}if(_===o){j=!0,o=d,a=m;break}_=_.sibling}if(!j){for(_=m.child;_;){if(_===a){j=!0,a=m,o=d;break}if(_===o){j=!0,o=m,a=d;break}_=_.sibling}if(!j)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function Lr(t){return t=Ii(t),t!==null?$a(t):null}function $a(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=$a(t);if(s!==null)return s;t=t.sibling}return null}var Ba=n.unstable_scheduleCallback,Va=n.unstable_cancelCallback,Bn=n.unstable_shouldYield,Vn=n.unstable_requestPaint,re=n.unstable_now,Ct=n.unstable_getCurrentPriorityLevel,cs=n.unstable_ImmediatePriority,Fs=n.unstable_UserBlockingPriority,Us=n.unstable_NormalPriority,$x=n.unstable_LowPriority,gd=n.unstable_IdlePriority,Fn=null,Es=null;function Bx(t){if(Es&&typeof Es.onCommitFiberRoot=="function")try{Es.onCommitFiberRoot(Fn,t,void 0,(t.current.flags&128)===128)}catch{}}var ds=Math.clz32?Math.clz32:Ux,Vx=Math.log,Fx=Math.LN2;function Ux(t){return t>>>=0,t===0?32:31-(Vx(t)/Fx|0)|0}var Un=64,qn=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kn(t,s){var a=t.pendingLanes;if(a===0)return 0;var o=0,d=t.suspendedLanes,m=t.pingedLanes,j=a&268435455;if(j!==0){var _=j&~d;_!==0?o=Fa(_):(m&=j,m!==0&&(o=Fa(m)))}else j=a&~d,j!==0?o=Fa(j):m!==0&&(o=Fa(m));if(o===0)return 0;if(s!==0&&s!==o&&(s&d)===0&&(d=o&-o,m=s&-s,d>=m||d===16&&(m&4194240)!==0))return s;if((o&4)!==0&&(o|=a&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=o;0<s;)a=31-ds(s),d=1<<a,o|=t[a],s&=~d;return o}function qx(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kx(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes;0<m;){var j=31-ds(m),_=1<<j,T=d[j];T===-1?((_&a)===0||(_&o)!==0)&&(d[j]=qx(_,s)):T<=s&&(t.expiredLanes|=_),m&=~_}}function Di(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pd(){var t=Un;return Un<<=1,(Un&4194240)===0&&(Un=64),t}function Ei(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Ua(t,s,a){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-ds(s),t[s]=a}function Gx(t,s){var a=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<a;){var d=31-ds(a),m=1<<d;s[d]=0,o[d]=-1,t[d]=-1,a&=~m}}function _i(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-ds(a),d=1<<o;d&s|t[o]&s&&(t[o]|=s),a&=~d}}var ze=0;function hd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var fd,Ri,yd,vd,bd,Ti=!1,Gn=[],ir=null,or=null,cr=null,qa=new Map,Ka=new Map,dr=[],Hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jd(t,s){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":qa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(s.pointerId)}}function Ga(t,s,a,o,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},s!==null&&(s=ln(s),s!==null&&Ri(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function Wx(t,s,a,o,d){switch(s){case"focusin":return ir=Ga(ir,t,s,a,o,d),!0;case"dragenter":return or=Ga(or,t,s,a,o,d),!0;case"mouseover":return cr=Ga(cr,t,s,a,o,d),!0;case"pointerover":var m=d.pointerId;return qa.set(m,Ga(qa.get(m)||null,t,s,a,o,d)),!0;case"gotpointercapture":return m=d.pointerId,Ka.set(m,Ga(Ka.get(m)||null,t,s,a,o,d)),!0}return!1}function Nd(t){var s=Mr(t.target);if(s!==null){var a=Vs(s);if(a!==null){if(s=a.tag,s===13){if(s=$n(a),s!==null){t.blockedOn=s,bd(t.priority,function(){yd(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hn(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Pi(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);is=o,a.target.dispatchEvent(o),is=null}else return s=ln(a),s!==null&&Ri(s),t.blockedOn=a,!1;s.shift()}return!0}function wd(t,s,a){Hn(t)&&a.delete(s)}function Jx(){Ti=!1,ir!==null&&Hn(ir)&&(ir=null),or!==null&&Hn(or)&&(or=null),cr!==null&&Hn(cr)&&(cr=null),qa.forEach(wd),Ka.forEach(wd)}function Ha(t,s){t.blockedOn===s&&(t.blockedOn=null,Ti||(Ti=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Jx)))}function Wa(t){function s(d){return Ha(d,t)}if(0<Gn.length){Ha(Gn[0],t);for(var a=1;a<Gn.length;a++){var o=Gn[a];o.blockedOn===t&&(o.blockedOn=null)}}for(ir!==null&&Ha(ir,t),or!==null&&Ha(or,t),cr!==null&&Ha(cr,t),qa.forEach(s),Ka.forEach(s),a=0;a<dr.length;a++)o=dr[a],o.blockedOn===t&&(o.blockedOn=null);for(;0<dr.length&&(a=dr[0],a.blockedOn===null);)Nd(a),a.blockedOn===null&&dr.shift()}var la=S.ReactCurrentBatchConfig,Wn=!0;function Qx(t,s,a,o){var d=ze,m=la.transition;la.transition=null;try{ze=1,Ai(t,s,a,o)}finally{ze=d,la.transition=m}}function Yx(t,s,a,o){var d=ze,m=la.transition;la.transition=null;try{ze=4,Ai(t,s,a,o)}finally{ze=d,la.transition=m}}function Ai(t,s,a,o){if(Wn){var d=Pi(t,s,a,o);if(d===null)Yi(t,s,o,Jn,a),jd(t,o);else if(Wx(d,t,s,a,o))o.stopPropagation();else if(jd(t,o),s&4&&-1<Hx.indexOf(t)){for(;d!==null;){var m=ln(d);if(m!==null&&fd(m),m=Pi(t,s,a,o),m===null&&Yi(t,s,o,Jn,a),m===d)break;d=m}d!==null&&o.stopPropagation()}else Yi(t,s,o,null,a)}}var Jn=null;function Pi(t,s,a,o){if(Jn=null,t=st(o),t=Mr(t),t!==null)if(s=Vs(t),s===null)t=null;else if(a=s.tag,a===13){if(t=$n(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Jn=t,null}function kd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ct()){case cs:return 1;case Fs:return 4;case Us:case $x:return 16;case gd:return 536870912;default:return 16}default:return 16}}var ur=null,zi=null,Qn=null;function Sd(){if(Qn)return Qn;var t,s=zi,a=s.length,o,d="value"in ur?ur.value:ur.textContent,m=d.length;for(t=0;t<a&&s[t]===d[t];t++);var j=a-t;for(o=1;o<=j&&s[a-o]===d[m-o];o++);return Qn=d.slice(t,1<o?1-o:void 0)}function Yn(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function Cd(){return!1}function Ut(t){function s(a,o,d,m,j){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=j,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(a=t[_],this[_]=a?a(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zn:Cd,this.isPropagationStopped=Cd,this}return te(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),s}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Ut(ia),Ja=te({},ia,{view:0,detail:0}),Zx=Ut(Ja),Mi,Oi,Qa,Xn=te({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qa&&(Qa&&t.type==="mousemove"?(Mi=t.screenX-Qa.screenX,Oi=t.screenY-Qa.screenY):Oi=Mi=0,Qa=t),Mi)},movementY:function(t){return"movementY"in t?t.movementY:Oi}}),Id=Ut(Xn),Xx=te({},Xn,{dataTransfer:0}),eg=Ut(Xx),tg=te({},Ja,{relatedTarget:0}),$i=Ut(tg),sg=te({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),rg=Ut(sg),ag=te({},ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ng=Ut(ag),lg=te({},ia,{data:0}),Dd=Ut(lg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dg(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=cg[t])?!!s[t]:!1}function Bi(){return dg}var ug=te({},Ja,{key:function(t){if(t.key){var s=ig[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Yn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?og[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bi,charCode:function(t){return t.type==="keypress"?Yn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mg=Ut(ug),xg=te({},Xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=Ut(xg),gg=te({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bi}),pg=Ut(gg),hg=te({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),fg=Ut(hg),yg=te({},Xn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vg=Ut(yg),bg=[9,13,27,32],Vi=p&&"CompositionEvent"in window,Ya=null;p&&"documentMode"in document&&(Ya=document.documentMode);var jg=p&&"TextEvent"in window&&!Ya,_d=p&&(!Vi||Ya&&8<Ya&&11>=Ya),Rd=" ",Td=!1;function Ad(t,s){switch(t){case"keyup":return bg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function Ng(t,s){switch(t){case"compositionend":return Pd(s);case"keypress":return s.which!==32?null:(Td=!0,Rd);case"textInput":return t=s.data,t===Rd&&Td?null:t;default:return null}}function wg(t,s){if(oa)return t==="compositionend"||!Vi&&Ad(t,s)?(t=Sd(),Qn=zi=ur=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _d&&s.locale!=="ko"?null:s.data;default:return null}}var kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!kg[t.type]:s==="textarea"}function Ld(t,s,a,o){Rr(o),s=al(s,"onChange"),0<s.length&&(a=new Li("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var Za=null,Xa=null;function Sg(t){eu(t,0)}function el(t){var s=xa(t);if(Jt(s))return t}function Cg(t,s){if(t==="change")return s}var Md=!1;if(p){var Fi;if(p){var Ui="oninput"in document;if(!Ui){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Ui=typeof Od.oninput=="function"}Fi=Ui}else Fi=!1;Md=Fi&&(!document.documentMode||9<document.documentMode)}function $d(){Za&&(Za.detachEvent("onpropertychange",Bd),Xa=Za=null)}function Bd(t){if(t.propertyName==="value"&&el(Xa)){var s=[];Ld(s,Xa,t,st(t)),zr(Sg,s)}}function Ig(t,s,a){t==="focusin"?($d(),Za=s,Xa=a,Za.attachEvent("onpropertychange",Bd)):t==="focusout"&&$d()}function Dg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return el(Xa)}function Eg(t,s){if(t==="click")return el(s)}function _g(t,s){if(t==="input"||t==="change")return el(s)}function Rg(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var us=typeof Object.is=="function"?Object.is:Rg;function en(t,s){if(us(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!g.call(s,d)||!us(t[d],s[d]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,s){var a=Vd(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vd(a)}}function Ud(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Ud(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function qd(){for(var t=window,s=wt();s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=wt(t.document)}return s}function qi(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Tg(t){var s=qd(),a=t.focusedElem,o=t.selectionRange;if(s!==a&&a&&a.ownerDocument&&Ud(a.ownerDocument.documentElement,a)){if(o!==null&&qi(a)){if(s=o.start,t=o.end,t===void 0&&(t=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(t,a.value.length);else if(t=(s=a.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var d=a.textContent.length,m=Math.min(o.start,d);o=o.end===void 0?m:Math.min(o.end,d),!t.extend&&m>o&&(d=o,o=m,m=d),d=Fd(a,m);var j=Fd(a,o);d&&j&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==j.node||t.focusOffset!==j.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),t.removeAllRanges(),m>o?(t.addRange(s),t.extend(j.node,j.offset)):(s.setEnd(j.node,j.offset),t.addRange(s)))}}for(s=[],t=a;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)t=s[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ag=p&&"documentMode"in document&&11>=document.documentMode,ca=null,Ki=null,tn=null,Gi=!1;function Kd(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gi||ca==null||ca!==wt(o)||(o=ca,"selectionStart"in o&&qi(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),tn&&en(tn,o)||(tn=o,o=al(Ki,"onSelect"),0<o.length&&(s=new Li("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=ca)))}function tl(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var da={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},Hi={},Gd={};p&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function sl(t){if(Hi[t])return Hi[t];if(!da[t])return t;var s=da[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Gd)return Hi[t]=s[a];return t}var Hd=sl("animationend"),Wd=sl("animationiteration"),Jd=sl("animationstart"),Qd=sl("transitionend"),Yd=new Map,Zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(t,s){Yd.set(t,s),c(s,[t])}for(var Wi=0;Wi<Zd.length;Wi++){var Ji=Zd[Wi],Pg=Ji.toLowerCase(),zg=Ji[0].toUpperCase()+Ji.slice(1);mr(Pg,"on"+zg)}mr(Hd,"onAnimationEnd"),mr(Wd,"onAnimationIteration"),mr(Jd,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(Qd,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(sn));function Xd(t,s,a){var o=t.type||"unknown-event";t.currentTarget=a,Ci(o,s,void 0,t),t.currentTarget=null}function eu(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],d=o.event;o=o.listeners;e:{var m=void 0;if(s)for(var j=o.length-1;0<=j;j--){var _=o[j],T=_.instance,V=_.currentTarget;if(_=_.listener,T!==m&&d.isPropagationStopped())break e;Xd(d,_,V),m=T}else for(j=0;j<o.length;j++){if(_=o[j],T=_.instance,V=_.currentTarget,_=_.listener,T!==m&&d.isPropagationStopped())break e;Xd(d,_,V),m=T}}}if($s)throw t=Bs,$s=!1,Bs=null,t}function $e(t,s){var a=s[ro];a===void 0&&(a=s[ro]=new Set);var o=t+"__bubble";a.has(o)||(tu(s,t,2,!1),a.add(o))}function Qi(t,s,a){var o=0;s&&(o|=4),tu(a,t,o,s)}var rl="_reactListening"+Math.random().toString(36).slice(2);function rn(t){if(!t[rl]){t[rl]=!0,l.forEach(function(a){a!=="selectionchange"&&(Lg.has(a)||Qi(a,!1,t),Qi(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[rl]||(s[rl]=!0,Qi("selectionchange",!1,s))}}function tu(t,s,a,o){switch(kd(s)){case 1:var d=Qx;break;case 4:d=Yx;break;default:d=Ai}a=d.bind(null,s,a,t),d=void 0,!lr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function Yi(t,s,a,o,d){var m=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var j=o.tag;if(j===3||j===4){var _=o.stateNode.containerInfo;if(_===d||_.nodeType===8&&_.parentNode===d)break;if(j===4)for(j=o.return;j!==null;){var T=j.tag;if((T===3||T===4)&&(T=j.stateNode.containerInfo,T===d||T.nodeType===8&&T.parentNode===d))return;j=j.return}for(;_!==null;){if(j=Mr(_),j===null)return;if(T=j.tag,T===5||T===6){o=m=j;continue e}_=_.parentNode}}o=o.return}zr(function(){var V=m,Z=st(a),X=[];e:{var Y=Yd.get(t);if(Y!==void 0){var ne=Li,de=t;switch(t){case"keypress":if(Yn(a)===0)break e;case"keydown":case"keyup":ne=mg;break;case"focusin":de="focus",ne=$i;break;case"focusout":de="blur",ne=$i;break;case"beforeblur":case"afterblur":ne=$i;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=pg;break;case Hd:case Wd:case Jd:ne=rg;break;case Qd:ne=fg;break;case"scroll":ne=Zx;break;case"wheel":ne=vg;break;case"copy":case"cut":case"paste":ne=ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ed}var ue=(s&4)!==0,Qe=!ue&&t==="scroll",M=ue?Y!==null?Y+"Capture":null:Y;ue=[];for(var P=V,$;P!==null;){$=P;var ee=$.stateNode;if($.tag===5&&ee!==null&&($=ee,M!==null&&(ee=Is(P,M),ee!=null&&ue.push(an(P,ee,$)))),Qe)break;P=P.return}0<ue.length&&(Y=new ne(Y,de,null,a,Z),X.push({event:Y,listeners:ue}))}}if((s&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",Y&&a!==is&&(de=a.relatedTarget||a.fromElement)&&(Mr(de)||de[qs]))break e;if((ne||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,ne?(de=a.relatedTarget||a.toElement,ne=V,de=de?Mr(de):null,de!==null&&(Qe=Vs(de),de!==Qe||de.tag!==5&&de.tag!==6)&&(de=null)):(ne=null,de=V),ne!==de)){if(ue=Id,ee="onMouseLeave",M="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ue=Ed,ee="onPointerLeave",M="onPointerEnter",P="pointer"),Qe=ne==null?Y:xa(ne),$=de==null?Y:xa(de),Y=new ue(ee,P+"leave",ne,a,Z),Y.target=Qe,Y.relatedTarget=$,ee=null,Mr(Z)===V&&(ue=new ue(M,P+"enter",de,a,Z),ue.target=$,ue.relatedTarget=Qe,ee=ue),Qe=ee,ne&&de)t:{for(ue=ne,M=de,P=0,$=ue;$;$=ua($))P++;for($=0,ee=M;ee;ee=ua(ee))$++;for(;0<P-$;)ue=ua(ue),P--;for(;0<$-P;)M=ua(M),$--;for(;P--;){if(ue===M||M!==null&&ue===M.alternate)break t;ue=ua(ue),M=ua(M)}ue=null}else ue=null;ne!==null&&su(X,Y,ne,ue,!1),de!==null&&Qe!==null&&su(X,Qe,de,ue,!0)}}e:{if(Y=V?xa(V):window,ne=Y.nodeName&&Y.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Y.type==="file")var me=Cg;else if(zd(Y))if(Md)me=_g;else{me=Dg;var xe=Ig}else(ne=Y.nodeName)&&ne.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(me=Eg);if(me&&(me=me(t,V))){Ld(X,me,a,Z);break e}xe&&xe(t,Y,V),t==="focusout"&&(xe=Y._wrapperState)&&xe.controlled&&Y.type==="number"&&_t(Y,"number",Y.value)}switch(xe=V?xa(V):window,t){case"focusin":(zd(xe)||xe.contentEditable==="true")&&(ca=xe,Ki=V,tn=null);break;case"focusout":tn=Ki=ca=null;break;case"mousedown":Gi=!0;break;case"contextmenu":case"mouseup":case"dragend":Gi=!1,Kd(X,a,Z);break;case"selectionchange":if(Ag)break;case"keydown":case"keyup":Kd(X,a,Z)}var ge;if(Vi)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else oa?Ad(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(_d&&a.locale!=="ko"&&(oa||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&oa&&(ge=Sd()):(ur=Z,zi="value"in ur?ur.value:ur.textContent,oa=!0)),xe=al(V,ye),0<xe.length&&(ye=new Dd(ye,t,null,a,Z),X.push({event:ye,listeners:xe}),ge?ye.data=ge:(ge=Pd(a),ge!==null&&(ye.data=ge)))),(ge=jg?Ng(t,a):wg(t,a))&&(V=al(V,"onBeforeInput"),0<V.length&&(Z=new Dd("onBeforeInput","beforeinput",null,a,Z),X.push({event:Z,listeners:V}),Z.data=ge))}eu(X,s)})}function an(t,s,a){return{instance:t,listener:s,currentTarget:a}}function al(t,s){for(var a=s+"Capture",o=[];t!==null;){var d=t,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=Is(t,a),m!=null&&o.unshift(an(t,m,d)),m=Is(t,s),m!=null&&o.push(an(t,m,d))),t=t.return}return o}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function su(t,s,a,o,d){for(var m=s._reactName,j=[];a!==null&&a!==o;){var _=a,T=_.alternate,V=_.stateNode;if(T!==null&&T===o)break;_.tag===5&&V!==null&&(_=V,d?(T=Is(a,m),T!=null&&j.unshift(an(a,T,_))):d||(T=Is(a,m),T!=null&&j.push(an(a,T,_)))),a=a.return}j.length!==0&&t.push({event:s,listeners:j})}var Mg=/\r\n?/g,Og=/\u0000|\uFFFD/g;function ru(t){return(typeof t=="string"?t:""+t).replace(Mg,`
`).replace(Og,"")}function nl(t,s,a){if(s=ru(s),ru(t)!==s&&a)throw Error(i(425))}function ll(){}var Zi=null,Xi=null;function eo(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var to=typeof setTimeout=="function"?setTimeout:void 0,$g=typeof clearTimeout=="function"?clearTimeout:void 0,au=typeof Promise=="function"?Promise:void 0,Bg=typeof queueMicrotask=="function"?queueMicrotask:typeof au<"u"?function(t){return au.resolve(null).then(t).catch(Vg)}:to;function Vg(t){setTimeout(function(){throw t})}function so(t,s){var a=s,o=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(o===0){t.removeChild(d),Wa(s);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=d}while(a);Wa(s)}function xr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function nu(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}var ma=Math.random().toString(36).slice(2),_s="__reactFiber$"+ma,nn="__reactProps$"+ma,qs="__reactContainer$"+ma,ro="__reactEvents$"+ma,Fg="__reactListeners$"+ma,Ug="__reactHandles$"+ma;function Mr(t){var s=t[_s];if(s)return s;for(var a=t.parentNode;a;){if(s=a[qs]||a[_s]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=nu(t);t!==null;){if(a=t[_s])return a;t=nu(t)}return s}t=a,a=t.parentNode}return null}function ln(t){return t=t[_s]||t[qs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function il(t){return t[nn]||null}var ao=[],ga=-1;function gr(t){return{current:t}}function Be(t){0>ga||(t.current=ao[ga],ao[ga]=null,ga--)}function Oe(t,s){ga++,ao[ga]=t.current,t.current=s}var pr={},ft=gr(pr),At=gr(!1),Or=pr;function pa(t,s){var a=t.type.contextTypes;if(!a)return pr;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===s)return o.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=s[m];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=d),d}function Pt(t){return t=t.childContextTypes,t!=null}function ol(){Be(At),Be(ft)}function lu(t,s,a){if(ft.current!==pr)throw Error(i(168));Oe(ft,s),Oe(At,a)}function iu(t,s,a){var o=t.stateNode;if(s=s.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var d in o)if(!(d in s))throw Error(i(108,Ee(t)||"Unknown",d));return te({},a,o)}function cl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pr,Or=ft.current,Oe(ft,t),Oe(At,At.current),!0}function ou(t,s,a){var o=t.stateNode;if(!o)throw Error(i(169));a?(t=iu(t,s,Or),o.__reactInternalMemoizedMergedChildContext=t,Be(At),Be(ft),Oe(ft,t)):Be(At),Oe(At,a)}var Ks=null,dl=!1,no=!1;function cu(t){Ks===null?Ks=[t]:Ks.push(t)}function qg(t){dl=!0,cu(t)}function hr(){if(!no&&Ks!==null){no=!0;var t=0,s=ze;try{var a=Ks;for(ze=1;t<a.length;t++){var o=a[t];do o=o(!0);while(o!==null)}Ks=null,dl=!1}catch(d){throw Ks!==null&&(Ks=Ks.slice(t+1)),Ba(cs,hr),d}finally{ze=s,no=!1}}return null}var ha=[],fa=0,ul=null,ml=0,Yt=[],Zt=0,$r=null,Gs=1,Hs="";function Br(t,s){ha[fa++]=ml,ha[fa++]=ul,ul=t,ml=s}function du(t,s,a){Yt[Zt++]=Gs,Yt[Zt++]=Hs,Yt[Zt++]=$r,$r=t;var o=Gs;t=Hs;var d=32-ds(o)-1;o&=~(1<<d),a+=1;var m=32-ds(s)+d;if(30<m){var j=d-d%5;m=(o&(1<<j)-1).toString(32),o>>=j,d-=j,Gs=1<<32-ds(s)+d|a<<d|o,Hs=m+t}else Gs=1<<m|a<<d|o,Hs=t}function lo(t){t.return!==null&&(Br(t,1),du(t,1,0))}function io(t){for(;t===ul;)ul=ha[--fa],ha[fa]=null,ml=ha[--fa],ha[fa]=null;for(;t===$r;)$r=Yt[--Zt],Yt[Zt]=null,Hs=Yt[--Zt],Yt[Zt]=null,Gs=Yt[--Zt],Yt[Zt]=null}var qt=null,Kt=null,Fe=!1,ms=null;function uu(t,s){var a=ss(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=t,s=t.deletions,s===null?(t.deletions=[a],t.flags|=16):s.push(a)}function mu(t,s){switch(t.tag){case 5:var a=t.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,qt=t,Kt=xr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,qt=t,Kt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=$r!==null?{id:Gs,overflow:Hs}:null,t.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=ss(18,null,null,0),a.stateNode=s,a.return=t,t.child=a,qt=t,Kt=null,!0):!1;default:return!1}}function oo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function co(t){if(Fe){var s=Kt;if(s){var a=s;if(!mu(t,s)){if(oo(t))throw Error(i(418));s=xr(a.nextSibling);var o=qt;s&&mu(t,s)?uu(o,a):(t.flags=t.flags&-4097|2,Fe=!1,qt=t)}}else{if(oo(t))throw Error(i(418));t.flags=t.flags&-4097|2,Fe=!1,qt=t}}}function xu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function xl(t){if(t!==qt)return!1;if(!Fe)return xu(t),Fe=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!eo(t.type,t.memoizedProps)),s&&(s=Kt)){if(oo(t))throw gu(),Error(i(418));for(;s;)uu(t,s),s=xr(s.nextSibling)}if(xu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(s===0){Kt=xr(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}t=t.nextSibling}Kt=null}}else Kt=qt?xr(t.stateNode.nextSibling):null;return!0}function gu(){for(var t=Kt;t;)t=xr(t.nextSibling)}function ya(){Kt=qt=null,Fe=!1}function uo(t){ms===null?ms=[t]:ms.push(t)}var Kg=S.ReactCurrentBatchConfig;function on(t,s,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(i(309));var o=a.stateNode}if(!o)throw Error(i(147,t));var d=o,m=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(j){var _=d.refs;j===null?delete _[m]:_[m]=j},s._stringRef=m,s)}if(typeof t!="string")throw Error(i(284));if(!a._owner)throw Error(i(290,t))}return t}function gl(t,s){throw t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function pu(t){var s=t._init;return s(t._payload)}function hu(t){function s(M,P){if(t){var $=M.deletions;$===null?(M.deletions=[P],M.flags|=16):$.push(P)}}function a(M,P){if(!t)return null;for(;P!==null;)s(M,P),P=P.sibling;return null}function o(M,P){for(M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function d(M,P){return M=kr(M,P),M.index=0,M.sibling=null,M}function m(M,P,$){return M.index=$,t?($=M.alternate,$!==null?($=$.index,$<P?(M.flags|=2,P):$):(M.flags|=2,P)):(M.flags|=1048576,P)}function j(M){return t&&M.alternate===null&&(M.flags|=2),M}function _(M,P,$,ee){return P===null||P.tag!==6?(P=sc($,M.mode,ee),P.return=M,P):(P=d(P,$),P.return=M,P)}function T(M,P,$,ee){var me=$.type;return me===B?Z(M,P,$.props.children,ee,$.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ae&&pu(me)===P.type)?(ee=d(P,$.props),ee.ref=on(M,P,$),ee.return=M,ee):(ee=Ol($.type,$.key,$.props,null,M.mode,ee),ee.ref=on(M,P,$),ee.return=M,ee)}function V(M,P,$,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==$.containerInfo||P.stateNode.implementation!==$.implementation?(P=rc($,M.mode,ee),P.return=M,P):(P=d(P,$.children||[]),P.return=M,P)}function Z(M,P,$,ee,me){return P===null||P.tag!==7?(P=Wr($,M.mode,ee,me),P.return=M,P):(P=d(P,$),P.return=M,P)}function X(M,P,$){if(typeof P=="string"&&P!==""||typeof P=="number")return P=sc(""+P,M.mode,$),P.return=M,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return $=Ol(P.type,P.key,P.props,null,M.mode,$),$.ref=on(M,null,P),$.return=M,$;case z:return P=rc(P,M.mode,$),P.return=M,P;case Ae:var ee=P._init;return X(M,ee(P._payload),$)}if(pt(P)||le(P))return P=Wr(P,M.mode,$,null),P.return=M,P;gl(M,P)}return null}function Y(M,P,$,ee){var me=P!==null?P.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return me!==null?null:_(M,P,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return $.key===me?T(M,P,$,ee):null;case z:return $.key===me?V(M,P,$,ee):null;case Ae:return me=$._init,Y(M,P,me($._payload),ee)}if(pt($)||le($))return me!==null?null:Z(M,P,$,ee,null);gl(M,$)}return null}function ne(M,P,$,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return M=M.get($)||null,_(P,M,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case R:return M=M.get(ee.key===null?$:ee.key)||null,T(P,M,ee,me);case z:return M=M.get(ee.key===null?$:ee.key)||null,V(P,M,ee,me);case Ae:var xe=ee._init;return ne(M,P,$,xe(ee._payload),me)}if(pt(ee)||le(ee))return M=M.get($)||null,Z(P,M,ee,me,null);gl(P,ee)}return null}function de(M,P,$,ee){for(var me=null,xe=null,ge=P,ye=P=0,it=null;ge!==null&&ye<$.length;ye++){ge.index>ye?(it=ge,ge=null):it=ge.sibling;var _e=Y(M,ge,$[ye],ee);if(_e===null){ge===null&&(ge=it);break}t&&ge&&_e.alternate===null&&s(M,ge),P=m(_e,P,ye),xe===null?me=_e:xe.sibling=_e,xe=_e,ge=it}if(ye===$.length)return a(M,ge),Fe&&Br(M,ye),me;if(ge===null){for(;ye<$.length;ye++)ge=X(M,$[ye],ee),ge!==null&&(P=m(ge,P,ye),xe===null?me=ge:xe.sibling=ge,xe=ge);return Fe&&Br(M,ye),me}for(ge=o(M,ge);ye<$.length;ye++)it=ne(ge,M,ye,$[ye],ee),it!==null&&(t&&it.alternate!==null&&ge.delete(it.key===null?ye:it.key),P=m(it,P,ye),xe===null?me=it:xe.sibling=it,xe=it);return t&&ge.forEach(function(Sr){return s(M,Sr)}),Fe&&Br(M,ye),me}function ue(M,P,$,ee){var me=le($);if(typeof me!="function")throw Error(i(150));if($=me.call($),$==null)throw Error(i(151));for(var xe=me=null,ge=P,ye=P=0,it=null,_e=$.next();ge!==null&&!_e.done;ye++,_e=$.next()){ge.index>ye?(it=ge,ge=null):it=ge.sibling;var Sr=Y(M,ge,_e.value,ee);if(Sr===null){ge===null&&(ge=it);break}t&&ge&&Sr.alternate===null&&s(M,ge),P=m(Sr,P,ye),xe===null?me=Sr:xe.sibling=Sr,xe=Sr,ge=it}if(_e.done)return a(M,ge),Fe&&Br(M,ye),me;if(ge===null){for(;!_e.done;ye++,_e=$.next())_e=X(M,_e.value,ee),_e!==null&&(P=m(_e,P,ye),xe===null?me=_e:xe.sibling=_e,xe=_e);return Fe&&Br(M,ye),me}for(ge=o(M,ge);!_e.done;ye++,_e=$.next())_e=ne(ge,M,ye,_e.value,ee),_e!==null&&(t&&_e.alternate!==null&&ge.delete(_e.key===null?ye:_e.key),P=m(_e,P,ye),xe===null?me=_e:xe.sibling=_e,xe=_e);return t&&ge.forEach(function(kp){return s(M,kp)}),Fe&&Br(M,ye),me}function Qe(M,P,$,ee){if(typeof $=="object"&&$!==null&&$.type===B&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case R:e:{for(var me=$.key,xe=P;xe!==null;){if(xe.key===me){if(me=$.type,me===B){if(xe.tag===7){a(M,xe.sibling),P=d(xe,$.props.children),P.return=M,M=P;break e}}else if(xe.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ae&&pu(me)===xe.type){a(M,xe.sibling),P=d(xe,$.props),P.ref=on(M,xe,$),P.return=M,M=P;break e}a(M,xe);break}else s(M,xe);xe=xe.sibling}$.type===B?(P=Wr($.props.children,M.mode,ee,$.key),P.return=M,M=P):(ee=Ol($.type,$.key,$.props,null,M.mode,ee),ee.ref=on(M,P,$),ee.return=M,M=ee)}return j(M);case z:e:{for(xe=$.key;P!==null;){if(P.key===xe)if(P.tag===4&&P.stateNode.containerInfo===$.containerInfo&&P.stateNode.implementation===$.implementation){a(M,P.sibling),P=d(P,$.children||[]),P.return=M,M=P;break e}else{a(M,P);break}else s(M,P);P=P.sibling}P=rc($,M.mode,ee),P.return=M,M=P}return j(M);case Ae:return xe=$._init,Qe(M,P,xe($._payload),ee)}if(pt($))return de(M,P,$,ee);if(le($))return ue(M,P,$,ee);gl(M,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,P!==null&&P.tag===6?(a(M,P.sibling),P=d(P,$),P.return=M,M=P):(a(M,P),P=sc($,M.mode,ee),P.return=M,M=P),j(M)):a(M,P)}return Qe}var va=hu(!0),fu=hu(!1),pl=gr(null),hl=null,ba=null,mo=null;function xo(){mo=ba=hl=null}function go(t){var s=pl.current;Be(pl),t._currentValue=s}function po(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function ja(t,s){hl=t,mo=ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(zt=!0),t.firstContext=null)}function Xt(t){var s=t._currentValue;if(mo!==t)if(t={context:t,memoizedValue:s,next:null},ba===null){if(hl===null)throw Error(i(308));ba=t,hl.dependencies={lanes:0,firstContext:t}}else ba=ba.next=t;return s}var Vr=null;function ho(t){Vr===null?Vr=[t]:Vr.push(t)}function yu(t,s,a,o){var d=s.interleaved;return d===null?(a.next=a,ho(s)):(a.next=d.next,d.next=a),s.interleaved=a,Ws(t,o)}function Ws(t,s){t.lanes|=s;var a=t.alternate;for(a!==null&&(a.lanes|=s),a=t,t=t.return;t!==null;)t.childLanes|=s,a=t.alternate,a!==null&&(a.childLanes|=s),a=t,t=t.return;return a.tag===3?a.stateNode:null}var fr=!1;function fo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Js(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function yr(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(De&2)!==0){var d=o.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),o.pending=s,Ws(t,a)}return d=o.interleaved,d===null?(s.next=s,ho(o)):(s.next=d.next,d.next=s),o.interleaved=s,Ws(t,a)}function fl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,_i(t,a)}}function bu(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var j={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=j:m=m.next=j,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,effects:o.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}function yl(t,s,a,o){var d=t.updateQueue;fr=!1;var m=d.firstBaseUpdate,j=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var T=_,V=T.next;T.next=null,j===null?m=V:j.next=V,j=T;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,_=Z.lastBaseUpdate,_!==j&&(_===null?Z.firstBaseUpdate=V:_.next=V,Z.lastBaseUpdate=T))}if(m!==null){var X=d.baseState;j=0,Z=V=T=null,_=m;do{var Y=_.lane,ne=_.eventTime;if((o&Y)===Y){Z!==null&&(Z=Z.next={eventTime:ne,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var de=t,ue=_;switch(Y=s,ne=a,ue.tag){case 1:if(de=ue.payload,typeof de=="function"){X=de.call(ne,X,Y);break e}X=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ue.payload,Y=typeof de=="function"?de.call(ne,X,Y):de,Y==null)break e;X=te({},X,Y);break e;case 2:fr=!0}}_.callback!==null&&_.lane!==0&&(t.flags|=64,Y=d.effects,Y===null?d.effects=[_]:Y.push(_))}else ne={eventTime:ne,lane:Y,tag:_.tag,payload:_.payload,callback:_.callback,next:null},Z===null?(V=Z=ne,T=X):Z=Z.next=ne,j|=Y;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;Y=_,_=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(Z===null&&(T=X),d.baseState=T,d.firstBaseUpdate=V,d.lastBaseUpdate=Z,s=d.shared.interleaved,s!==null){d=s;do j|=d.lane,d=d.next;while(d!==s)}else m===null&&(d.shared.lanes=0);qr|=j,t.lanes=j,t.memoizedState=X}}function ju(t,s,a){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var o=t[s],d=o.callback;if(d!==null){if(o.callback=null,o=a,typeof d!="function")throw Error(i(191,d));d.call(o)}}}var cn={},Rs=gr(cn),dn=gr(cn),un=gr(cn);function Fr(t){if(t===cn)throw Error(i(174));return t}function yo(t,s){switch(Oe(un,s),Oe(dn,t),Oe(Rs,cn),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ks(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=ks(s,t)}Be(Rs),Oe(Rs,s)}function Na(){Be(Rs),Be(dn),Be(un)}function Nu(t){Fr(un.current);var s=Fr(Rs.current),a=ks(s,t.type);s!==a&&(Oe(dn,t),Oe(Rs,a))}function vo(t){dn.current===t&&(Be(Rs),Be(dn))}var qe=gr(0);function vl(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var bo=[];function jo(){for(var t=0;t<bo.length;t++)bo[t]._workInProgressVersionPrimary=null;bo.length=0}var bl=S.ReactCurrentDispatcher,No=S.ReactCurrentBatchConfig,Ur=0,Ke=null,rt=null,nt=null,jl=!1,mn=!1,xn=0,Gg=0;function yt(){throw Error(i(321))}function wo(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!us(t[a],s[a]))return!1;return!0}function ko(t,s,a,o,d,m){if(Ur=m,Ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,bl.current=t===null||t.memoizedState===null?Qg:Yg,t=a(o,d),mn){m=0;do{if(mn=!1,xn=0,25<=m)throw Error(i(301));m+=1,nt=rt=null,s.updateQueue=null,bl.current=Zg,t=a(o,d)}while(mn)}if(bl.current=kl,s=rt!==null&&rt.next!==null,Ur=0,nt=rt=Ke=null,jl=!1,s)throw Error(i(300));return t}function So(){var t=xn!==0;return xn=0,t}function Ts(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ke.memoizedState=nt=t:nt=nt.next=t,nt}function es(){if(rt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var s=nt===null?Ke.memoizedState:nt.next;if(s!==null)nt=s,rt=t;else{if(t===null)throw Error(i(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},nt===null?Ke.memoizedState=nt=t:nt=nt.next=t}return nt}function gn(t,s){return typeof s=="function"?s(t):s}function Co(t){var s=es(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var o=rt,d=o.baseQueue,m=a.pending;if(m!==null){if(d!==null){var j=d.next;d.next=m.next,m.next=j}o.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,o=o.baseState;var _=j=null,T=null,V=m;do{var Z=V.lane;if((Ur&Z)===Z)T!==null&&(T=T.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),o=V.hasEagerState?V.eagerState:t(o,V.action);else{var X={lane:Z,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};T===null?(_=T=X,j=o):T=T.next=X,Ke.lanes|=Z,qr|=Z}V=V.next}while(V!==null&&V!==m);T===null?j=o:T.next=_,us(o,s.memoizedState)||(zt=!0),s.memoizedState=o,s.baseState=j,s.baseQueue=T,a.lastRenderedState=o}if(t=a.interleaved,t!==null){d=t;do m=d.lane,Ke.lanes|=m,qr|=m,d=d.next;while(d!==t)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Io(t){var s=es(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var o=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var j=d=d.next;do m=t(m,j.action),j=j.next;while(j!==d);us(m,s.memoizedState)||(zt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,o]}function wu(){}function ku(t,s){var a=Ke,o=es(),d=s(),m=!us(o.memoizedState,d);if(m&&(o.memoizedState=d,zt=!0),o=o.queue,Do(Iu.bind(null,a,o,t),[t]),o.getSnapshot!==s||m||nt!==null&&nt.memoizedState.tag&1){if(a.flags|=2048,pn(9,Cu.bind(null,a,o,d,s),void 0,null),lt===null)throw Error(i(349));(Ur&30)!==0||Su(a,s,d)}return d}function Su(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ke.updateQueue,s===null?(s={lastEffect:null,stores:null},Ke.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Cu(t,s,a,o){s.value=a,s.getSnapshot=o,Du(s)&&Eu(t)}function Iu(t,s,a){return a(function(){Du(s)&&Eu(t)})}function Du(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!us(t,a)}catch{return!0}}function Eu(t){var s=Ws(t,1);s!==null&&hs(s,t,1,-1)}function _u(t){var s=Ts();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:t},s.queue=t,t=t.dispatch=Jg.bind(null,Ke,t),[s.memoizedState,t]}function pn(t,s,a,o){return t={tag:t,create:s,destroy:a,deps:o,next:null},s=Ke.updateQueue,s===null?(s={lastEffect:null,stores:null},Ke.updateQueue=s,s.lastEffect=t.next=t):(a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t)),t}function Ru(){return es().memoizedState}function Nl(t,s,a,o){var d=Ts();Ke.flags|=t,d.memoizedState=pn(1|s,a,void 0,o===void 0?null:o)}function wl(t,s,a,o){var d=es();o=o===void 0?null:o;var m=void 0;if(rt!==null){var j=rt.memoizedState;if(m=j.destroy,o!==null&&wo(o,j.deps)){d.memoizedState=pn(s,a,m,o);return}}Ke.flags|=t,d.memoizedState=pn(1|s,a,m,o)}function Tu(t,s){return Nl(8390656,8,t,s)}function Do(t,s){return wl(2048,8,t,s)}function Au(t,s){return wl(4,2,t,s)}function Pu(t,s){return wl(4,4,t,s)}function zu(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Lu(t,s,a){return a=a!=null?a.concat([t]):null,wl(4,4,zu.bind(null,s,t),a)}function Eo(){}function Mu(t,s){var a=es();s=s===void 0?null:s;var o=a.memoizedState;return o!==null&&s!==null&&wo(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function Ou(t,s){var a=es();s=s===void 0?null:s;var o=a.memoizedState;return o!==null&&s!==null&&wo(s,o[1])?o[0]:(t=t(),a.memoizedState=[t,s],t)}function $u(t,s,a){return(Ur&21)===0?(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=a):(us(a,s)||(a=pd(),Ke.lanes|=a,qr|=a,t.baseState=!0),s)}function Hg(t,s){var a=ze;ze=a!==0&&4>a?a:4,t(!0);var o=No.transition;No.transition={};try{t(!1),s()}finally{ze=a,No.transition=o}}function Bu(){return es().memoizedState}function Wg(t,s,a){var o=Nr(t);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},Vu(t))Fu(s,a);else if(a=yu(t,s,a,o),a!==null){var d=Dt();hs(a,t,o,d),Uu(a,s,o)}}function Jg(t,s,a){var o=Nr(t),d={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vu(t))Fu(s,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var j=s.lastRenderedState,_=m(j,a);if(d.hasEagerState=!0,d.eagerState=_,us(_,j)){var T=s.interleaved;T===null?(d.next=d,ho(s)):(d.next=T.next,T.next=d),s.interleaved=d;return}}catch{}finally{}a=yu(t,s,d,o),a!==null&&(d=Dt(),hs(a,t,o,d),Uu(a,s,o))}}function Vu(t){var s=t.alternate;return t===Ke||s!==null&&s===Ke}function Fu(t,s){mn=jl=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Uu(t,s,a){if((a&4194240)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,_i(t,a)}}var kl={readContext:Xt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},Qg={readContext:Xt,useCallback:function(t,s){return Ts().memoizedState=[t,s===void 0?null:s],t},useContext:Xt,useEffect:Tu,useImperativeHandle:function(t,s,a){return a=a!=null?a.concat([t]):null,Nl(4194308,4,zu.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Nl(4194308,4,t,s)},useInsertionEffect:function(t,s){return Nl(4,2,t,s)},useMemo:function(t,s){var a=Ts();return s=s===void 0?null:s,t=t(),a.memoizedState=[t,s],t},useReducer:function(t,s,a){var o=Ts();return s=a!==void 0?a(s):s,o.memoizedState=o.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},o.queue=t,t=t.dispatch=Wg.bind(null,Ke,t),[o.memoizedState,t]},useRef:function(t){var s=Ts();return t={current:t},s.memoizedState=t},useState:_u,useDebugValue:Eo,useDeferredValue:function(t){return Ts().memoizedState=t},useTransition:function(){var t=_u(!1),s=t[0];return t=Hg.bind(null,t[1]),Ts().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,a){var o=Ke,d=Ts();if(Fe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),lt===null)throw Error(i(349));(Ur&30)!==0||Su(o,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,Tu(Iu.bind(null,o,m,t),[t]),o.flags|=2048,pn(9,Cu.bind(null,o,m,a,s),void 0,null),a},useId:function(){var t=Ts(),s=lt.identifierPrefix;if(Fe){var a=Hs,o=Gs;a=(o&~(1<<32-ds(o)-1)).toString(32)+a,s=":"+s+"R"+a,a=xn++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Gg++,s=":"+s+"r"+a.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Yg={readContext:Xt,useCallback:Mu,useContext:Xt,useEffect:Do,useImperativeHandle:Lu,useInsertionEffect:Au,useLayoutEffect:Pu,useMemo:Ou,useReducer:Co,useRef:Ru,useState:function(){return Co(gn)},useDebugValue:Eo,useDeferredValue:function(t){var s=es();return $u(s,rt.memoizedState,t)},useTransition:function(){var t=Co(gn)[0],s=es().memoizedState;return[t,s]},useMutableSource:wu,useSyncExternalStore:ku,useId:Bu,unstable_isNewReconciler:!1},Zg={readContext:Xt,useCallback:Mu,useContext:Xt,useEffect:Do,useImperativeHandle:Lu,useInsertionEffect:Au,useLayoutEffect:Pu,useMemo:Ou,useReducer:Io,useRef:Ru,useState:function(){return Io(gn)},useDebugValue:Eo,useDeferredValue:function(t){var s=es();return rt===null?s.memoizedState=t:$u(s,rt.memoizedState,t)},useTransition:function(){var t=Io(gn)[0],s=es().memoizedState;return[t,s]},useMutableSource:wu,useSyncExternalStore:ku,useId:Bu,unstable_isNewReconciler:!1};function xs(t,s){if(t&&t.defaultProps){s=te({},s),t=t.defaultProps;for(var a in t)s[a]===void 0&&(s[a]=t[a]);return s}return s}function _o(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:te({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sl={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Dt(),d=Nr(t),m=Js(o,d);m.payload=s,a!=null&&(m.callback=a),s=yr(t,m,d),s!==null&&(hs(s,t,d,o),fl(s,t,d))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Dt(),d=Nr(t),m=Js(o,d);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=yr(t,m,d),s!==null&&(hs(s,t,d,o),fl(s,t,d))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Dt(),o=Nr(t),d=Js(a,o);d.tag=2,s!=null&&(d.callback=s),s=yr(t,d,o),s!==null&&(hs(s,t,o,a),fl(s,t,o))}};function qu(t,s,a,o,d,m,j){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,j):s.prototype&&s.prototype.isPureReactComponent?!en(a,o)||!en(d,m):!0}function Ku(t,s,a){var o=!1,d=pr,m=s.contextType;return typeof m=="object"&&m!==null?m=Xt(m):(d=Pt(s)?Or:ft.current,o=s.contextTypes,m=(o=o!=null)?pa(t,d):pr),s=new s(a,m),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Sl,t.stateNode=s,s._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=m),s}function Gu(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&Sl.enqueueReplaceState(s,s.state,null)}function Ro(t,s,a,o){var d=t.stateNode;d.props=a,d.state=t.memoizedState,d.refs={},fo(t);var m=s.contextType;typeof m=="object"&&m!==null?d.context=Xt(m):(m=Pt(s)?Or:ft.current,d.context=pa(t,m)),d.state=t.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(_o(t,s,m,a),d.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Sl.enqueueReplaceState(d,d.state,null),yl(t,a,d,o),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function wa(t,s){try{var a="",o=s;do a+=be(o),o=o.return;while(o);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:s,stack:d,digest:null}}function To(t,s,a){return{value:t,source:null,stack:a??null,digest:s??null}}function Ao(t,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Xg=typeof WeakMap=="function"?WeakMap:Map;function Hu(t,s,a){a=Js(-1,a),a.tag=3,a.payload={element:null};var o=s.value;return a.callback=function(){Tl||(Tl=!0,Wo=o),Ao(t,s)},a}function Wu(t,s,a){a=Js(-1,a),a.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var d=s.value;a.payload=function(){return o(d)},a.callback=function(){Ao(t,s)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Ao(t,s),typeof o!="function"&&(br===null?br=new Set([this]):br.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})}),a}function Ju(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Xg;var d=new Set;o.set(s,d)}else d=o.get(s),d===void 0&&(d=new Set,o.set(s,d));d.has(a)||(d.add(a),t=xp.bind(null,t,s,a),s.then(t,t))}function Qu(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Yu(t,s,a,o,d){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Js(-1,1),s.tag=2,yr(a,s,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var ep=S.ReactCurrentOwner,zt=!1;function It(t,s,a,o){s.child=t===null?fu(s,null,a,o):va(s,t.child,a,o)}function Zu(t,s,a,o,d){a=a.render;var m=s.ref;return ja(s,d),o=ko(t,s,a,o,m,d),a=So(),t!==null&&!zt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~d,Qs(t,s,d)):(Fe&&a&&lo(s),s.flags|=1,It(t,s,o,d),s.child)}function Xu(t,s,a,o,d){if(t===null){var m=a.type;return typeof m=="function"&&!tc(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,em(t,s,m,o,d)):(t=Ol(a.type,null,o,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,(t.lanes&d)===0){var j=m.memoizedProps;if(a=a.compare,a=a!==null?a:en,a(j,o)&&t.ref===s.ref)return Qs(t,s,d)}return s.flags|=1,t=kr(m,o),t.ref=s.ref,t.return=s,s.child=t}function em(t,s,a,o,d){if(t!==null){var m=t.memoizedProps;if(en(m,o)&&t.ref===s.ref)if(zt=!1,s.pendingProps=o=m,(t.lanes&d)!==0)(t.flags&131072)!==0&&(zt=!0);else return s.lanes=t.lanes,Qs(t,s,d)}return Po(t,s,a,o,d)}function tm(t,s,a){var o=s.pendingProps,d=o.children,m=t!==null?t.memoizedState:null;if(o.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Sa,Gt),Gt|=a;else{if((a&1073741824)===0)return t=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Oe(Sa,Gt),Gt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=m!==null?m.baseLanes:a,Oe(Sa,Gt),Gt|=o}else m!==null?(o=m.baseLanes|a,s.memoizedState=null):o=a,Oe(Sa,Gt),Gt|=o;return It(t,s,d,a),s.child}function sm(t,s){var a=s.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Po(t,s,a,o,d){var m=Pt(a)?Or:ft.current;return m=pa(s,m),ja(s,d),a=ko(t,s,a,o,m,d),o=So(),t!==null&&!zt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~d,Qs(t,s,d)):(Fe&&o&&lo(s),s.flags|=1,It(t,s,a,d),s.child)}function rm(t,s,a,o,d){if(Pt(a)){var m=!0;cl(s)}else m=!1;if(ja(s,d),s.stateNode===null)Il(t,s),Ku(s,a,o),Ro(s,a,o,d),o=!0;else if(t===null){var j=s.stateNode,_=s.memoizedProps;j.props=_;var T=j.context,V=a.contextType;typeof V=="object"&&V!==null?V=Xt(V):(V=Pt(a)?Or:ft.current,V=pa(s,V));var Z=a.getDerivedStateFromProps,X=typeof Z=="function"||typeof j.getSnapshotBeforeUpdate=="function";X||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(_!==o||T!==V)&&Gu(s,j,o,V),fr=!1;var Y=s.memoizedState;j.state=Y,yl(s,o,j,d),T=s.memoizedState,_!==o||Y!==T||At.current||fr?(typeof Z=="function"&&(_o(s,a,Z,o),T=s.memoizedState),(_=fr||qu(s,a,_,o,Y,T,V))?(X||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(s.flags|=4194308)):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=T),j.props=o,j.state=T,j.context=V,o=_):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{j=s.stateNode,vu(t,s),_=s.memoizedProps,V=s.type===s.elementType?_:xs(s.type,_),j.props=V,X=s.pendingProps,Y=j.context,T=a.contextType,typeof T=="object"&&T!==null?T=Xt(T):(T=Pt(a)?Or:ft.current,T=pa(s,T));var ne=a.getDerivedStateFromProps;(Z=typeof ne=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(_!==X||Y!==T)&&Gu(s,j,o,T),fr=!1,Y=s.memoizedState,j.state=Y,yl(s,o,j,d);var de=s.memoizedState;_!==X||Y!==de||At.current||fr?(typeof ne=="function"&&(_o(s,a,ne,o),de=s.memoizedState),(V=fr||qu(s,a,V,o,Y,de,T)||!1)?(Z||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(o,de,T),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(o,de,T)),typeof j.componentDidUpdate=="function"&&(s.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof j.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=de),j.props=o,j.state=de,j.context=T,o=V):(typeof j.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(s.flags|=1024),o=!1)}return zo(t,s,a,o,m,d)}function zo(t,s,a,o,d,m){sm(t,s);var j=(s.flags&128)!==0;if(!o&&!j)return d&&ou(s,a,!1),Qs(t,s,m);o=s.stateNode,ep.current=s;var _=j&&typeof a.getDerivedStateFromError!="function"?null:o.render();return s.flags|=1,t!==null&&j?(s.child=va(s,t.child,null,m),s.child=va(s,null,_,m)):It(t,s,_,m),s.memoizedState=o.state,d&&ou(s,a,!0),s.child}function am(t){var s=t.stateNode;s.pendingContext?lu(t,s.pendingContext,s.pendingContext!==s.context):s.context&&lu(t,s.context,!1),yo(t,s.containerInfo)}function nm(t,s,a,o,d){return ya(),uo(d),s.flags|=256,It(t,s,a,o),s.child}var Lo={dehydrated:null,treeContext:null,retryLane:0};function Mo(t){return{baseLanes:t,cachePool:null,transitions:null}}function lm(t,s,a){var o=s.pendingProps,d=qe.current,m=!1,j=(s.flags&128)!==0,_;if((_=j)||(_=t!==null&&t.memoizedState===null?!1:(d&2)!==0),_?(m=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Oe(qe,d&1),t===null)return co(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(j=o.children,t=o.fallback,m?(o=s.mode,m=s.child,j={mode:"hidden",children:j},(o&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=j):m=$l(j,o,0,null),t=Wr(t,o,a,null),m.return=s,t.return=s,m.sibling=t,s.child=m,s.child.memoizedState=Mo(a),s.memoizedState=Lo,t):Oo(s,j));if(d=t.memoizedState,d!==null&&(_=d.dehydrated,_!==null))return tp(t,s,j,o,_,d,a);if(m){m=o.fallback,j=s.mode,d=t.child,_=d.sibling;var T={mode:"hidden",children:o.children};return(j&1)===0&&s.child!==d?(o=s.child,o.childLanes=0,o.pendingProps=T,s.deletions=null):(o=kr(d,T),o.subtreeFlags=d.subtreeFlags&14680064),_!==null?m=kr(_,m):(m=Wr(m,j,a,null),m.flags|=2),m.return=s,o.return=s,o.sibling=m,s.child=o,o=m,m=s.child,j=t.child.memoizedState,j=j===null?Mo(a):{baseLanes:j.baseLanes|a,cachePool:null,transitions:j.transitions},m.memoizedState=j,m.childLanes=t.childLanes&~a,s.memoizedState=Lo,o}return m=t.child,t=m.sibling,o=kr(m,{mode:"visible",children:o.children}),(s.mode&1)===0&&(o.lanes=a),o.return=s,o.sibling=null,t!==null&&(a=s.deletions,a===null?(s.deletions=[t],s.flags|=16):a.push(t)),s.child=o,s.memoizedState=null,o}function Oo(t,s){return s=$l({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Cl(t,s,a,o){return o!==null&&uo(o),va(s,t.child,null,a),t=Oo(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function tp(t,s,a,o,d,m,j){if(a)return s.flags&256?(s.flags&=-257,o=To(Error(i(422))),Cl(t,s,j,o)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(m=o.fallback,d=s.mode,o=$l({mode:"visible",children:o.children},d,0,null),m=Wr(m,d,j,null),m.flags|=2,o.return=s,m.return=s,o.sibling=m,s.child=o,(s.mode&1)!==0&&va(s,t.child,null,j),s.child.memoizedState=Mo(j),s.memoizedState=Lo,m);if((s.mode&1)===0)return Cl(t,s,j,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var _=o.dgst;return o=_,m=Error(i(419)),o=To(m,o,void 0),Cl(t,s,j,o)}if(_=(j&t.childLanes)!==0,zt||_){if(o=lt,o!==null){switch(j&-j){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(o.suspendedLanes|j))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Ws(t,d),hs(o,t,d,-1))}return ec(),o=To(Error(i(421))),Cl(t,s,j,o)}return d.data==="$?"?(s.flags|=128,s.child=t.child,s=gp.bind(null,t),d._reactRetry=s,null):(t=m.treeContext,Kt=xr(d.nextSibling),qt=s,Fe=!0,ms=null,t!==null&&(Yt[Zt++]=Gs,Yt[Zt++]=Hs,Yt[Zt++]=$r,Gs=t.id,Hs=t.overflow,$r=s),s=Oo(s,o.children),s.flags|=4096,s)}function im(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),po(t.return,s,a)}function $o(t,s,a,o,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=a,m.tailMode=d)}function om(t,s,a){var o=s.pendingProps,d=o.revealOrder,m=o.tail;if(It(t,s,o.children,a),o=qe.current,(o&2)!==0)o=o&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&im(t,a,s);else if(t.tag===19)im(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(Oe(qe,o),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&vl(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),$o(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&vl(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}$o(s,!0,a,null,m);break;case"together":$o(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Il(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Qs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),qr|=s.lanes,(a&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=kr(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=kr(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function sp(t,s,a){switch(s.tag){case 3:am(s),ya();break;case 5:Nu(s);break;case 1:Pt(s.type)&&cl(s);break;case 4:yo(s,s.stateNode.containerInfo);break;case 10:var o=s.type._context,d=s.memoizedProps.value;Oe(pl,o._currentValue),o._currentValue=d;break;case 13:if(o=s.memoizedState,o!==null)return o.dehydrated!==null?(Oe(qe,qe.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?lm(t,s,a):(Oe(qe,qe.current&1),t=Qs(t,s,a),t!==null?t.sibling:null);Oe(qe,qe.current&1);break;case 19:if(o=(a&s.childLanes)!==0,(t.flags&128)!==0){if(o)return om(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Oe(qe,qe.current),o)break;return null;case 22:case 23:return s.lanes=0,tm(t,s,a)}return Qs(t,s,a)}var cm,Bo,dm,um;cm=function(t,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Bo=function(){},dm=function(t,s,a,o){var d=t.memoizedProps;if(d!==o){t=s.stateNode,Fr(Rs.current);var m=null;switch(a){case"input":d=Bt(t,d),o=Bt(t,o),m=[];break;case"select":d=te({},d,{value:void 0}),o=te({},o,{value:void 0}),m=[];break;case"textarea":d=Rt(t,d),o=Rt(t,o),m=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=ll)}Pe(a,o);var j;a=null;for(V in d)if(!o.hasOwnProperty(V)&&d.hasOwnProperty(V)&&d[V]!=null)if(V==="style"){var _=d[V];for(j in _)_.hasOwnProperty(j)&&(a||(a={}),a[j]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(u.hasOwnProperty(V)?m||(m=[]):(m=m||[]).push(V,null));for(V in o){var T=o[V];if(_=d!=null?d[V]:void 0,o.hasOwnProperty(V)&&T!==_&&(T!=null||_!=null))if(V==="style")if(_){for(j in _)!_.hasOwnProperty(j)||T&&T.hasOwnProperty(j)||(a||(a={}),a[j]="");for(j in T)T.hasOwnProperty(j)&&_[j]!==T[j]&&(a||(a={}),a[j]=T[j])}else a||(m||(m=[]),m.push(V,a)),a=T;else V==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,_=_?_.__html:void 0,T!=null&&_!==T&&(m=m||[]).push(V,T)):V==="children"?typeof T!="string"&&typeof T!="number"||(m=m||[]).push(V,""+T):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(u.hasOwnProperty(V)?(T!=null&&V==="onScroll"&&$e("scroll",t),m||_===T||(m=[])):(m=m||[]).push(V,T))}a&&(m=m||[]).push("style",a);var V=m;(s.updateQueue=V)&&(s.flags|=4)}},um=function(t,s,a,o){a!==o&&(s.flags|=4)};function hn(t,s){if(!Fe)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function vt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function rp(t,s,a){var o=s.pendingProps;switch(io(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return Pt(s.type)&&ol(),vt(s),null;case 3:return o=s.stateNode,Na(),Be(At),Be(ft),jo(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(xl(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ms!==null&&(Yo(ms),ms=null))),Bo(t,s),vt(s),null;case 5:vo(s);var d=Fr(un.current);if(a=s.type,t!==null&&s.stateNode!=null)dm(t,s,a,o,d),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!o){if(s.stateNode===null)throw Error(i(166));return vt(s),null}if(t=Fr(Rs.current),xl(s)){o=s.stateNode,a=s.type;var m=s.memoizedProps;switch(o[_s]=s,o[nn]=m,t=(s.mode&1)!==0,a){case"dialog":$e("cancel",o),$e("close",o);break;case"iframe":case"object":case"embed":$e("load",o);break;case"video":case"audio":for(d=0;d<sn.length;d++)$e(sn[d],o);break;case"source":$e("error",o);break;case"img":case"image":case"link":$e("error",o),$e("load",o);break;case"details":$e("toggle",o);break;case"input":Me(o,m),$e("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!m.multiple},$e("invalid",o);break;case"textarea":Ms(o,m),$e("invalid",o)}Pe(a,m),d=null;for(var j in m)if(m.hasOwnProperty(j)){var _=m[j];j==="children"?typeof _=="string"?o.textContent!==_&&(m.suppressHydrationWarning!==!0&&nl(o.textContent,_,t),d=["children",_]):typeof _=="number"&&o.textContent!==""+_&&(m.suppressHydrationWarning!==!0&&nl(o.textContent,_,t),d=["children",""+_]):u.hasOwnProperty(j)&&_!=null&&j==="onScroll"&&$e("scroll",o)}switch(a){case"input":gt(o),ls(o,m,!0);break;case"textarea":gt(o),ar(o);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(o.onclick=ll)}o=d,s.updateQueue=o,o!==null&&(s.flags|=4)}else{j=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ws(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=j.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=j.createElement(a,{is:o.is}):(t=j.createElement(a),a==="select"&&(j=t,o.multiple?j.multiple=!0:o.size&&(j.size=o.size))):t=j.createElementNS(t,a),t[_s]=s,t[nn]=o,cm(t,s,!1,!1),s.stateNode=t;e:{switch(j=ht(a,o),a){case"dialog":$e("cancel",t),$e("close",t),d=o;break;case"iframe":case"object":case"embed":$e("load",t),d=o;break;case"video":case"audio":for(d=0;d<sn.length;d++)$e(sn[d],t);d=o;break;case"source":$e("error",t),d=o;break;case"img":case"image":case"link":$e("error",t),$e("load",t),d=o;break;case"details":$e("toggle",t),d=o;break;case"input":Me(t,o),d=Bt(t,o),$e("invalid",t);break;case"option":d=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},d=te({},o,{value:void 0}),$e("invalid",t);break;case"textarea":Ms(t,o),d=Rt(t,o),$e("invalid",t);break;default:d=o}Pe(a,d),_=d;for(m in _)if(_.hasOwnProperty(m)){var T=_[m];m==="style"?U(t,T):m==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&ke(t,T)):m==="children"?typeof T=="string"?(a!=="textarea"||T!=="")&&Ue(t,T):typeof T=="number"&&Ue(t,""+T):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(u.hasOwnProperty(m)?T!=null&&m==="onScroll"&&$e("scroll",t):T!=null&&E(t,m,T,j))}switch(a){case"input":gt(t),ls(t,o,!1);break;case"textarea":gt(t),ar(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Ne(o.value));break;case"select":t.multiple=!!o.multiple,m=o.value,m!=null?Qt(t,!!o.multiple,m,!1):o.defaultValue!=null&&Qt(t,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=ll)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return vt(s),null;case 6:if(t&&s.stateNode!=null)um(t,s,t.memoizedProps,o);else{if(typeof o!="string"&&s.stateNode===null)throw Error(i(166));if(a=Fr(un.current),Fr(Rs.current),xl(s)){if(o=s.stateNode,a=s.memoizedProps,o[_s]=s,(m=o.nodeValue!==a)&&(t=qt,t!==null))switch(t.tag){case 3:nl(o.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nl(o.nodeValue,a,(t.mode&1)!==0)}m&&(s.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[_s]=s,s.stateNode=o}return vt(s),null;case 13:if(Be(qe),o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&Kt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)gu(),ya(),s.flags|=98560,m=!1;else if(m=xl(s),o!==null&&o.dehydrated!==null){if(t===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[_s]=s}else ya(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),m=!1}else ms!==null&&(Yo(ms),ms=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(qe.current&1)!==0?at===0&&(at=3):ec())),s.updateQueue!==null&&(s.flags|=4),vt(s),null);case 4:return Na(),Bo(t,s),t===null&&rn(s.stateNode.containerInfo),vt(s),null;case 10:return go(s.type._context),vt(s),null;case 17:return Pt(s.type)&&ol(),vt(s),null;case 19:if(Be(qe),m=s.memoizedState,m===null)return vt(s),null;if(o=(s.flags&128)!==0,j=m.rendering,j===null)if(o)hn(m,!1);else{if(at!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(j=vl(t),j!==null){for(s.flags|=128,hn(m,!1),o=j.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),s.subtreeFlags=0,o=a,a=s.child;a!==null;)m=a,t=o,m.flags&=14680066,j=m.alternate,j===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=j.childLanes,m.lanes=j.lanes,m.child=j.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=j.memoizedProps,m.memoizedState=j.memoizedState,m.updateQueue=j.updateQueue,m.type=j.type,t=j.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Oe(qe,qe.current&1|2),s.child}t=t.sibling}m.tail!==null&&re()>Ca&&(s.flags|=128,o=!0,hn(m,!1),s.lanes=4194304)}else{if(!o)if(t=vl(j),t!==null){if(s.flags|=128,o=!0,a=t.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),hn(m,!0),m.tail===null&&m.tailMode==="hidden"&&!j.alternate&&!Fe)return vt(s),null}else 2*re()-m.renderingStartTime>Ca&&a!==1073741824&&(s.flags|=128,o=!0,hn(m,!1),s.lanes=4194304);m.isBackwards?(j.sibling=s.child,s.child=j):(a=m.last,a!==null?a.sibling=j:s.child=j,m.last=j)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=re(),s.sibling=null,a=qe.current,Oe(qe,o?a&1|2:a&1),s):(vt(s),null);case 22:case 23:return Xo(),o=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(s.flags|=8192),o&&(s.mode&1)!==0?(Gt&1073741824)!==0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),null;case 24:return null;case 25:return null}throw Error(i(156,s.tag))}function ap(t,s){switch(io(s),s.tag){case 1:return Pt(s.type)&&ol(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Na(),Be(At),Be(ft),jo(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return vo(s),null;case 13:if(Be(qe),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ya()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Be(qe),null;case 4:return Na(),null;case 10:return go(s.type._context),null;case 22:case 23:return Xo(),null;case 24:return null;default:return null}}var Dl=!1,bt=!1,np=typeof WeakSet=="function"?WeakSet:Set,ie=null;function ka(t,s){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){We(t,s,o)}else a.current=null}function Vo(t,s,a){try{a()}catch(o){We(t,s,o)}}var mm=!1;function lp(t,s){if(Zi=Wn,t=qd(),qi(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var j=0,_=-1,T=-1,V=0,Z=0,X=t,Y=null;t:for(;;){for(var ne;X!==a||d!==0&&X.nodeType!==3||(_=j+d),X!==m||o!==0&&X.nodeType!==3||(T=j+o),X.nodeType===3&&(j+=X.nodeValue.length),(ne=X.firstChild)!==null;)Y=X,X=ne;for(;;){if(X===t)break t;if(Y===a&&++V===d&&(_=j),Y===m&&++Z===o&&(T=j),(ne=X.nextSibling)!==null)break;X=Y,Y=X.parentNode}X=ne}a=_===-1||T===-1?null:{start:_,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xi={focusedElem:t,selectionRange:a},Wn=!1,ie=s;ie!==null;)if(s=ie,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ie=t;else for(;ie!==null;){s=ie;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var ue=de.memoizedProps,Qe=de.memoizedState,M=s.stateNode,P=M.getSnapshotBeforeUpdate(s.elementType===s.type?ue:xs(s.type,ue),Qe);M.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ee){We(s,s.return,ee)}if(t=s.sibling,t!==null){t.return=s.return,ie=t;break}ie=s.return}return de=mm,mm=!1,de}function fn(t,s,a){var o=s.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&t)===t){var m=d.destroy;d.destroy=void 0,m!==void 0&&Vo(s,a,m)}d=d.next}while(d!==o)}}function El(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&t)===t){var o=a.create;a.destroy=o()}a=a.next}while(a!==s)}}function Fo(t){var s=t.ref;if(s!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof s=="function"?s(t):s.current=t}}function xm(t){var s=t.alternate;s!==null&&(t.alternate=null,xm(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[_s],delete s[nn],delete s[ro],delete s[Fg],delete s[Ug])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gm(t){return t.tag===5||t.tag===3||t.tag===4}function pm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uo(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(t,s):a.insertBefore(t,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(t,a)):(s=a,s.appendChild(t)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ll));else if(o!==4&&(t=t.child,t!==null))for(Uo(t,s,a),t=t.sibling;t!==null;)Uo(t,s,a),t=t.sibling}function qo(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(qo(t,s,a),t=t.sibling;t!==null;)qo(t,s,a),t=t.sibling}var ct=null,gs=!1;function vr(t,s,a){for(a=a.child;a!==null;)hm(t,s,a),a=a.sibling}function hm(t,s,a){if(Es&&typeof Es.onCommitFiberUnmount=="function")try{Es.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 5:bt||ka(a,s);case 6:var o=ct,d=gs;ct=null,vr(t,s,a),ct=o,gs=d,ct!==null&&(gs?(t=ct,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):ct.removeChild(a.stateNode));break;case 18:ct!==null&&(gs?(t=ct,a=a.stateNode,t.nodeType===8?so(t.parentNode,a):t.nodeType===1&&so(t,a),Wa(t)):so(ct,a.stateNode));break;case 4:o=ct,d=gs,ct=a.stateNode.containerInfo,gs=!0,vr(t,s,a),ct=o,gs=d;break;case 0:case 11:case 14:case 15:if(!bt&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var m=d,j=m.destroy;m=m.tag,j!==void 0&&((m&2)!==0||(m&4)!==0)&&Vo(a,s,j),d=d.next}while(d!==o)}vr(t,s,a);break;case 1:if(!bt&&(ka(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(_){We(a,s,_)}vr(t,s,a);break;case 21:vr(t,s,a);break;case 22:a.mode&1?(bt=(o=bt)||a.memoizedState!==null,vr(t,s,a),bt=o):vr(t,s,a);break;default:vr(t,s,a)}}function fm(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new np),s.forEach(function(o){var d=pp.bind(null,t,o);a.has(o)||(a.add(o),o.then(d,d))})}}function ps(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];try{var m=t,j=s,_=j;e:for(;_!==null;){switch(_.tag){case 5:ct=_.stateNode,gs=!1;break e;case 3:ct=_.stateNode.containerInfo,gs=!0;break e;case 4:ct=_.stateNode.containerInfo,gs=!0;break e}_=_.return}if(ct===null)throw Error(i(160));hm(m,j,d),ct=null,gs=!1;var T=d.alternate;T!==null&&(T.return=null),d.return=null}catch(V){We(d,s,V)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ym(s,t),s=s.sibling}function ym(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ps(s,t),As(t),o&4){try{fn(3,t,t.return),El(3,t)}catch(ue){We(t,t.return,ue)}try{fn(5,t,t.return)}catch(ue){We(t,t.return,ue)}}break;case 1:ps(s,t),As(t),o&512&&a!==null&&ka(a,a.return);break;case 5:if(ps(s,t),As(t),o&512&&a!==null&&ka(a,a.return),t.flags&32){var d=t.stateNode;try{Ue(d,"")}catch(ue){We(t,t.return,ue)}}if(o&4&&(d=t.stateNode,d!=null)){var m=t.memoizedProps,j=a!==null?a.memoizedProps:m,_=t.type,T=t.updateQueue;if(t.updateQueue=null,T!==null)try{_==="input"&&m.type==="radio"&&m.name!=null&&ot(d,m),ht(_,j);var V=ht(_,m);for(j=0;j<T.length;j+=2){var Z=T[j],X=T[j+1];Z==="style"?U(d,X):Z==="dangerouslySetInnerHTML"?ke(d,X):Z==="children"?Ue(d,X):E(d,Z,X,V)}switch(_){case"input":Vt(d,m);break;case"textarea":Ns(d,m);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var ne=m.value;ne!=null?Qt(d,!!m.multiple,ne,!1):Y!==!!m.multiple&&(m.defaultValue!=null?Qt(d,!!m.multiple,m.defaultValue,!0):Qt(d,!!m.multiple,m.multiple?[]:"",!1))}d[nn]=m}catch(ue){We(t,t.return,ue)}}break;case 6:if(ps(s,t),As(t),o&4){if(t.stateNode===null)throw Error(i(162));d=t.stateNode,m=t.memoizedProps;try{d.nodeValue=m}catch(ue){We(t,t.return,ue)}}break;case 3:if(ps(s,t),As(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Wa(s.containerInfo)}catch(ue){We(t,t.return,ue)}break;case 4:ps(s,t),As(t);break;case 13:ps(s,t),As(t),d=t.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Ho=re())),o&4&&fm(t);break;case 22:if(Z=a!==null&&a.memoizedState!==null,t.mode&1?(bt=(V=bt)||Z,ps(s,t),bt=V):ps(s,t),As(t),o&8192){if(V=t.memoizedState!==null,(t.stateNode.isHidden=V)&&!Z&&(t.mode&1)!==0)for(ie=t,Z=t.child;Z!==null;){for(X=ie=Z;ie!==null;){switch(Y=ie,ne=Y.child,Y.tag){case 0:case 11:case 14:case 15:fn(4,Y,Y.return);break;case 1:ka(Y,Y.return);var de=Y.stateNode;if(typeof de.componentWillUnmount=="function"){o=Y,a=Y.return;try{s=o,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(ue){We(o,a,ue)}}break;case 5:ka(Y,Y.return);break;case 22:if(Y.memoizedState!==null){jm(X);continue}}ne!==null?(ne.return=Y,ie=ne):jm(X)}Z=Z.sibling}e:for(Z=null,X=t;;){if(X.tag===5){if(Z===null){Z=X;try{d=X.stateNode,V?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(_=X.stateNode,T=X.memoizedProps.style,j=T!=null&&T.hasOwnProperty("display")?T.display:null,_.style.display=G("display",j))}catch(ue){We(t,t.return,ue)}}}else if(X.tag===6){if(Z===null)try{X.stateNode.nodeValue=V?"":X.memoizedProps}catch(ue){We(t,t.return,ue)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===t)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===t)break e;for(;X.sibling===null;){if(X.return===null||X.return===t)break e;Z===X&&(Z=null),X=X.return}Z===X&&(Z=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:ps(s,t),As(t),o&4&&fm(t);break;case 21:break;default:ps(s,t),As(t)}}function As(t){var s=t.flags;if(s&2){try{e:{for(var a=t.return;a!==null;){if(gm(a)){var o=a;break e}a=a.return}throw Error(i(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(Ue(d,""),o.flags&=-33);var m=pm(t);qo(t,m,d);break;case 3:case 4:var j=o.stateNode.containerInfo,_=pm(t);Uo(t,_,j);break;default:throw Error(i(161))}}catch(T){We(t,t.return,T)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function ip(t,s,a){ie=t,vm(t)}function vm(t,s,a){for(var o=(t.mode&1)!==0;ie!==null;){var d=ie,m=d.child;if(d.tag===22&&o){var j=d.memoizedState!==null||Dl;if(!j){var _=d.alternate,T=_!==null&&_.memoizedState!==null||bt;_=Dl;var V=bt;if(Dl=j,(bt=T)&&!V)for(ie=d;ie!==null;)j=ie,T=j.child,j.tag===22&&j.memoizedState!==null?Nm(d):T!==null?(T.return=j,ie=T):Nm(d);for(;m!==null;)ie=m,vm(m),m=m.sibling;ie=d,Dl=_,bt=V}bm(t)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,ie=m):bm(t)}}function bm(t){for(;ie!==null;){var s=ie;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:bt||El(5,s);break;case 1:var o=s.stateNode;if(s.flags&4&&!bt)if(a===null)o.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:xs(s.type,a.memoizedProps);o.componentDidUpdate(d,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&ju(s,m,o);break;case 3:var j=s.updateQueue;if(j!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}ju(s,j,a)}break;case 5:var _=s.stateNode;if(a===null&&s.flags&4){a=_;var T=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&a.focus();break;case"img":T.src&&(a.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var V=s.alternate;if(V!==null){var Z=V.memoizedState;if(Z!==null){var X=Z.dehydrated;X!==null&&Wa(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}bt||s.flags&512&&Fo(s)}catch(Y){We(s,s.return,Y)}}if(s===t){ie=null;break}if(a=s.sibling,a!==null){a.return=s.return,ie=a;break}ie=s.return}}function jm(t){for(;ie!==null;){var s=ie;if(s===t){ie=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ie=a;break}ie=s.return}}function Nm(t){for(;ie!==null;){var s=ie;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{El(4,s)}catch(T){We(s,a,T)}break;case 1:var o=s.stateNode;if(typeof o.componentDidMount=="function"){var d=s.return;try{o.componentDidMount()}catch(T){We(s,d,T)}}var m=s.return;try{Fo(s)}catch(T){We(s,m,T)}break;case 5:var j=s.return;try{Fo(s)}catch(T){We(s,j,T)}}}catch(T){We(s,s.return,T)}if(s===t){ie=null;break}var _=s.sibling;if(_!==null){_.return=s.return,ie=_;break}ie=s.return}}var op=Math.ceil,_l=S.ReactCurrentDispatcher,Ko=S.ReactCurrentOwner,ts=S.ReactCurrentBatchConfig,De=0,lt=null,Ze=null,dt=0,Gt=0,Sa=gr(0),at=0,yn=null,qr=0,Rl=0,Go=0,vn=null,Lt=null,Ho=0,Ca=1/0,Ys=null,Tl=!1,Wo=null,br=null,Al=!1,jr=null,Pl=0,bn=0,Jo=null,zl=-1,Ll=0;function Dt(){return(De&6)!==0?re():zl!==-1?zl:zl=re()}function Nr(t){return(t.mode&1)===0?1:(De&2)!==0&&dt!==0?dt&-dt:Kg.transition!==null?(Ll===0&&(Ll=pd()),Ll):(t=ze,t!==0||(t=window.event,t=t===void 0?16:kd(t.type)),t)}function hs(t,s,a,o){if(50<bn)throw bn=0,Jo=null,Error(i(185));Ua(t,a,o),((De&2)===0||t!==lt)&&(t===lt&&((De&2)===0&&(Rl|=a),at===4&&wr(t,dt)),Mt(t,o),a===1&&De===0&&(s.mode&1)===0&&(Ca=re()+500,dl&&hr()))}function Mt(t,s){var a=t.callbackNode;Kx(t,s);var o=Kn(t,t===lt?dt:0);if(o===0)a!==null&&Va(a),t.callbackNode=null,t.callbackPriority=0;else if(s=o&-o,t.callbackPriority!==s){if(a!=null&&Va(a),s===1)t.tag===0?qg(km.bind(null,t)):cu(km.bind(null,t)),Bg(function(){(De&6)===0&&hr()}),a=null;else{switch(hd(o)){case 1:a=cs;break;case 4:a=Fs;break;case 16:a=Us;break;case 536870912:a=gd;break;default:a=Us}a=Tm(a,wm.bind(null,t))}t.callbackPriority=s,t.callbackNode=a}}function wm(t,s){if(zl=-1,Ll=0,(De&6)!==0)throw Error(i(327));var a=t.callbackNode;if(Ia()&&t.callbackNode!==a)return null;var o=Kn(t,t===lt?dt:0);if(o===0)return null;if((o&30)!==0||(o&t.expiredLanes)!==0||s)s=Ml(t,o);else{s=o;var d=De;De|=2;var m=Cm();(lt!==t||dt!==s)&&(Ys=null,Ca=re()+500,Gr(t,s));do try{up();break}catch(_){Sm(t,_)}while(!0);xo(),_l.current=m,De=d,Ze!==null?s=0:(lt=null,dt=0,s=at)}if(s!==0){if(s===2&&(d=Di(t),d!==0&&(o=d,s=Qo(t,d))),s===1)throw a=yn,Gr(t,0),wr(t,o),Mt(t,re()),a;if(s===6)wr(t,o);else{if(d=t.current.alternate,(o&30)===0&&!cp(d)&&(s=Ml(t,o),s===2&&(m=Di(t),m!==0&&(o=m,s=Qo(t,m))),s===1))throw a=yn,Gr(t,0),wr(t,o),Mt(t,re()),a;switch(t.finishedWork=d,t.finishedLanes=o,s){case 0:case 1:throw Error(i(345));case 2:Hr(t,Lt,Ys);break;case 3:if(wr(t,o),(o&130023424)===o&&(s=Ho+500-re(),10<s)){if(Kn(t,0)!==0)break;if(d=t.suspendedLanes,(d&o)!==o){Dt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=to(Hr.bind(null,t,Lt,Ys),s);break}Hr(t,Lt,Ys);break;case 4:if(wr(t,o),(o&4194240)===o)break;for(s=t.eventTimes,d=-1;0<o;){var j=31-ds(o);m=1<<j,j=s[j],j>d&&(d=j),o&=~m}if(o=d,o=re()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*op(o/1960))-o,10<o){t.timeoutHandle=to(Hr.bind(null,t,Lt,Ys),o);break}Hr(t,Lt,Ys);break;case 5:Hr(t,Lt,Ys);break;default:throw Error(i(329))}}}return Mt(t,re()),t.callbackNode===a?wm.bind(null,t):null}function Qo(t,s){var a=vn;return t.current.memoizedState.isDehydrated&&(Gr(t,s).flags|=256),t=Ml(t,s),t!==2&&(s=Lt,Lt=a,s!==null&&Yo(s)),t}function Yo(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function cp(t){for(var s=t;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var d=a[o],m=d.getSnapshot;d=d.value;try{if(!us(m(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function wr(t,s){for(s&=~Go,s&=~Rl,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var a=31-ds(s),o=1<<a;t[a]=-1,s&=~o}}function km(t){if((De&6)!==0)throw Error(i(327));Ia();var s=Kn(t,0);if((s&1)===0)return Mt(t,re()),null;var a=Ml(t,s);if(t.tag!==0&&a===2){var o=Di(t);o!==0&&(s=o,a=Qo(t,o))}if(a===1)throw a=yn,Gr(t,0),wr(t,s),Mt(t,re()),a;if(a===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Hr(t,Lt,Ys),Mt(t,re()),null}function Zo(t,s){var a=De;De|=1;try{return t(s)}finally{De=a,De===0&&(Ca=re()+500,dl&&hr())}}function Kr(t){jr!==null&&jr.tag===0&&(De&6)===0&&Ia();var s=De;De|=1;var a=ts.transition,o=ze;try{if(ts.transition=null,ze=1,t)return t()}finally{ze=o,ts.transition=a,De=s,(De&6)===0&&hr()}}function Xo(){Gt=Sa.current,Be(Sa)}function Gr(t,s){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,$g(a)),Ze!==null)for(a=Ze.return;a!==null;){var o=a;switch(io(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ol();break;case 3:Na(),Be(At),Be(ft),jo();break;case 5:vo(o);break;case 4:Na();break;case 13:Be(qe);break;case 19:Be(qe);break;case 10:go(o.type._context);break;case 22:case 23:Xo()}a=a.return}if(lt=t,Ze=t=kr(t.current,null),dt=Gt=s,at=0,yn=null,Go=Rl=qr=0,Lt=vn=null,Vr!==null){for(s=0;s<Vr.length;s++)if(a=Vr[s],o=a.interleaved,o!==null){a.interleaved=null;var d=o.next,m=a.pending;if(m!==null){var j=m.next;m.next=d,o.next=j}a.pending=o}Vr=null}return t}function Sm(t,s){do{var a=Ze;try{if(xo(),bl.current=kl,jl){for(var o=Ke.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}jl=!1}if(Ur=0,nt=rt=Ke=null,mn=!1,xn=0,Ko.current=null,a===null||a.return===null){at=1,yn=s,Ze=null;break}e:{var m=t,j=a.return,_=a,T=s;if(s=dt,_.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var V=T,Z=_,X=Z.tag;if((Z.mode&1)===0&&(X===0||X===11||X===15)){var Y=Z.alternate;Y?(Z.updateQueue=Y.updateQueue,Z.memoizedState=Y.memoizedState,Z.lanes=Y.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ne=Qu(j);if(ne!==null){ne.flags&=-257,Yu(ne,j,_,m,s),ne.mode&1&&Ju(m,V,s),s=ne,T=V;var de=s.updateQueue;if(de===null){var ue=new Set;ue.add(T),s.updateQueue=ue}else de.add(T);break e}else{if((s&1)===0){Ju(m,V,s),ec();break e}T=Error(i(426))}}else if(Fe&&_.mode&1){var Qe=Qu(j);if(Qe!==null){(Qe.flags&65536)===0&&(Qe.flags|=256),Yu(Qe,j,_,m,s),uo(wa(T,_));break e}}m=T=wa(T,_),at!==4&&(at=2),vn===null?vn=[m]:vn.push(m),m=j;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var M=Hu(m,T,s);bu(m,M);break e;case 1:_=T;var P=m.type,$=m.stateNode;if((m.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(br===null||!br.has($)))){m.flags|=65536,s&=-s,m.lanes|=s;var ee=Wu(m,_,s);bu(m,ee);break e}}m=m.return}while(m!==null)}Dm(a)}catch(me){s=me,Ze===a&&a!==null&&(Ze=a=a.return);continue}break}while(!0)}function Cm(){var t=_l.current;return _l.current=kl,t===null?kl:t}function ec(){(at===0||at===3||at===2)&&(at=4),lt===null||(qr&268435455)===0&&(Rl&268435455)===0||wr(lt,dt)}function Ml(t,s){var a=De;De|=2;var o=Cm();(lt!==t||dt!==s)&&(Ys=null,Gr(t,s));do try{dp();break}catch(d){Sm(t,d)}while(!0);if(xo(),De=a,_l.current=o,Ze!==null)throw Error(i(261));return lt=null,dt=0,at}function dp(){for(;Ze!==null;)Im(Ze)}function up(){for(;Ze!==null&&!Bn();)Im(Ze)}function Im(t){var s=Rm(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,s===null?Dm(t):Ze=s,Ko.current=null}function Dm(t){var s=t;do{var a=s.alternate;if(t=s.return,(s.flags&32768)===0){if(a=rp(a,s,Gt),a!==null){Ze=a;return}}else{if(a=ap(a,s),a!==null){a.flags&=32767,Ze=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,Ze=null;return}}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=t}while(s!==null);at===0&&(at=5)}function Hr(t,s,a){var o=ze,d=ts.transition;try{ts.transition=null,ze=1,mp(t,s,a,o)}finally{ts.transition=d,ze=o}return null}function mp(t,s,a,o){do Ia();while(jr!==null);if((De&6)!==0)throw Error(i(327));a=t.finishedWork;var d=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var m=a.lanes|a.childLanes;if(Gx(t,m),t===lt&&(Ze=lt=null,dt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Al||(Al=!0,Tm(Us,function(){return Ia(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=ts.transition,ts.transition=null;var j=ze;ze=1;var _=De;De|=4,Ko.current=null,lp(t,a),ym(a,t),Tg(Xi),Wn=!!Zi,Xi=Zi=null,t.current=a,ip(a),Vn(),De=_,ze=j,ts.transition=m}else t.current=a;if(Al&&(Al=!1,jr=t,Pl=d),m=t.pendingLanes,m===0&&(br=null),Bx(a.stateNode),Mt(t,re()),s!==null)for(o=t.onRecoverableError,a=0;a<s.length;a++)d=s[a],o(d.value,{componentStack:d.stack,digest:d.digest});if(Tl)throw Tl=!1,t=Wo,Wo=null,t;return(Pl&1)!==0&&t.tag!==0&&Ia(),m=t.pendingLanes,(m&1)!==0?t===Jo?bn++:(bn=0,Jo=t):bn=0,hr(),null}function Ia(){if(jr!==null){var t=hd(Pl),s=ts.transition,a=ze;try{if(ts.transition=null,ze=16>t?16:t,jr===null)var o=!1;else{if(t=jr,jr=null,Pl=0,(De&6)!==0)throw Error(i(331));var d=De;for(De|=4,ie=t.current;ie!==null;){var m=ie,j=m.child;if((ie.flags&16)!==0){var _=m.deletions;if(_!==null){for(var T=0;T<_.length;T++){var V=_[T];for(ie=V;ie!==null;){var Z=ie;switch(Z.tag){case 0:case 11:case 15:fn(8,Z,m)}var X=Z.child;if(X!==null)X.return=Z,ie=X;else for(;ie!==null;){Z=ie;var Y=Z.sibling,ne=Z.return;if(xm(Z),Z===V){ie=null;break}if(Y!==null){Y.return=ne,ie=Y;break}ie=ne}}}var de=m.alternate;if(de!==null){var ue=de.child;if(ue!==null){de.child=null;do{var Qe=ue.sibling;ue.sibling=null,ue=Qe}while(ue!==null)}}ie=m}}if((m.subtreeFlags&2064)!==0&&j!==null)j.return=m,ie=j;else e:for(;ie!==null;){if(m=ie,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:fn(9,m,m.return)}var M=m.sibling;if(M!==null){M.return=m.return,ie=M;break e}ie=m.return}}var P=t.current;for(ie=P;ie!==null;){j=ie;var $=j.child;if((j.subtreeFlags&2064)!==0&&$!==null)$.return=j,ie=$;else e:for(j=P;ie!==null;){if(_=ie,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:El(9,_)}}catch(me){We(_,_.return,me)}if(_===j){ie=null;break e}var ee=_.sibling;if(ee!==null){ee.return=_.return,ie=ee;break e}ie=_.return}}if(De=d,hr(),Es&&typeof Es.onPostCommitFiberRoot=="function")try{Es.onPostCommitFiberRoot(Fn,t)}catch{}o=!0}return o}finally{ze=a,ts.transition=s}}return!1}function Em(t,s,a){s=wa(a,s),s=Hu(t,s,1),t=yr(t,s,1),s=Dt(),t!==null&&(Ua(t,1,s),Mt(t,s))}function We(t,s,a){if(t.tag===3)Em(t,t,a);else for(;s!==null;){if(s.tag===3){Em(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){t=wa(a,t),t=Wu(s,t,1),s=yr(s,t,1),t=Dt(),s!==null&&(Ua(s,1,t),Mt(s,t));break}}s=s.return}}function xp(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),s=Dt(),t.pingedLanes|=t.suspendedLanes&a,lt===t&&(dt&a)===a&&(at===4||at===3&&(dt&130023424)===dt&&500>re()-Ho?Gr(t,0):Go|=a),Mt(t,s)}function _m(t,s){s===0&&((t.mode&1)===0?s=1:(s=qn,qn<<=1,(qn&130023424)===0&&(qn=4194304)));var a=Dt();t=Ws(t,s),t!==null&&(Ua(t,s,a),Mt(t,a))}function gp(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),_m(t,a)}function pp(t,s){var a=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(i(314))}o!==null&&o.delete(s),_m(t,a)}var Rm;Rm=function(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps||At.current)zt=!0;else{if((t.lanes&a)===0&&(s.flags&128)===0)return zt=!1,sp(t,s,a);zt=(t.flags&131072)!==0}else zt=!1,Fe&&(s.flags&1048576)!==0&&du(s,ml,s.index);switch(s.lanes=0,s.tag){case 2:var o=s.type;Il(t,s),t=s.pendingProps;var d=pa(s,ft.current);ja(s,a),d=ko(null,s,o,t,d,a);var m=So();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Pt(o)?(m=!0,cl(s)):m=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,fo(s),d.updater=Sl,s.stateNode=d,d._reactInternals=s,Ro(s,o,t,a),s=zo(null,s,o,!0,m,a)):(s.tag=0,Fe&&m&&lo(s),It(null,s,d,a),s=s.child),s;case 16:o=s.elementType;e:{switch(Il(t,s),t=s.pendingProps,d=o._init,o=d(o._payload),s.type=o,d=s.tag=fp(o),t=xs(o,t),d){case 0:s=Po(null,s,o,t,a);break e;case 1:s=rm(null,s,o,t,a);break e;case 11:s=Zu(null,s,o,t,a);break e;case 14:s=Xu(null,s,o,xs(o.type,t),a);break e}throw Error(i(306,o,""))}return s;case 0:return o=s.type,d=s.pendingProps,d=s.elementType===o?d:xs(o,d),Po(t,s,o,d,a);case 1:return o=s.type,d=s.pendingProps,d=s.elementType===o?d:xs(o,d),rm(t,s,o,d,a);case 3:e:{if(am(s),t===null)throw Error(i(387));o=s.pendingProps,m=s.memoizedState,d=m.element,vu(t,s),yl(s,o,null,a);var j=s.memoizedState;if(o=j.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){d=wa(Error(i(423)),s),s=nm(t,s,o,a,d);break e}else if(o!==d){d=wa(Error(i(424)),s),s=nm(t,s,o,a,d);break e}else for(Kt=xr(s.stateNode.containerInfo.firstChild),qt=s,Fe=!0,ms=null,a=fu(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ya(),o===d){s=Qs(t,s,a);break e}It(t,s,o,a)}s=s.child}return s;case 5:return Nu(s),t===null&&co(s),o=s.type,d=s.pendingProps,m=t!==null?t.memoizedProps:null,j=d.children,eo(o,d)?j=null:m!==null&&eo(o,m)&&(s.flags|=32),sm(t,s),It(t,s,j,a),s.child;case 6:return t===null&&co(s),null;case 13:return lm(t,s,a);case 4:return yo(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=va(s,null,o,a):It(t,s,o,a),s.child;case 11:return o=s.type,d=s.pendingProps,d=s.elementType===o?d:xs(o,d),Zu(t,s,o,d,a);case 7:return It(t,s,s.pendingProps,a),s.child;case 8:return It(t,s,s.pendingProps.children,a),s.child;case 12:return It(t,s,s.pendingProps.children,a),s.child;case 10:e:{if(o=s.type._context,d=s.pendingProps,m=s.memoizedProps,j=d.value,Oe(pl,o._currentValue),o._currentValue=j,m!==null)if(us(m.value,j)){if(m.children===d.children&&!At.current){s=Qs(t,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var _=m.dependencies;if(_!==null){j=m.child;for(var T=_.firstContext;T!==null;){if(T.context===o){if(m.tag===1){T=Js(-1,a&-a),T.tag=2;var V=m.updateQueue;if(V!==null){V=V.shared;var Z=V.pending;Z===null?T.next=T:(T.next=Z.next,Z.next=T),V.pending=T}}m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),po(m.return,a,s),_.lanes|=a;break}T=T.next}}else if(m.tag===10)j=m.type===s.type?null:m.child;else if(m.tag===18){if(j=m.return,j===null)throw Error(i(341));j.lanes|=a,_=j.alternate,_!==null&&(_.lanes|=a),po(j,a,s),j=m.sibling}else j=m.child;if(j!==null)j.return=m;else for(j=m;j!==null;){if(j===s){j=null;break}if(m=j.sibling,m!==null){m.return=j.return,j=m;break}j=j.return}m=j}It(t,s,d.children,a),s=s.child}return s;case 9:return d=s.type,o=s.pendingProps.children,ja(s,a),d=Xt(d),o=o(d),s.flags|=1,It(t,s,o,a),s.child;case 14:return o=s.type,d=xs(o,s.pendingProps),d=xs(o.type,d),Xu(t,s,o,d,a);case 15:return em(t,s,s.type,s.pendingProps,a);case 17:return o=s.type,d=s.pendingProps,d=s.elementType===o?d:xs(o,d),Il(t,s),s.tag=1,Pt(o)?(t=!0,cl(s)):t=!1,ja(s,a),Ku(s,o,d),Ro(s,o,d,a),zo(null,s,o,!0,t,a);case 19:return om(t,s,a);case 22:return tm(t,s,a)}throw Error(i(156,s.tag))};function Tm(t,s){return Ba(t,s)}function hp(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(t,s,a,o){return new hp(t,s,a,o)}function tc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fp(t){if(typeof t=="function")return tc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ae)return 11;if(t===Ce)return 14}return 2}function kr(t,s){var a=t.alternate;return a===null?(a=ss(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function Ol(t,s,a,o,d,m){var j=2;if(o=t,typeof t=="function")tc(t)&&(j=1);else if(typeof t=="string")j=5;else e:switch(t){case B:return Wr(a.children,d,m,s);case A:j=8,d|=8;break;case H:return t=ss(12,a,s,d|2),t.elementType=H,t.lanes=m,t;case ce:return t=ss(13,a,s,d),t.elementType=ce,t.lanes=m,t;case je:return t=ss(19,a,s,d),t.elementType=je,t.lanes=m,t;case F:return $l(a,d,m,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O:j=10;break e;case K:j=9;break e;case ae:j=11;break e;case Ce:j=14;break e;case Ae:j=16,o=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return s=ss(j,a,s,d),s.elementType=t,s.type=o,s.lanes=m,s}function Wr(t,s,a,o){return t=ss(7,t,o,s),t.lanes=a,t}function $l(t,s,a,o){return t=ss(22,t,o,s),t.elementType=F,t.lanes=a,t.stateNode={isHidden:!1},t}function sc(t,s,a){return t=ss(6,t,null,s),t.lanes=a,t}function rc(t,s,a){return s=ss(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function yp(t,s,a,o,d){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ac(t,s,a,o,d,m,j,_,T){return t=new yp(t,s,a,_,T),s===1?(s=1,m===!0&&(s|=8)):s=0,m=ss(3,null,null,s),t.current=m,m.stateNode=t,m.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},fo(m),t}function vp(t,s,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:o==null?null:""+o,children:t,containerInfo:s,implementation:a}}function Am(t){if(!t)return pr;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error(i(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Pt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(i(171))}if(t.tag===1){var a=t.type;if(Pt(a))return iu(t,a,s)}return s}function Pm(t,s,a,o,d,m,j,_,T){return t=ac(a,o,!0,t,d,m,j,_,T),t.context=Am(null),a=t.current,o=Dt(),d=Nr(a),m=Js(o,d),m.callback=s??null,yr(a,m,d),t.current.lanes=d,Ua(t,d,o),Mt(t,o),t}function Bl(t,s,a,o){var d=s.current,m=Dt(),j=Nr(d);return a=Am(a),s.context===null?s.context=a:s.pendingContext=a,s=Js(m,j),s.payload={element:t},o=o===void 0?null:o,o!==null&&(s.callback=o),t=yr(d,s,j),t!==null&&(hs(t,d,j,m),fl(t,d,j)),j}function Vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function nc(t,s){zm(t,s),(t=t.alternate)&&zm(t,s)}function bp(){return null}var Lm=typeof reportError=="function"?reportError:function(t){console.error(t)};function lc(t){this._internalRoot=t}Fl.prototype.render=lc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));Bl(t,s,null,null)},Fl.prototype.unmount=lc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Kr(function(){Bl(null,t,null,null)}),s[qs]=null}};function Fl(t){this._internalRoot=t}Fl.prototype.unstable_scheduleHydration=function(t){if(t){var s=vd();t={blockedOn:null,target:t,priority:s};for(var a=0;a<dr.length&&s!==0&&s<dr[a].priority;a++);dr.splice(a,0,t),a===0&&Nd(t)}};function ic(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mm(){}function jp(t,s,a,o,d){if(d){if(typeof o=="function"){var m=o;o=function(){var V=Vl(j);m.call(V)}}var j=Pm(s,o,t,0,null,!1,!1,"",Mm);return t._reactRootContainer=j,t[qs]=j.current,rn(t.nodeType===8?t.parentNode:t),Kr(),j}for(;d=t.lastChild;)t.removeChild(d);if(typeof o=="function"){var _=o;o=function(){var V=Vl(T);_.call(V)}}var T=ac(t,0,!1,null,null,!1,!1,"",Mm);return t._reactRootContainer=T,t[qs]=T.current,rn(t.nodeType===8?t.parentNode:t),Kr(function(){Bl(s,T,a,o)}),T}function ql(t,s,a,o,d){var m=a._reactRootContainer;if(m){var j=m;if(typeof d=="function"){var _=d;d=function(){var T=Vl(j);_.call(T)}}Bl(s,j,t,d)}else j=jp(a,s,t,d,o);return Vl(j)}fd=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var a=Fa(s.pendingLanes);a!==0&&(_i(s,a|1),Mt(s,re()),(De&6)===0&&(Ca=re()+500,hr()))}break;case 13:Kr(function(){var o=Ws(t,1);if(o!==null){var d=Dt();hs(o,t,1,d)}}),nc(t,1)}},Ri=function(t){if(t.tag===13){var s=Ws(t,134217728);if(s!==null){var a=Dt();hs(s,t,134217728,a)}nc(t,134217728)}},yd=function(t){if(t.tag===13){var s=Nr(t),a=Ws(t,s);if(a!==null){var o=Dt();hs(a,t,s,o)}nc(t,s)}},vd=function(){return ze},bd=function(t,s){var a=ze;try{return ze=t,s()}finally{ze=a}},os=function(t,s,a){switch(s){case"input":if(Vt(t,a),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var d=il(o);if(!d)throw Error(i(90));Jt(o),Vt(o,d)}}}break;case"textarea":Ns(t,a);break;case"select":s=a.value,s!=null&&Qt(t,!!a.multiple,s,!1)}},Ar=Zo,Pr=Kr;var Np={usingClientEntryPoint:!1,Events:[ln,xa,il,Rr,Tr,Zo]},jn={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wp={bundleType:jn.bundleType,version:jn.version,rendererPackageName:jn.rendererPackageName,rendererConfig:jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lr(t),t===null?null:t.stateNode},findFiberByHostInstance:jn.findFiberByHostInstance||bp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Fn=Kl.inject(wp),Es=Kl}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np,Ot.createPortal=function(t,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ic(s))throw Error(i(200));return vp(t,s,null,a)},Ot.createRoot=function(t,s){if(!ic(t))throw Error(i(299));var a=!1,o="",d=Lm;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=ac(t,1,!1,null,null,a,!1,o,d),t[qs]=s.current,rn(t.nodeType===8?t.parentNode:t),new lc(s)},Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=Lr(s),t=t===null?null:t.stateNode,t},Ot.flushSync=function(t){return Kr(t)},Ot.hydrate=function(t,s,a){if(!Ul(s))throw Error(i(200));return ql(null,t,s,!0,a)},Ot.hydrateRoot=function(t,s,a){if(!ic(t))throw Error(i(405));var o=a!=null&&a.hydratedSources||null,d=!1,m="",j=Lm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(j=a.onRecoverableError)),s=Pm(s,null,t,1,a??null,d,!1,m,j),t[qs]=s.current,rn(t),o)for(t=0;t<o.length;t++)a=o[t],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Fl(s)},Ot.render=function(t,s,a){if(!Ul(s))throw Error(i(200));return ql(null,t,s,!1,a)},Ot.unmountComponentAtNode=function(t){if(!Ul(t))throw Error(i(40));return t._reactRootContainer?(Kr(function(){ql(null,null,t,!1,function(){t._reactRootContainer=null,t[qs]=null})}),!0):!1},Ot.unstable_batchedUpdates=Zo,Ot.unstable_renderSubtreeIntoContainer=function(t,s,a,o){if(!Ul(a))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return ql(t,s,a,!1,o)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var Km;function Rp(){if(Km)return dc.exports;Km=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),dc.exports=_p(),dc.exports}var Gm;function Tp(){if(Gm)return Gl;Gm=1;var r=Rp();return Gl.createRoot=r.createRoot,Gl.hydrateRoot=r.hydrateRoot,Gl}var Ap=Tp();/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hm="popstate";function Pp(r={}){function n(l,u){let{pathname:c,search:x,hash:p}=l.location;return Sc("",{pathname:c,search:x,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){return typeof u=="string"?u:kn(u)}return Lp(n,i,null,r)}function Ge(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function vs(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function zp(){return Math.random().toString(36).substring(2,10)}function Wm(r,n){return{usr:r.state,key:r.key,idx:n}}function Sc(r,n,i=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Aa(n):n,state:i,key:n&&n.key||l||zp()}}function kn({pathname:r="/",search:n="",hash:i=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Aa(r){let n={};if(r){let i=r.indexOf("#");i>=0&&(n.hash=r.substring(i),r=r.substring(0,i));let l=r.indexOf("?");l>=0&&(n.search=r.substring(l),r=r.substring(0,l)),r&&(n.pathname=r)}return n}function Lp(r,n,i,l={}){let{window:u=document.defaultView,v5Compat:c=!1}=l,x=u.history,p="POP",g=null,f=h();f==null&&(f=0,x.replaceState({...x.state,idx:f},""));function h(){return(x.state||{idx:null}).idx}function N(){p="POP";let b=h(),C=b==null?null:b-f;f=b,g&&g({action:p,location:k.location,delta:C})}function I(b,C){p="PUSH";let w=Sc(k.location,b,C);f=h()+1;let E=Wm(w,f),S=k.createHref(w);try{x.pushState(E,"",S)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;u.location.assign(S)}c&&g&&g({action:p,location:k.location,delta:1})}function D(b,C){p="REPLACE";let w=Sc(k.location,b,C);f=h();let E=Wm(w,f),S=k.createHref(w);x.replaceState(E,"",S),c&&g&&g({action:p,location:k.location,delta:0})}function v(b){return Mp(b)}let k={get action(){return p},get location(){return r(u,x)},listen(b){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(Hm,N),g=b,()=>{u.removeEventListener(Hm,N),g=null}},createHref(b){return n(u,b)},createURL:v,encodeLocation(b){let C=v(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:I,replace:D,go(b){return x.go(b)}};return k}function Mp(r,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(i,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:kn(r);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function w0(r,n,i="/"){return Op(r,n,i,!1)}function Op(r,n,i,l){let u=typeof n=="string"?Aa(n):n,c=Xs(u.pathname||"/",i);if(c==null)return null;let x=k0(r);$p(x);let p=null;for(let g=0;p==null&&g<x.length;++g){let f=Qp(c);p=Wp(x[g],f,l)}return p}function k0(r,n=[],i=[],l="",u=!1){let c=(x,p,g=u,f)=>{let h={relativePath:f===void 0?x.path||"":f,caseSensitive:x.caseSensitive===!0,childrenIndex:p,route:x};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(l)&&g)return;Ge(h.relativePath.startsWith(l),`Absolute route path "${h.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(l.length)}let N=Zs([l,h.relativePath]),I=i.concat(h);x.children&&x.children.length>0&&(Ge(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),k0(x.children,n,I,N,g)),!(x.path==null&&!x.index)&&n.push({path:N,score:Gp(N,x.index),routesMeta:I})};return r.forEach((x,p)=>{var g;if(x.path===""||!((g=x.path)!=null&&g.includes("?")))c(x,p);else for(let f of S0(x.path))c(x,p,!0,f)}),n}function S0(r){let n=r.split("/");if(n.length===0)return[];let[i,...l]=n,u=i.endsWith("?"),c=i.replace(/\?$/,"");if(l.length===0)return u?[c,""]:[c];let x=S0(l.join("/")),p=[];return p.push(...x.map(g=>g===""?c:[c,g].join("/"))),u&&p.push(...x),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function $p(r){r.sort((n,i)=>n.score!==i.score?i.score-n.score:Hp(n.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var Bp=/^:[\w-]+$/,Vp=3,Fp=2,Up=1,qp=10,Kp=-2,Jm=r=>r==="*";function Gp(r,n){let i=r.split("/"),l=i.length;return i.some(Jm)&&(l+=Kp),n&&(l+=Fp),i.filter(u=>!Jm(u)).reduce((u,c)=>u+(Bp.test(c)?Vp:c===""?Up:qp),l)}function Hp(r,n){return r.length===n.length&&r.slice(0,-1).every((l,u)=>l===n[u])?r[r.length-1]-n[n.length-1]:0}function Wp(r,n,i=!1){let{routesMeta:l}=r,u={},c="/",x=[];for(let p=0;p<l.length;++p){let g=l[p],f=p===l.length-1,h=c==="/"?n:n.slice(c.length)||"/",N=ai({path:g.relativePath,caseSensitive:g.caseSensitive,end:f},h),I=g.route;if(!N&&f&&i&&!l[l.length-1].route.index&&(N=ai({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},h)),!N)return null;Object.assign(u,N.params),x.push({params:u,pathname:Zs([c,N.pathname]),pathnameBase:eh(Zs([c,N.pathnameBase])),route:I}),N.pathnameBase!=="/"&&(c=Zs([c,N.pathnameBase]))}return x}function ai(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,l]=Jp(r.path,r.caseSensitive,r.end),u=n.match(i);if(!u)return null;let c=u[0],x=c.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:l.reduce((f,{paramName:h,isOptional:N},I)=>{if(h==="*"){let v=p[I]||"";x=c.slice(0,c.length-v.length).replace(/(.)\/+$/,"$1")}const D=p[I];return N&&!D?f[h]=void 0:f[h]=(D||"").replace(/%2F/g,"/"),f},{}),pathname:c,pathnameBase:x,pattern:r}}function Jp(r,n=!1,i=!0){vs(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,p,g)=>(l.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),l]}function Qp(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return vs(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function Xs(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,l=r.charAt(i);return l&&l!=="/"?null:r.slice(i)||"/"}var C0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yp=r=>C0.test(r);function Zp(r,n="/"){let{pathname:i,search:l="",hash:u=""}=typeof r=="string"?Aa(r):r,c;if(i)if(Yp(i))c=i;else{if(i.includes("//")){let x=i;i=i.replace(/\/\/+/g,"/"),vs(!1,`Pathnames cannot have embedded double slashes - normalizing ${x} -> ${i}`)}i.startsWith("/")?c=Qm(i.substring(1),"/"):c=Qm(i,n)}else c=n;return{pathname:c,search:th(l),hash:sh(u)}}function Qm(r,n){let i=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function xc(r,n,i,l){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xp(r){return r.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function I0(r){let n=Xp(r);return n.map((i,l)=>l===n.length-1?i.pathname:i.pathnameBase)}function D0(r,n,i,l=!1){let u;typeof r=="string"?u=Aa(r):(u={...r},Ge(!u.pathname||!u.pathname.includes("?"),xc("?","pathname","search",u)),Ge(!u.pathname||!u.pathname.includes("#"),xc("#","pathname","hash",u)),Ge(!u.search||!u.search.includes("#"),xc("#","search","hash",u)));let c=r===""||u.pathname==="",x=c?"/":u.pathname,p;if(x==null)p=i;else{let N=n.length-1;if(!l&&x.startsWith("..")){let I=x.split("/");for(;I[0]==="..";)I.shift(),N-=1;u.pathname=I.join("/")}p=N>=0?n[N]:"/"}let g=Zp(u,p),f=x&&x!=="/"&&x.endsWith("/"),h=(c||x===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(f||h)&&(g.pathname+="/"),g}var Zs=r=>r.join("/").replace(/\/\/+/g,"/"),eh=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),th=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,sh=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,rh=class{constructor(r,n,i,l=!1){this.status=r,this.statusText=n||"",this.internal=l,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function ah(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function nh(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var E0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _0(r,n){let i=r;if(typeof i!="string"||!C0.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let l=i,u=!1;if(E0)try{let c=new URL(window.location.href),x=i.startsWith("//")?new URL(c.protocol+i):new URL(i),p=Xs(x.pathname,n);x.origin===c.origin&&p!=null?i=p+x.search+x.hash:u=!0}catch{vs(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:u,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var R0=["POST","PUT","PATCH","DELETE"];new Set(R0);var lh=["GET",...R0];new Set(lh);var Pa=y.createContext(null);Pa.displayName="DataRouter";var xi=y.createContext(null);xi.displayName="DataRouterState";var ih=y.createContext(!1),T0=y.createContext({isTransitioning:!1});T0.displayName="ViewTransition";var oh=y.createContext(new Map);oh.displayName="Fetchers";var ch=y.createContext(null);ch.displayName="Await";var ns=y.createContext(null);ns.displayName="Navigation";var _n=y.createContext(null);_n.displayName="Location";var zs=y.createContext({outlet:null,matches:[],isDataRoute:!1});zs.displayName="Route";var Hc=y.createContext(null);Hc.displayName="RouteError";var A0="REACT_ROUTER_ERROR",dh="REDIRECT",uh="ROUTE_ERROR_RESPONSE";function mh(r){if(r.startsWith(`${A0}:${dh}:{`))try{let n=JSON.parse(r.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function xh(r){if(r.startsWith(`${A0}:${uh}:{`))try{let n=JSON.parse(r.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new rh(n.status,n.statusText,n.data)}catch{}}function gh(r,{relative:n}={}){Ge(Rn(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=y.useContext(ns),{hash:u,pathname:c,search:x}=Tn(r,{relative:n}),p=c;return i!=="/"&&(p=c==="/"?i:Zs([i,c])),l.createHref({pathname:p,search:x,hash:u})}function Rn(){return y.useContext(_n)!=null}function Xr(){return Ge(Rn(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(_n).location}var P0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z0(r){y.useContext(ns).static||y.useLayoutEffect(r)}function ph(){let{isDataRoute:r}=y.useContext(zs);return r?Dh():hh()}function hh(){Ge(Rn(),"useNavigate() may be used only in the context of a <Router> component.");let r=y.useContext(Pa),{basename:n,navigator:i}=y.useContext(ns),{matches:l}=y.useContext(zs),{pathname:u}=Xr(),c=JSON.stringify(I0(l)),x=y.useRef(!1);return z0(()=>{x.current=!0}),y.useCallback((g,f={})=>{if(vs(x.current,P0),!x.current)return;if(typeof g=="number"){i.go(g);return}let h=D0(g,JSON.parse(c),u,f.relative==="path");r==null&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Zs([n,h.pathname])),(f.replace?i.replace:i.push)(h,f.state,f)},[n,i,c,u,r])}y.createContext(null);function L0(){let{matches:r}=y.useContext(zs),n=r[r.length-1];return n?n.params:{}}function Tn(r,{relative:n}={}){let{matches:i}=y.useContext(zs),{pathname:l}=Xr(),u=JSON.stringify(I0(i));return y.useMemo(()=>D0(r,JSON.parse(u),l,n==="path"),[r,u,l,n])}function fh(r,n){return M0(r,n)}function M0(r,n,i,l,u){var w;Ge(Rn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=y.useContext(ns),{matches:x}=y.useContext(zs),p=x[x.length-1],g=p?p.params:{},f=p?p.pathname:"/",h=p?p.pathnameBase:"/",N=p&&p.route;{let E=N&&N.path||"";$0(f,!N||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let I=Xr(),D;if(n){let E=typeof n=="string"?Aa(n):n;Ge(h==="/"||((w=E.pathname)==null?void 0:w.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),D=E}else D=I;let v=D.pathname||"/",k=v;if(h!=="/"){let E=h.replace(/^\//,"").split("/");k="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=w0(r,{pathname:k});vs(N||b!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),vs(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Nh(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},g,E.params),pathname:Zs([h,c.encodeLocation?c.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Zs([h,c.encodeLocation?c.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),x,i,l,u);return n&&C?y.createElement(_n.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},C):C}function yh(){let r=Ih(),n=ah(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},x=null;return console.error("Error handled by React Router default ErrorBoundary:",r),x=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:c},"ErrorBoundary")," or"," ",y.createElement("code",{style:c},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},n),i?y.createElement("pre",{style:u},i):null,x)}var vh=y.createElement(yh,null),O0=class extends y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=xh(r.digest);i&&(r=i)}let n=r!==void 0?y.createElement(zs.Provider,{value:this.props.routeContext},y.createElement(Hc.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?y.createElement(bh,{error:r},n):n}};O0.contextType=ih;var gc=new WeakMap;function bh({children:r,error:n}){let{basename:i}=y.useContext(ns);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let l=mh(n.digest);if(l){let u=gc.get(n);if(u)throw u;let c=_0(l.location,i);if(E0&&!gc.get(n))if(c.isExternal||l.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const x=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:l.replace}));throw gc.set(n,x),x}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function jh({routeContext:r,match:n,children:i}){let l=y.useContext(Pa);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(zs.Provider,{value:r},i)}function Nh(r,n=[],i=null,l=null,u=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,x=i==null?void 0:i.errors;if(x!=null){let h=c.findIndex(N=>N.route.id&&(x==null?void 0:x[N.route.id])!==void 0);Ge(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),c=c.slice(0,Math.min(c.length,h+1))}let p=!1,g=-1;if(i)for(let h=0;h<c.length;h++){let N=c[h];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(g=h),N.route.id){let{loaderData:I,errors:D}=i,v=N.route.loader&&!I.hasOwnProperty(N.route.id)&&(!D||D[N.route.id]===void 0);if(N.route.lazy||v){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let f=i&&l?(h,N)=>{var I,D;l(h,{location:i.location,params:((D=(I=i.matches)==null?void 0:I[0])==null?void 0:D.params)??{},unstable_pattern:nh(i.matches),errorInfo:N})}:void 0;return c.reduceRight((h,N,I)=>{let D,v=!1,k=null,b=null;i&&(D=x&&N.route.id?x[N.route.id]:void 0,k=N.route.errorElement||vh,p&&(g<0&&I===0?($0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):g===I&&(v=!0,b=N.route.hydrateFallbackElement||null)));let C=n.concat(c.slice(0,I+1)),w=()=>{let E;return D?E=k:v?E=b:N.route.Component?E=y.createElement(N.route.Component,null):N.route.element?E=N.route.element:E=h,y.createElement(jh,{match:N,routeContext:{outlet:h,matches:C,isDataRoute:i!=null},children:E})};return i&&(N.route.ErrorBoundary||N.route.errorElement||I===0)?y.createElement(O0,{location:i.location,revalidation:i.revalidation,component:k,error:D,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):w()},null)}function Wc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wh(r){let n=y.useContext(Pa);return Ge(n,Wc(r)),n}function kh(r){let n=y.useContext(xi);return Ge(n,Wc(r)),n}function Sh(r){let n=y.useContext(zs);return Ge(n,Wc(r)),n}function Jc(r){let n=Sh(r),i=n.matches[n.matches.length-1];return Ge(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Ch(){return Jc("useRouteId")}function Ih(){var l;let r=y.useContext(Hc),n=kh("useRouteError"),i=Jc("useRouteError");return r!==void 0?r:(l=n.errors)==null?void 0:l[i]}function Dh(){let{router:r}=wh("useNavigate"),n=Jc("useNavigate"),i=y.useRef(!1);return z0(()=>{i.current=!0}),y.useCallback(async(u,c={})=>{vs(i.current,P0),i.current&&(typeof u=="number"?await r.navigate(u):await r.navigate(u,{fromRouteId:n,...c}))},[r,n])}var Ym={};function $0(r,n,i){!n&&!Ym[r]&&(Ym[r]=!0,vs(!1,i))}y.memo(Eh);function Eh({routes:r,future:n,state:i,onError:l}){return M0(r,void 0,i,l,n)}function ei(r){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _h({basename:r="/",children:n=null,location:i,navigationType:l="POP",navigator:u,static:c=!1,unstable_useTransitions:x}){Ge(!Rn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=y.useMemo(()=>({basename:p,navigator:u,static:c,unstable_useTransitions:x,future:{}}),[p,u,c,x]);typeof i=="string"&&(i=Aa(i));let{pathname:f="/",search:h="",hash:N="",state:I=null,key:D="default"}=i,v=y.useMemo(()=>{let k=Xs(f,p);return k==null?null:{location:{pathname:k,search:h,hash:N,state:I,key:D},navigationType:l}},[p,f,h,N,I,D,l]);return vs(v!=null,`<Router basename="${p}"> is not able to match the URL "${f}${h}${N}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:y.createElement(ns.Provider,{value:g},y.createElement(_n.Provider,{children:n,value:v}))}function Rh({children:r,location:n}){return fh(Cc(r),n)}function Cc(r,n=[]){let i=[];return y.Children.forEach(r,(l,u)=>{if(!y.isValidElement(l))return;let c=[...n,u];if(l.type===y.Fragment){i.push.apply(i,Cc(l.props.children,c));return}Ge(l.type===ei,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!l.props.index||!l.props.children,"An index route cannot have child routes.");let x={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(x.children=Cc(l.props.children,c)),i.push(x)}),i}var ti="get",si="application/x-www-form-urlencoded";function gi(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Th(r){return gi(r)&&r.tagName.toLowerCase()==="button"}function Ah(r){return gi(r)&&r.tagName.toLowerCase()==="form"}function Ph(r){return gi(r)&&r.tagName.toLowerCase()==="input"}function zh(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Lh(r,n){return r.button===0&&(!n||n==="_self")&&!zh(r)}var Hl=null;function Mh(){if(Hl===null)try{new FormData(document.createElement("form"),0),Hl=!1}catch{Hl=!0}return Hl}var Oh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pc(r){return r!=null&&!Oh.has(r)?(vs(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${si}"`),null):r}function $h(r,n){let i,l,u,c,x;if(Ah(r)){let p=r.getAttribute("action");l=p?Xs(p,n):null,i=r.getAttribute("method")||ti,u=pc(r.getAttribute("enctype"))||si,c=new FormData(r)}else if(Th(r)||Ph(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(l=g?Xs(g,n):null,i=r.getAttribute("formmethod")||p.getAttribute("method")||ti,u=pc(r.getAttribute("formenctype"))||pc(p.getAttribute("enctype"))||si,c=new FormData(p,r),!Mh()){let{name:f,type:h,value:N}=r;if(h==="image"){let I=f?`${f}.`:"";c.append(`${I}x`,"0"),c.append(`${I}y`,"0")}else f&&c.append(f,N)}}else{if(gi(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ti,l=null,u=si,x=r}return c&&u==="text/plain"&&(x=c,c=void 0),{action:l,method:i.toLowerCase(),encType:u,formData:c,body:x}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qc(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Bh(r,n,i){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${i}`:n&&Xs(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function Vh(r,n){if(r.id in n)return n[r.id];try{let i=await import(r.module);return n[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fh(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Uh(r,n,i){let l=await Promise.all(r.map(async u=>{let c=n.routes[u.route.id];if(c){let x=await Vh(c,i);return x.links?x.links():[]}return[]}));return Hh(l.flat(1).filter(Fh).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Zm(r,n,i,l,u,c){let x=(g,f)=>i[f]?g.route.id!==i[f].route.id:!0,p=(g,f)=>{var h;return i[f].pathname!==g.pathname||((h=i[f].route.path)==null?void 0:h.endsWith("*"))&&i[f].params["*"]!==g.params["*"]};return c==="assets"?n.filter((g,f)=>x(g,f)||p(g,f)):c==="data"?n.filter((g,f)=>{var N;let h=l.routes[g.route.id];if(!h||!h.hasLoader)return!1;if(x(g,f)||p(g,f))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((N=i[0])==null?void 0:N.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function qh(r,n,{includeHydrateFallback:i}={}){return Kh(r.map(l=>{let u=n.routes[l.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function Kh(r){return[...new Set(r)]}function Gh(r){let n={},i=Object.keys(r).sort();for(let l of i)n[l]=r[l];return n}function Hh(r,n){let i=new Set;return new Set(n),r.reduce((l,u)=>{let c=JSON.stringify(Gh(u));return i.has(c)||(i.add(c),l.push({key:c,link:u})),l},[])}function B0(){let r=y.useContext(Pa);return Qc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Wh(){let r=y.useContext(xi);return Qc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Yc=y.createContext(void 0);Yc.displayName="FrameworkContext";function V0(){let r=y.useContext(Yc);return Qc(r,"You must render this element inside a <HydratedRouter> element"),r}function Jh(r,n){let i=y.useContext(Yc),[l,u]=y.useState(!1),[c,x]=y.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:f,onMouseLeave:h,onTouchStart:N}=n,I=y.useRef(null);y.useEffect(()=>{if(r==="render"&&x(!0),r==="viewport"){let k=C=>{C.forEach(w=>{x(w.isIntersecting)})},b=new IntersectionObserver(k,{threshold:.5});return I.current&&b.observe(I.current),()=>{b.disconnect()}}},[r]),y.useEffect(()=>{if(l){let k=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout(k)}}},[l]);let D=()=>{u(!0)},v=()=>{u(!1),x(!1)};return i?r!=="intent"?[c,I,{}]:[c,I,{onFocus:wn(p,D),onBlur:wn(g,v),onMouseEnter:wn(f,D),onMouseLeave:wn(h,v),onTouchStart:wn(N,D)}]:[!1,I,{}]}function wn(r,n){return i=>{r&&r(i),i.defaultPrevented||n(i)}}function Qh({page:r,...n}){let{router:i}=B0(),l=y.useMemo(()=>w0(i.routes,r,i.basename),[i.routes,r,i.basename]);return l?y.createElement(Zh,{page:r,matches:l,...n}):null}function Yh(r){let{manifest:n,routeModules:i}=V0(),[l,u]=y.useState([]);return y.useEffect(()=>{let c=!1;return Uh(r,n,i).then(x=>{c||u(x)}),()=>{c=!0}},[r,n,i]),l}function Zh({page:r,matches:n,...i}){let l=Xr(),{manifest:u,routeModules:c}=V0(),{basename:x}=B0(),{loaderData:p,matches:g}=Wh(),f=y.useMemo(()=>Zm(r,n,g,u,l,"data"),[r,n,g,u,l]),h=y.useMemo(()=>Zm(r,n,g,u,l,"assets"),[r,n,g,u,l]),N=y.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let v=new Set,k=!1;if(n.forEach(C=>{var E;let w=u.routes[C.route.id];!w||!w.hasLoader||(!f.some(S=>S.route.id===C.route.id)&&C.route.id in p&&((E=c[C.route.id])!=null&&E.shouldRevalidate)||w.hasClientLoader?k=!0:v.add(C.route.id))}),v.size===0)return[];let b=Bh(r,x,"data");return k&&v.size>0&&b.searchParams.set("_routes",n.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[b.pathname+b.search]},[x,p,l,u,f,n,r,c]),I=y.useMemo(()=>qh(h,u),[h,u]),D=Yh(h);return y.createElement(y.Fragment,null,N.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...i})),I.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...i})),D.map(({key:v,link:k})=>y.createElement("link",{key:v,nonce:i.nonce,...k})))}function Xh(...r){return n=>{r.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var ef=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ef&&(window.__reactRouterVersion="7.11.0")}catch{}function tf({basename:r,children:n,unstable_useTransitions:i,window:l}){let u=y.useRef();u.current==null&&(u.current=Pp({window:l,v5Compat:!0}));let c=u.current,[x,p]=y.useState({action:c.action,location:c.location}),g=y.useCallback(f=>{i===!1?p(f):y.startTransition(()=>p(f))},[i]);return y.useLayoutEffect(()=>c.listen(g),[c,g]),y.createElement(_h,{basename:r,children:n,location:x.location,navigationType:x.action,navigator:c,unstable_useTransitions:i})}var F0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U0=y.forwardRef(function({onClick:n,discover:i="render",prefetch:l="none",relative:u,reloadDocument:c,replace:x,state:p,target:g,to:f,preventScrollReset:h,viewTransition:N,unstable_defaultShouldRevalidate:I,...D},v){let{basename:k,unstable_useTransitions:b}=y.useContext(ns),C=typeof f=="string"&&F0.test(f),w=_0(f,k);f=w.to;let E=gh(f,{relative:u}),[S,R,z]=Jh(l,D),B=nf(f,{replace:x,state:p,target:g,preventScrollReset:h,relative:u,viewTransition:N,unstable_defaultShouldRevalidate:I,unstable_useTransitions:b});function A(O){n&&n(O),O.defaultPrevented||B(O)}let H=y.createElement("a",{...D,...z,href:w.absoluteURL||E,onClick:w.isExternal||c?n:A,ref:Xh(v,R),target:g,"data-discover":!C&&i==="render"?"true":void 0});return S&&!C?y.createElement(y.Fragment,null,H,y.createElement(Qh,{page:E})):H});U0.displayName="Link";var sf=y.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:l="",end:u=!1,style:c,to:x,viewTransition:p,children:g,...f},h){let N=Tn(x,{relative:f.relative}),I=Xr(),D=y.useContext(xi),{navigator:v,basename:k}=y.useContext(ns),b=D!=null&&uf(N)&&p===!0,C=v.encodeLocation?v.encodeLocation(N).pathname:N.pathname,w=I.pathname,E=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(w=w.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&k&&(E=Xs(E,k)||E);const S=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let R=w===C||!u&&w.startsWith(C)&&w.charAt(S)==="/",z=E!=null&&(E===C||!u&&E.startsWith(C)&&E.charAt(C.length)==="/"),B={isActive:R,isPending:z,isTransitioning:b},A=R?n:void 0,H;typeof l=="function"?H=l(B):H=[l,R?"active":null,z?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(B):c;return y.createElement(U0,{...f,"aria-current":A,className:H,ref:h,style:O,to:x,viewTransition:p},typeof g=="function"?g(B):g)});sf.displayName="NavLink";var rf=y.forwardRef(({discover:r="render",fetcherKey:n,navigate:i,reloadDocument:l,replace:u,state:c,method:x=ti,action:p,onSubmit:g,relative:f,preventScrollReset:h,viewTransition:N,unstable_defaultShouldRevalidate:I,...D},v)=>{let{unstable_useTransitions:k}=y.useContext(ns),b=cf(),C=df(p,{relative:f}),w=x.toLowerCase()==="get"?"get":"post",E=typeof p=="string"&&F0.test(p),S=R=>{if(g&&g(R),R.defaultPrevented)return;R.preventDefault();let z=R.nativeEvent.submitter,B=(z==null?void 0:z.getAttribute("formmethod"))||x,A=()=>b(z||R.currentTarget,{fetcherKey:n,method:B,navigate:i,replace:u,state:c,relative:f,preventScrollReset:h,viewTransition:N,unstable_defaultShouldRevalidate:I});k&&i!==!1?y.startTransition(()=>A()):A()};return y.createElement("form",{ref:v,method:w,action:C,onSubmit:l?g:S,...D,"data-discover":!E&&r==="render"?"true":void 0})});rf.displayName="Form";function af(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q0(r){let n=y.useContext(Pa);return Ge(n,af(r)),n}function nf(r,{target:n,replace:i,state:l,preventScrollReset:u,relative:c,viewTransition:x,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let f=ph(),h=Xr(),N=Tn(r,{relative:c});return y.useCallback(I=>{if(Lh(I,n)){I.preventDefault();let D=i!==void 0?i:kn(h)===kn(N),v=()=>f(r,{replace:D,state:l,preventScrollReset:u,relative:c,viewTransition:x,unstable_defaultShouldRevalidate:p});g?y.startTransition(()=>v()):v()}},[h,f,N,i,l,n,r,u,c,x,p,g])}var lf=0,of=()=>`__${String(++lf)}__`;function cf(){let{router:r}=q0("useSubmit"),{basename:n}=y.useContext(ns),i=Ch(),l=r.fetch,u=r.navigate;return y.useCallback(async(c,x={})=>{let{action:p,method:g,encType:f,formData:h,body:N}=$h(c,n);if(x.navigate===!1){let I=x.fetcherKey||of();await l(I,i,x.action||p,{unstable_defaultShouldRevalidate:x.unstable_defaultShouldRevalidate,preventScrollReset:x.preventScrollReset,formData:h,body:N,formMethod:x.method||g,formEncType:x.encType||f,flushSync:x.flushSync})}else await u(x.action||p,{unstable_defaultShouldRevalidate:x.unstable_defaultShouldRevalidate,preventScrollReset:x.preventScrollReset,formData:h,body:N,formMethod:x.method||g,formEncType:x.encType||f,replace:x.replace,state:x.state,fromRouteId:i,flushSync:x.flushSync,viewTransition:x.viewTransition})},[l,u,n,i])}function df(r,{relative:n}={}){let{basename:i}=y.useContext(ns),l=y.useContext(zs);Ge(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),c={...Tn(r||".",{relative:n})},x=Xr();if(r==null){c.search=x.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(h=>h==="")){p.delete("index"),g.filter(N=>N).forEach(N=>p.append("index",N));let h=p.toString();c.search=h?`?${h}`:""}}return(!r||r===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Zs([i,c.pathname])),kn(c)}function uf(r,{relative:n}={}){let i=y.useContext(T0);Ge(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=q0("useViewTransitionState"),u=Tn(r,{relative:n});if(!i.isTransitioning)return!1;let c=Xs(i.currentLocation.pathname,l)||i.currentLocation.pathname,x=Xs(i.nextLocation.pathname,l)||i.nextLocation.pathname;return ai(u.pathname,x)!=null||ai(u.pathname,c)!=null}const mf={melodija:{long:{triple:{1:43,2:46,3:52,4:57},double:{1:48,2:51,3:58,4:63},single:{1:65,2:70,3:77,4:87}},short:{triple:{1:46,2:49,3:57,4:61},double:{1:51,2:55,3:63,4:67},single:{1:69,2:74,3:82,4:95}}},sampeteris:{long:{triple:{1:46,2:49,3:56,4:61},double:{1:51,2:55,3:62,4:67},single:{1:69,2:74,3:82,4:94}},short:{triple:{1:49,2:52,3:60,4:64},double:{1:55,2:58,3:67,4:71},single:{1:73,2:80,3:88,4:101}}}},hc=({careLevel:r,duration:n,roomType:i})=>{var u,c,x;return!r||!n||!i?null:((x=(c=(u=mf["sampeteris"])==null?void 0:u[n])==null?void 0:c[i])==null?void 0:x[r])??null},K0=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,G0=/^[\+]?[0-9\s\(\)\-\.]{7,20}$/,H0=r=>{var i,l,u,c;const n={};return(i=r.firstName)!=null&&i.trim()||(n.firstName="Vrds ir obligts"),(l=r.lastName)!=null&&l.trim()||(n.lastName="Uzvrds ir obligts"),(u=r.email)!=null&&u.trim()?K0.test(r.email.trim())||(n.email="Nedergs e-pasta formts"):n.email="E-pasts ir obligts",(c=r.phone)!=null&&c.trim()?G0.test(r.phone.trim())||(n.phone="Nedergs tlrua numurs"):n.phone="Telefons ir obligts",n},W0=r=>Object.keys(r).length===0,xf=(r,n)=>{const i=n==null?void 0:n.trim();switch(r){case"firstName":return i?null:"Vrds ir obligts";case"lastName":return i?null:"Uzvrds ir obligts";case"email":return i?K0.test(i)?null:"Nedergs e-pasta formts":"E-pasts ir obligts";case"phone":return i?G0.test(i)?null:"Nedergs tlrua numurs":"Telefons ir obligts";default:return null}},Ir=(r,n,i=!1)=>{const l=xf(r,n),u=l===null&&!!(n!=null&&n.trim());return{isValid:u,error:l,showSuccess:i&&u}},gf=r=>{var c,x,p,g,f,h,N,I,D,v,k,b,C,w,E;const n=(r==null?void 0:r.consultation)||{},i=(r==null?void 0:r.survey)||{},l={consultation:[],resident:[],caregiver:[]};return n.careLevel||l.consultation.push({field:"careLevel",label:"Aprpes lmenis"}),n.duration||l.consultation.push({field:"duration",label:"Uzturans tips (ilglaicgs/slaicgs)"}),n.roomType||l.consultation.push({field:"roomType",label:"Istabas tips (vienvietga/divvietga/trsvietga)"}),n.price||l.consultation.push({field:"price",label:"Cena"}),(c=i.firstName)!=null&&c.trim()||l.resident.push({field:"firstName",label:"Vrds"}),(x=i.lastName)!=null&&x.trim()||l.resident.push({field:"lastName",label:"Uzvrds"}),(p=i.phone)!=null&&p.trim()||l.resident.push({field:"phone",label:"Tlrunis"}),i.birthDate||l.resident.push({field:"birthDate",label:"Dzimanas datums"}),(g=i.personalCode)!=null&&g.trim()||l.resident.push({field:"personalCode",label:"Personas kods"}),i.gender||l.resident.push({field:"gender",label:"Dzimums"}),(f=i.street)!=null&&f.trim()||l.resident.push({field:"street",label:"Iela"}),(h=i.city)!=null&&h.trim()||l.resident.push({field:"city",label:"Pilsta"}),(N=i.postalCode)!=null&&N.trim()||l.resident.push({field:"postalCode",label:"Pasta indekss"}),i.stayDateFrom||l.resident.push({field:"stayDateFrom",label:"Uzturans skuma datums"}),i.signerScenario==="relative"&&((I=i.clientFirstName)!=null&&I.trim()||l.caregiver.push({field:"clientFirstName",label:"Apgdnieka vrds"}),(D=i.clientLastName)!=null&&D.trim()||l.caregiver.push({field:"clientLastName",label:"Apgdnieka uzvrds"}),i.relationship||l.caregiver.push({field:"relationship",label:"Radniecba / Statuss"}),(v=i.clientPhone)!=null&&v.trim()||l.caregiver.push({field:"clientPhone",label:"Apgdnieka tlrunis"}),(k=i.clientEmail)!=null&&k.trim()||l.caregiver.push({field:"clientEmail",label:"Apgdnieka e-pasts"}),(b=i.clientPersonalCode)!=null&&b.trim()||l.caregiver.push({field:"clientPersonalCode",label:"Apgdnieka personas kods"}),(C=i.clientStreet)!=null&&C.trim()||l.caregiver.push({field:"clientStreet",label:"Apgdnieka iela"}),(w=i.clientCity)!=null&&w.trim()||l.caregiver.push({field:"clientCity",label:"Apgdnieka pilsta"}),(E=i.clientPostalCode)!=null&&E.trim()||l.caregiver.push({field:"clientPostalCode",label:"Apgdnieka pasta indekss"})),{isValid:l.consultation.length===0&&l.resident.length===0&&l.caregiver.length===0,missingFields:l}},pf=()=>{const r=new Date().getFullYear(),n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`L-${r}-${n}`},hf=()=>{const r=new Date().getFullYear(),n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`A-${r}-${n}`},Sn=()=>new Date().toISOString().split("T")[0],Cn=()=>new Date().toLocaleTimeString("lv-LV",{hour:"2-digit",minute:"2-digit"}),ff=r=>({id:pf(),...r,status:"prospect",createdDate:Sn(),createdTime:Cn(),source:"manual",assignedTo:"Kristens Blms"}),yf=(r,n)=>({...r,status:"consultation",consultation:n}),Xm=r=>({...r,status:"queue",queuedDate:Sn(),queuedTime:Cn(),queueOfferSent:!1,queueOfferSentDate:null,queueOfferSentTime:null}),vf=r=>({...r,queueOfferSent:!0,queueOfferSentDate:Sn(),queueOfferSentTime:Cn()}),J0=(r,n)=>{const l=n.filter(u=>u.status==="queue").sort((u,c)=>{const x=u.queuedDate||u.createdDate,p=c.queuedDate||c.createdDate;if(x!==p)return x.localeCompare(p);const g=u.queuedTime||u.createdTime||"00:00",f=c.queuedTime||c.createdTime||"00:00";return g.localeCompare(f)}).findIndex(u=>u.id===r.id);return l===-1?0:l+1},Q0=r=>{const n=r.queuedDate||r.createdDate;if(!n)return 0;const i=new Date(n),u=Math.abs(new Date-i);return Math.ceil(u/(1e3*60*60*24))},ve={RESIDENTS:"adorable-residents",DIAGNOSES:"adorable-diagnoses",VITALS_LOG:"adorable-vitals-log",VACCINATIONS:"adorable-vaccinations",ASSESSMENTS_DOCTOR:"adorable-assessments-doctor",ASSESSMENTS_NURSE:"adorable-assessments-nurse",ASSESSMENTS_PSYCH:"adorable-assessments-psych",ASSESSMENTS_PHYSIO:"adorable-assessments-physio",RISK_MORSE:"adorable-risk-morse",RISK_BRADEN:"adorable-risk-braden",RISK_BARTHEL:"adorable-risk-barthel",TECHNICAL_AIDS:"adorable-technical-aids"},Ic={active:{value:"active",label:"Aktva",bgColor:"bg-blue-100",textColor:"text-blue-700"},resolved:{value:"resolved",label:"Atrisinta",bgColor:"bg-gray-100",textColor:"text-gray-500"},chronic:{value:"chronic",label:"Hroniska",bgColor:"bg-yellow-100",textColor:"text-yellow-700"}},bf={morse:{value:"morse",label:"Morsa skala",fullName:"Kritienu riska novrtjums pc Morsa skalas",description:"Krituma riska novrtjums",maxScore:125,levels:[{min:0,max:24,level:"low",label:"Zems risks",color:"green"},{min:25,max:50,level:"medium",label:"Vidjs risks",color:"yellow"},{min:51,max:125,level:"high",label:"Augsts risks",color:"red"}]},braden:{value:"braden",label:"Bradena skala",fullName:"Izguljumu riska noteikana pc Bradena skalas",description:"Spiediena las riska novrtjums",maxScore:23,levels:[{min:19,max:23,level:"low",label:"Zems risks",color:"green"},{min:15,max:18,level:"medium",label:"Vidjs risks",color:"yellow"},{min:13,max:14,level:"high",label:"Augsts risks",color:"orange"},{min:6,max:12,level:"very_high",label:"oti augsts risks",color:"red"}]},barthel:{value:"barthel",label:"Bartela indekss",fullName:"Personu paaprpes un mobilittes spju novrtjums pc Bartela indeksa",description:"Ikdienas aktivitu novrtjums",maxScore:100,levels:[{min:0,max:20,level:"total",label:"Pilnga atkarba",color:"red"},{min:21,max:60,level:"severe",label:"Smaga atkarba",color:"orange"},{min:61,max:90,level:"moderate",label:"Vidja atkarba",color:"yellow"},{min:91,max:99,level:"slight",label:"Neliela atkarba",color:"blue"},{min:100,max:100,level:"independent",label:"Neatkargs",color:"green"}]}},e0=[{value:"covid19",label:"COVID-19"},{value:"flu",label:"Gripa"},{value:"pneumococcal",label:"Pneimokoku"},{value:"tetanus",label:"Stingumkrampji"},{value:"hepatitis_b",label:"B hepatts"},{value:"shingles",label:"Jostas roze"},{value:"other",label:"Cita"}],fc={mobility:{value:"mobility",label:"Prvietoans palgldzeki",items:[{value:"wheelchair",label:"Ratikrsls"},{value:"walker",label:"Staigultis"},{value:"cane",label:"Spieis"},{value:"crutches",label:"Krui"}]},hygiene:{value:"hygiene",label:"Higinas palgldzeki",items:[{value:"shower_chair",label:"Duas krsls"},{value:"raised_toilet",label:"Paaugstints tualetes sdeklis"},{value:"bed_pan",label:"Gultas poda"}]},bed:{value:"bed",label:"Gultas aprkojums",items:[{value:"hospital_bed",label:"Funkcionl gulta"},{value:"mattress",label:"Pretizguljumu matracis"},{value:"bed_rails",label:"Gultas margas"}]},other:{value:"other",label:"Citi palgldzeki",items:[{value:"hearing_aid",label:"Dzirdes aparts"},{value:"glasses",label:"Brilles"},{value:"oxygen",label:"Skbeka aparts"}]}},Y0={temperature:{min:35.5,max:37.5,unit:"C"},bloodPressureSystolic:{min:90,max:140,unit:"mmHg"},bloodPressureDiastolic:{min:60,max:90,unit:"mmHg"},pulse:{min:60,max:100,unit:"sitieni/min"},oxygen:{min:95,max:100,unit:"%"},bloodSugar:{min:4,max:7,unit:"mmol/L"}},fs={ROOMS:"adorable-rooms",BEDS:"adorable-beds",OCCUPANCY_LOG:"adorable-occupancy-log"},jf={available:{value:"available",label:"Pieejama",color:"green",bgColor:"bg-green-100",textColor:"text-green-700"},occupied:{value:"occupied",label:"Aizemta",color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-700"},maintenance:{value:"maintenance",label:"Remonts",color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-700"},reserved:{value:"reserved",label:"Rezervta",color:"purple",bgColor:"bg-purple-100",textColor:"text-purple-700"}},Z0={free:{value:"free",label:"Brva",color:"green",bgColor:"bg-green-100",textColor:"text-green-700"},occupied:{value:"occupied",label:"Aizemta",color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-700"},reserved:{value:"reserved",label:"Rezervta",color:"purple",bgColor:"bg-purple-100",textColor:"text-purple-700"}},Jr={single:{value:"single",label:"Vienvietga",bedCount:1},double:{value:"double",label:"Divvietga",bedCount:2}},Nf=[{value:1,label:"1. stvs"},{value:2,label:"2. stvs"},{value:3,label:"3. stvs"}],wf={window:{value:"window",label:"Logs",icon:"Sun"},bathroom:{value:"bathroom",label:"Vannasistaba",icon:"Bath"},balcony:{value:"balcony",label:"Balkons",icon:"Home"},tv:{value:"tv",label:"TV",icon:"Tv"},aircon:{value:"aircon",label:"Kondicionieris",icon:"Wind"}},Dc={regular:{value:"regular",label:"Parast nodaa",description:"Standarta aprpes nodaa"},dementia:{value:"dementia",label:"Demences nodaa",description:"Nodaa ar papildu drobas paskumiem"}},t0={1:"regular",2:"regular",3:"dementia"},X0=[{value:"all",label:"Visas nodaas"},{value:"regular",label:"Parast nodaa"},{value:"dementia",label:"Demences nodaa"}],ex=[{id:"ROOM-101",number:"101",floor:1,type:"single",bedCount:1,department:"regular",status:"available",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-102",number:"102",floor:1,type:"double",bedCount:2,department:"regular",status:"available",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-103",number:"103",floor:1,type:"double",bedCount:2,department:"regular",status:"available",features:["window"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-104",number:"104",floor:1,type:"double",bedCount:2,department:"regular",status:"available",features:["window","bathroom","tv"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-105",number:"105",floor:1,type:"single",bedCount:1,department:"regular",status:"maintenance",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-201",number:"201",floor:2,type:"single",bedCount:1,department:"regular",status:"available",features:["window","bathroom","balcony"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-202",number:"202",floor:2,type:"double",bedCount:2,department:"regular",status:"available",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-203",number:"203",floor:2,type:"double",bedCount:2,department:"regular",status:"available",features:["window","bathroom","tv"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-204",number:"204",floor:2,type:"double",bedCount:2,department:"regular",status:"available",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-205",number:"205",floor:2,type:"single",bedCount:1,department:"regular",status:"available",features:["window","bathroom","balcony","tv"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-301",number:"301",floor:3,type:"single",bedCount:1,department:"dementia",status:"available",features:["window","bathroom","aircon"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-302",number:"302",floor:3,type:"double",bedCount:2,department:"dementia",status:"available",features:["window","bathroom","aircon"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-303",number:"303",floor:3,type:"double",bedCount:2,department:"dementia",status:"available",features:["window","bathroom","tv","aircon"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-304",number:"304",floor:3,type:"double",bedCount:2,department:"dementia",status:"available",features:["window","bathroom"],createdAt:"2024-01-01T00:00:00.000Z"},{id:"ROOM-305",number:"305",floor:3,type:"single",bedCount:1,department:"dementia",status:"available",features:["window","bathroom","balcony","tv","aircon"],createdAt:"2024-01-01T00:00:00.000Z"}],tx=r=>{const n=[];return r.forEach(i=>{for(let l=1;l<=i.bedCount;l++)n.push({id:`BED-${i.number}-${l}`,roomId:i.id,bedNumber:l,status:"free",residentId:null,reservedFor:null,assignedAt:null})}),n};tx(ex);function Zc(){const r=localStorage.getItem(fs.ROOMS),n=localStorage.getItem(fs.BEDS);if(r||localStorage.setItem(fs.ROOMS,JSON.stringify(ex)),!n){const i=JSON.parse(localStorage.getItem(fs.ROOMS)||"[]"),l=tx(i);localStorage.setItem(fs.BEDS,JSON.stringify(l))}}function pi(){return Zc(),JSON.parse(localStorage.getItem(fs.ROOMS)||"[]")}function Xc(r){return pi().find(i=>i.id===r)||null}function sx(){const r=pi(),n=An();return r.map(i=>{const l=n.filter(p=>p.roomId===i.id),u=l.filter(p=>p.status==="free").length,c=l.filter(p=>p.status==="occupied").length,x=l.filter(p=>p.status==="reserved").length;return{...i,beds:l,freeBeds:u,occupiedBeds:c,reservedBeds:x,isFullyOccupied:u===0,occupancyPercent:Math.round(c/i.bedCount*100)}})}function An(){return Zc(),JSON.parse(localStorage.getItem(fs.BEDS)||"[]")}function rx(r,n,i){var x;const l=An(),u=`BED-${(x=Xc(r))==null?void 0:x.number}-${n}`,c=l.findIndex(p=>p.id===u);if(c===-1)throw new Error("Gulta nav atrasta");if(l[c].status==="occupied")throw new Error("Gulta jau ir aizemta");return l[c]={...l[c],status:"occupied",residentId:i,reservedFor:null,assignedAt:new Date().toISOString()},localStorage.setItem(fs.BEDS,JSON.stringify(l)),Sf(r,n,"book",i),l[c]}function kf(){const r=pi(),n=An(),i=r.length,l=n.length,u=n.filter(N=>N.status==="occupied").length,c=n.filter(N=>N.status==="reserved").length,x=n.filter(N=>N.status==="free").length,p=r.filter(N=>N.status==="maintenance").length,g=l>0?Math.round(u/l*100):0,f=[1,2,3].map(N=>{const I=r.filter(k=>k.floor===N),D=n.filter(k=>{const b=r.find(C=>C.id===k.roomId);return(b==null?void 0:b.floor)===N}),v=D.filter(k=>k.status==="occupied").length;return{floor:N,rooms:I.length,beds:D.length,occupied:v,free:D.filter(k=>k.status==="free").length,occupancyRate:D.length>0?Math.round(v/D.length*100):0}}),h=Object.keys(Jr).map(N=>{const I=r.filter(k=>k.type===N),D=n.filter(k=>{const b=r.find(C=>C.id===k.roomId);return(b==null?void 0:b.type)===N}),v=D.filter(k=>k.status==="occupied").length;return{type:N,label:Jr[N].label,rooms:I.length,beds:D.length,occupied:v,occupancyRate:D.length>0?Math.round(v/D.length*100):0}});return{totalRooms:i,totalBeds:l,occupiedBeds:u,reservedBeds:c,freeBeds:x,maintenanceRooms:p,occupancyRate:g,byFloor:f,byType:h}}function Sf(r,n,i,l){const u=JSON.parse(localStorage.getItem(fs.OCCUPANCY_LOG)||"[]");u.push({id:`OCC-${Date.now()}`,roomId:r,bedNumber:n,action:i,residentId:l,timestamp:new Date().toISOString()}),u.length>1e3&&u.splice(0,u.length-1e3),localStorage.setItem(fs.OCCUPANCY_LOG,JSON.stringify(u))}function Cf(r,n,i){const l=An(),u=Xc(r),c=`BED-${u==null?void 0:u.number}-${n}`,x=l.find(f=>f.id===c);if(!x)return{available:!1,reason:"bed_not_found",reservedFor:null};if(x.status==="occupied")return{available:!1,reason:"occupied",reservedFor:x.residentId};if(x.status==="reserved")return{available:!1,reason:"reserved",reservedFor:x.reservedFor};const p=JSON.parse(localStorage.getItem("adorable-contracts")||"[]"),g=new Date(i);for(const f of p)if(["active","draft"].includes(f.status)&&f.roomId===r&&f.bedNumber===n&&new Date(f.startDate)<=g){if(f.terminationDate&&new Date(f.terminationDate)<g)continue;return{available:!1,reason:"contract_reserved",reservedFor:f.residentName||f.id}}return{available:!0,reason:null,reservedFor:null}}function If(r){const n=pi(),i=An();return n.map(l=>{const c=i.filter(p=>p.roomId===l.id).map(p=>{const g=Cf(l.id,p.bedNumber,r);return{...p,availableOnDate:g.available,unavailableReason:g.reason,reservedFor:g.reservedFor}}),x=c.filter(p=>p.availableOnDate).length;return{...l,beds:c,freeBeds:x,occupiedBeds:c.filter(p=>!p.availableOnDate).length,isFullyOccupied:x===0}})}const Df=["1","2","3","4"],s0={SINGLE:"1-vietga",DOUBLE:"2-vietga"},ni={MELODIJA:"melodija",SAMPETERIS:"sampeteris"},r0={[ni.MELODIJA]:"Adoro Melodija",[ni.SAMPETERIS]:"Adoro ampteris"},Ef={[s0.SINGLE]:"1-vietga istaba",[s0.DOUBLE]:"2-vietga istaba"},Ec=[{code:"AM-1-2V-ILG",residence:"melodija",careLevel:"1",roomType:"2-vietga",termType:"ilgtermia",dailyRate:48},{code:"AM-2-2V-ILG",residence:"melodija",careLevel:"2",roomType:"2-vietga",termType:"ilgtermia",dailyRate:51},{code:"AM-3-2V-ILG",residence:"melodija",careLevel:"3",roomType:"2-vietga",termType:"ilgtermia",dailyRate:58},{code:"AM-4-2V-ILG",residence:"melodija",careLevel:"4",roomType:"2-vietga",termType:"ilgtermia",dailyRate:63},{code:"AM-1-1V-ILG",residence:"melodija",careLevel:"1",roomType:"1-vietga",termType:"ilgtermia",dailyRate:65},{code:"AM-2-1V-ILG",residence:"melodija",careLevel:"2",roomType:"1-vietga",termType:"ilgtermia",dailyRate:70},{code:"AM-3-1V-ILG",residence:"melodija",careLevel:"3",roomType:"1-vietga",termType:"ilgtermia",dailyRate:77},{code:"AM-4-1V-ILG",residence:"melodija",careLevel:"4",roomType:"1-vietga",termType:"ilgtermia",dailyRate:87},{code:"AM-1-2V-IST",residence:"melodija",careLevel:"1",roomType:"2-vietga",termType:"stermia",dailyRate:51},{code:"AM-2-2V-IST",residence:"melodija",careLevel:"2",roomType:"2-vietga",termType:"stermia",dailyRate:55},{code:"AM-3-2V-IST",residence:"melodija",careLevel:"3",roomType:"2-vietga",termType:"stermia",dailyRate:63},{code:"AM-4-2V-IST",residence:"melodija",careLevel:"4",roomType:"2-vietga",termType:"stermia",dailyRate:67},{code:"AM-1-1V-IST",residence:"melodija",careLevel:"1",roomType:"1-vietga",termType:"stermia",dailyRate:69},{code:"AM-2-1V-IST",residence:"melodija",careLevel:"2",roomType:"1-vietga",termType:"stermia",dailyRate:74},{code:"AM-3-1V-IST",residence:"melodija",careLevel:"3",roomType:"1-vietga",termType:"stermia",dailyRate:82},{code:"AM-4-1V-IST",residence:"melodija",careLevel:"4",roomType:"1-vietga",termType:"stermia",dailyRate:95},{code:"A-1-2V-ILG",residence:"sampeteris",careLevel:"1",roomType:"2-vietga",termType:"ilgtermia",dailyRate:51},{code:"A-2-2V-ILG",residence:"sampeteris",careLevel:"2",roomType:"2-vietga",termType:"ilgtermia",dailyRate:55},{code:"A-3-2V-ILG",residence:"sampeteris",careLevel:"3",roomType:"2-vietga",termType:"ilgtermia",dailyRate:62},{code:"A-4-2V-ILG",residence:"sampeteris",careLevel:"4",roomType:"2-vietga",termType:"ilgtermia",dailyRate:67},{code:"A-1-1V-ILG",residence:"sampeteris",careLevel:"1",roomType:"1-vietga",termType:"ilgtermia",dailyRate:69},{code:"A-2-1V-ILG",residence:"sampeteris",careLevel:"2",roomType:"1-vietga",termType:"ilgtermia",dailyRate:74},{code:"A-3-1V-ILG",residence:"sampeteris",careLevel:"3",roomType:"1-vietga",termType:"ilgtermia",dailyRate:82},{code:"A-4-1V-ILG",residence:"sampeteris",careLevel:"4",roomType:"1-vietga",termType:"ilgtermia",dailyRate:94},{code:"A-1-2V-IST",residence:"sampeteris",careLevel:"1",roomType:"2-vietga",termType:"stermia",dailyRate:55},{code:"A-2-2V-IST",residence:"sampeteris",careLevel:"2",roomType:"2-vietga",termType:"stermia",dailyRate:58},{code:"A-3-2V-IST",residence:"sampeteris",careLevel:"3",roomType:"2-vietga",termType:"stermia",dailyRate:67},{code:"A-4-2V-IST",residence:"sampeteris",careLevel:"4",roomType:"2-vietga",termType:"stermia",dailyRate:71},{code:"A-1-1V-IST",residence:"sampeteris",careLevel:"1",roomType:"1-vietga",termType:"stermia",dailyRate:73},{code:"A-2-1V-IST",residence:"sampeteris",careLevel:"2",roomType:"1-vietga",termType:"stermia",dailyRate:80},{code:"A-3-1V-IST",residence:"sampeteris",careLevel:"3",roomType:"1-vietga",termType:"stermia",dailyRate:88},{code:"A-4-1V-IST",residence:"sampeteris",careLevel:"4",roomType:"1-vietga",termType:"stermia",dailyRate:101}].map((r,n)=>({...r,id:`P-${String(n+1).padStart(3,"0")}`,name:_f(r),active:!0,validFrom:"2026-01-01",validTo:null}));function _f(r){const n=r.residence==="melodija"?"Melodija":"ampteris",i=r.roomType==="1-vietga"?"vienviet.":"divviet.",l=r.termType==="ilgtermia"?"ilgt.":"st.";return`${n} ${r.careLevel} ${i} ${l}`}const Rf=(r,n,i,l,u=Ec)=>u.find(c=>c.careLevel===r&&c.roomType===n&&c.residence===i&&c.termType===l&&c.active!==!1)||null,Tf=(r,n=30)=>!r||r<=0?0:Number((r*n).toFixed(2)),ax=r=>{if(!r)return null;if(/^[1-4]$/.test(String(r)))return parseInt(r,10);const n=String(r).match(/GIR(\d)/);return n?parseInt(n[1],10):null},nx=r=>{if(!r)return null;const n=ax(r);return n&&n>=1&&n<=4?String(n):null},Af=r=>({single:"1-vietga",double:"2-vietga",triple:"2-vietga"})[r]||null,Pf=r=>({long:"ilgtermia",short:"stermia"})[r]||"ilgtermia";function zf(){localStorage.getItem(ve.RESIDENTS)||localStorage.setItem(ve.RESIDENTS,JSON.stringify([]))}function hi(){return zf(),JSON.parse(localStorage.getItem(ve.RESIDENTS)||"[]").sort((n,i)=>n.lastName.localeCompare(i.lastName))}function Lf(){return hi().filter(n=>n.status==="active")}function lx(r){return hi().find(i=>i.id===r)||null}function ix(r){return hi().find(i=>i.leadId===r)||null}function Mf(){const r=Date.now(),n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`RES-${r}-${n}`}function ox(r,n,i){var p;if(!r)throw new Error("Nav nordti lda dati");if(!n||!i)throw new Error("Nav nordta istaba vai gulta");if(ix(r.id))throw new Error("Rezidents jau ir izveidots no  lda");const u=Xc(n);if(!u)throw new Error("Istaba nav atrasta");const c=hi(),x={id:Mf(),firstName:r.firstName||"",lastName:r.lastName||"",phone:r.phone||"",email:r.email||"",birthDate:r.birthDate||null,personalCode:r.personalCode||"",gender:r.gender||null,street:r.street||"",city:r.city||"",postalCode:r.postalCode||"",leadId:r.id,agreementNumber:r.agreementNumber||null,careLevel:nx((p=r.consultation)==null?void 0:p.careLevel)||"3",roomId:n,roomNumber:u.number,bedNumber:i,allergies:r.allergies||[],photo:null,contactPerson:r.clientFirstName?{firstName:r.clientFirstName||"",lastName:r.clientLastName||"",relationship:r.relationship||"",phone:r.clientPhone||"",email:r.clientEmail||""}:null,status:"active",admissionDate:new Date().toISOString(),dischargeDate:null,dischargeReason:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return rx(n,i,x.id),c.push(x),localStorage.setItem(ve.RESIDENTS,JSON.stringify(c)),x}const Q={FORM:"form",LEAD_VIEW:"lead-view",CONSULTATION:"consultation",WAITING:"waiting",SURVEY:"survey",OFFER_CUSTOMER:"offer-customer",OFFER_REVIEW:"offer-review",AGREEMENT:"agreement",QUEUE:"queue",QUEUE_LIST:"queue-list",LIST:"list",RESIDENT_LIST:"resident-list",RESIDENT_PROFILE:"resident-profile",PRESCRIPTION_PRINT:"prescription-print",INVENTORY_DASHBOARD:"inventory-dashboard",RESIDENT_INVENTORY_LIST:"resident-inventory-list",RESIDENT_INVENTORY:"resident-inventory",INVENTORY_REPORTS:"inventory-reports",ROOM_MANAGEMENT:"room-management",BED_BOOKING:"bed-booking",CONTRACT_LIST:"contract-list",CONTRACT_CREATE:"contract-create",CONTRACT_VIEW:"contract-view",CONTRACT_PRINT:"contract-print"},Se={PROSPECT:"prospect",CONSULTATION:"consultation",SURVEY_FILLED:"survey_filled",AGREEMENT:"agreement",QUEUE:"queue",CANCELLED:"cancelled"},Of=(r,n)=>{const[i,l]=y.useState(()=>{try{const u=window.localStorage.getItem(r);return u?JSON.parse(u):n}catch(u){return console.error(`Error reading localStorage key "${r}":`,u),n}});return y.useEffect(()=>{try{window.localStorage.setItem(r,JSON.stringify(i))}catch(u){console.error(`Error setting localStorage key "${r}":`,u)}},[r,i]),[i,l]},ed=()=>{const[r,n]=Of("adorable-leads",[]);return{leads:r,addLead:p=>{n(g=>{const f=g.findIndex(h=>h.id===p.id);if(f>=0){const h=[...g];return h[f]=p,h}return[...g,p]})},updateLead:(p,g)=>{n(f=>f.map(h=>h.id===p?{...h,...g}:h))},removeLead:p=>{n(g=>g.filter(f=>f.id!==p))},clearLeads:()=>{n([])},getLeadById:p=>r.find(g=>g.id===p)}},Xe={DRAFT:"melnraksts",ACTIVE:"aktvs",TERMINATED:"izbeigts",CANCELLED:"anults"},yc={[Xe.DRAFT]:"Melnraksts",[Xe.ACTIVE]:"Aktvs",[Xe.TERMINATED]:"Izbeigts",[Xe.CANCELLED]:"Anults"},vc={SERVICE_DESCRIPTION:"pakalpojumu_apraksts",INTERNAL_RULES:"iekjie_noteikumi",CARE_LEVEL:"aprpes_lmenis"},$f={melodija:2988,sampeteris:0},cx=(r,n,i=[])=>{const l=r==="melodija"?"AM":"A",u=$f[r]||0,c=i.filter(p=>p.contractNumber?p.contractNumber.startsWith(l)&&p.contractNumber.includes(`/${n}`):!1);if(c.length===0)return`${l}-${String(u).padStart(4,"0")}/${n}`;const x=Math.max(...c.map(p=>{const g=p.contractNumber.match(/-(\d+)\//);return g?parseInt(g[1],10):u-1}));return`${l}-${String(x+1).padStart(4,"0")}/${n}`},Bf=r=>r?/^AM-\d{4}\/\d{4}$/.test(r)?{valid:!0}:{valid:!1,error:"Nepareizs formts. Izmantojiet: AM-####/GGGG"}:{valid:!1,error:"Lguma numurs ir obligts"},bc=(r,n)=>{const i=r.match(/^(.+)\/(\d{4})$/);if(!i)return`${r}-${n}`;const[,l,u]=i;return`${l}-${n}/${u}`},Vf=()=>{const r=new Date().getFullYear(),n=Math.floor(Math.random()*1e5).toString().padStart(5,"0");return`C-${r}-${n}`},Ff=(r,n,i)=>{if(i||!n)return"ilgtermia";const l=new Date(r);return(new Date(n)-l)/(1e3*60*60*24*30)>3?"ilgtermia":"stermia"},Uf=(r,n=0)=>{if(!r||r<=0)return null;const i=Math.max(0,Math.min(100,n));return Number((r*(1-i/100)).toFixed(2))},qf=(r,n)=>{const i=[{id:1,type:vc.SERVICE_DESCRIPTION,number:bc(r,1),name:"Pakalpojumu apraksts"},{id:2,type:vc.INTERNAL_RULES,number:bc(r,2),name:"Iekjie noteikumi"}];return n==="sampeteris"&&i.push({id:3,type:vc.CARE_LEVEL,number:bc(r,3),name:"Aprpes lmea aprins"}),i},Kf=(r,n=[])=>{const i=new Date().getFullYear(),l=r.contractNumber||cx(r.residence,i,n),u=qf(l,r.residence);return{...r,contractNumber:l,status:Xe.ACTIVE,activatedAt:new Date().toISOString(),appendixes:u}},Gf=r=>{const n=[];return r.startDate||n.push("Skuma datums ir obligts"),!r.noEndDate&&!r.endDate&&n.push('Beigu datums ir obligts (vai atzmjiet "Nav beigu datuma")'),!r.residentName&&!r.residentId&&n.push("Rezidents ir obligts"),!r.roomType&&!r.roomId&&n.push("Istabas tips ir obligts"),(!r.dailyRate||r.dailyRate<=0)&&n.push("Dienas cena nav aprinta"),{valid:n.length===0,errors:n}},Hf=r=>r||"",jc="adorable-contracts",dx="adorable-products",a0="adorable-products-version",Nc=2,Wf=()=>{try{const r=localStorage.getItem(a0);return!r||parseInt(r)<Nc?(localStorage.removeItem(dx),localStorage.setItem(a0,String(Nc)),console.log("Products migrated to version",Nc),!0):!1}catch(r){return console.error("Error checking products migration:",r),!1}};Wf();const n0=(r,n,i=null)=>{const[l,u]=y.useState(()=>{try{const c=window.localStorage.getItem(r);if(c){const x=JSON.parse(c);return i&&!i(x)?(console.log(`Invalid data format for "${r}", using defaults`),window.localStorage.setItem(r,JSON.stringify(n)),n):x}return n}catch(c){return console.error(`Error reading localStorage key "${r}":`,c),n}});return y.useEffect(()=>{try{window.localStorage.setItem(r,JSON.stringify(l))}catch(c){console.error(`Error setting localStorage key "${r}":`,c)}},[r,l]),[l,u]},Jf=r=>{if(!r||r.length===0)return!1;const n=r[0];return!(n.careLevel&&n.careLevel.includes("GIR"))},td=()=>{const[r,n]=n0(jc,[]),[i,l]=n0(dx,Ec,Jf),u=y.useCallback(R=>{let z=[];try{const O=window.localStorage.getItem(jc);O&&(z=JSON.parse(O))}catch(O){console.error("Error reading contracts from localStorage:",O)}let B,A;const H=z.findIndex(O=>O.id===R.id);H>=0?(B={...z[H],...R,updatedAt:new Date().toISOString()},A=[...z],A[H]=B):(B={...R,createdAt:R.createdAt||new Date().toISOString()},A=[...z,B]);try{window.localStorage.setItem(jc,JSON.stringify(A))}catch(O){console.error("Error writing contracts to localStorage:",O)}return n(A),B},[n]),c=y.useCallback(R=>u({...R,status:Xe.DRAFT}),[u]),x=y.useCallback(R=>{const z=Gf(R);if(!z.valid)return{success:!1,errors:z.errors};const B=Kf(R,r);return{success:!0,contract:u(B)}},[r,u]),p=y.useCallback((R,z)=>{n(B=>B.map(A=>A.id===R?{...A,...z,updatedAt:new Date().toISOString()}:A))},[n]),g=y.useCallback(R=>{n(z=>z.filter(B=>B.id!==R))},[n]),f=y.useCallback(R=>{p(R,{status:Xe.CANCELLED,cancelledAt:new Date().toISOString()})},[p]),h=y.useCallback((R,z,B="")=>{p(R,{status:Xe.TERMINATED,terminatedAt:new Date().toISOString(),terminationDate:z,terminationReason:B})},[p]),N=y.useCallback(R=>r.find(z=>z.id===R),[r]),I=y.useCallback(R=>r.find(z=>z.contractNumber===R),[r]),D=y.useCallback(R=>r.filter(z=>z.status===R),[r]),v=y.useCallback(R=>r.filter(z=>z.residentId===R),[r]),k=y.useCallback(R=>r.find(z=>z.residentId===R&&z.status===Xe.ACTIVE),[r]),b=y.useCallback((R,z=null)=>!r.some(B=>B.contractNumber===R&&B.id!==z),[r]),C=y.useCallback(R=>{const z=new Date().getFullYear();return cx(R,z,r)},[r]),w=y.useCallback(()=>{n([])},[n]),E=y.useCallback(()=>i,[i]),S=y.useCallback(()=>{l(Ec)},[l]);return{contracts:r,products:i,saveContract:u,saveDraft:c,saveAndActivate:x,updateContract:p,deleteContract:g,cancelContract:f,terminateContract:h,getContractById:N,getContractByNumber:I,getContractsByStatus:D,getContractsByResident:v,getActiveContractForResident:k,isContractNumberUnique:b,getNextContractNumber:C,getProducts:E,resetProducts:S,clearContracts:w}};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ux=(...r)=>r.filter((n,i,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===i).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=y.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:x,...p},g)=>y.createElement("svg",{ref:g,...Yf,width:n,height:n,stroke:r,strokeWidth:l?Number(i)*24/Number(n):i,className:ux("lucide",u),...p},[...x.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(r,n)=>{const i=y.forwardRef(({className:l,...u},c)=>y.createElement(Zf,{ref:c,iconNode:n,className:ux(`lucide-${Qf(r)}`,l),...u}));return i.displayName=`${r}`,i};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=se("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=se("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=se("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=se("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=se("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=se("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=se("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=se("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=se("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=se("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=se("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=se("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=se("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=se("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=se("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=se("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=se("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=se("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=se("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=se("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=se("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=se("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=se("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=se("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=se("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=se("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=se("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=se("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=se("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=se("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=se("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=se("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=se("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wy=({size:r="default"})=>{const n={small:"h-8",default:"h-10",large:"h-12"};return e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:"/adorable-prototype/logo.png",alt:"Adorable",className:n[r],style:{height:"40px",width:"auto"}})})},ky=({onNavigate:r,currentView:n,isCustomerView:i=!1})=>{const[l,u]=y.useState(null),[c,x]=y.useState(!1),p=y.useRef(null);y.useEffect(()=>{const C=w=>{p.current&&!p.current.contains(w.target)&&u(null)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const g=C=>{r(C),x(!1)},f=[{id:"dashboard",label:"Dashboard",icon:Pn,disabled:!0},{id:"rezidenti",label:"Rezidenti",icon:Ls,view:"residents"},{id:"pieteikumi",label:"Pieteikumi",icon:yx,dropdown:[{id:"new-leads",label:"Jauni pieteikumi",view:"all-leads"},{id:"queue",label:"Rinda",view:"queue"}]},{id:"ligumi",label:"Lgumi",icon:Nt,view:"contracts"},{id:"noliktava",label:"Noliktava",icon:za,dropdown:[{id:"bulk-inventory",label:"Liel noliktava",view:"bulk-inventory"},{id:"resident-inventory",label:"Rezidentu noliktavas",view:"resident-inventory"},{id:"inventory-reports",label:"Atskaites",view:"inventory-reports"}]},{id:"grupas",label:"Grupas paskumi",icon:jy,disabled:!0},{id:"gultu-fonds",label:"Gultu fonds",icon:as,view:"room-management"},{id:"medicina",label:"Medicna",icon:nd,disabled:!0},{id:"atjauninasanas",label:"Atjauninanas urnls",icon:Nt,disabled:!0}],h=C=>{C.disabled||(C.dropdown?u(l===C.id?null:C.id):C.view&&(r(C.view),u(null)))},N=C=>{r(C.view),u(null)},I=n==="all-leads"||n==="queue",D=n==="residents",v=n==="contracts",k=n==="bulk-inventory"||n==="resident-inventory"||n==="inventory-reports",b=n==="room-management";return e.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:[e.jsx("div",{className:"px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between h-14",children:[e.jsx("div",{className:"mr-6",children:e.jsx(wy,{})}),e.jsx("nav",{className:"hidden md:flex items-center gap-1",ref:p,children:f.map(C=>{const w=C.icon,E=C.id==="pieteikumi"&&I||C.id==="rezidenti"&&D||C.id==="ligumi"&&v||C.id==="noliktava"&&k||C.id==="gultu-fonds"&&b,S=l===C.id;return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>h(C),disabled:C.disabled,className:`
                      flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors
                      ${E?"text-orange-600 bg-orange-50 border-b-2 border-orange-500":C.disabled?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                    `,children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:C.label}),C.dropdown&&e.jsx(In,{className:`w-3 h-3 transition-transform ${S?"rotate-180":""}`})]}),C.dropdown&&S&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:C.dropdown.map(R=>e.jsx("button",{onClick:()=>N(R),className:`
                            w-full text-left px-4 py-2 text-sm transition-colors
                            ${n===R.view?"bg-orange-50 text-orange-600 font-medium":"text-gray-700 hover:bg-gray-50"}
                          `,children:R.label},R.id))})]},C.id)})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-lg border border-gray-200 bg-gray-50",children:[e.jsx("div",{className:`w-6 h-6 rounded-full text-white flex items-center justify-center text-xs font-bold ${i?"bg-blue-500":"bg-orange-500"}`,children:i?"C":"A"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:i?"Client":"Admin"}),e.jsx(In,{className:"w-3 h-3 text-gray-400"})]}),e.jsx("div",{className:`sm:hidden w-8 h-8 rounded-full text-white flex items-center justify-center text-xs font-bold ${i?"bg-blue-500":"bg-orange-500"}`,children:i?"C":"A"}),e.jsx("button",{onClick:()=>x(!c),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:c?e.jsx(Te,{className:"w-6 h-6 text-gray-600"}):e.jsx(dy,{className:"w-6 h-6 text-gray-600"})})]})]})}),c&&e.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:e.jsx("nav",{className:"px-4 py-3 space-y-1",children:f.map(C=>{const w=C.icon;return C.dropdown?e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:C.label}),C.dropdown.map(E=>e.jsxs("button",{onClick:()=>g(E.view),className:`
                          w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                          ${n===E.view?"text-orange-600 bg-orange-50":"text-gray-700 hover:bg-gray-50"}
                        `,children:[e.jsx(w,{className:"w-5 h-5"}),E.label]},E.id))]},C.id):C.view?e.jsxs("button",{onClick:()=>g(C.view),className:`
                      w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                      ${n===C.view?"text-orange-600 bg-orange-50":"text-gray-700 hover:bg-gray-50"}
                    `,children:[e.jsx(w,{className:"w-5 h-5"}),C.label]},C.id):e.jsxs("button",{disabled:C.disabled,className:`
                    w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                    ${C.disabled?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}
                  `,children:[e.jsx(w,{className:"w-5 h-5"}),C.label,C.disabled&&e.jsx("span",{className:"ml-auto text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:"Drzum"})]},C.id)})})})]})},Ye=({children:r,maxWidth:n="max-w-6xl"})=>e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 pb-20",children:e.jsx("div",{className:`${n} mx-auto`,children:r})}),Er=({onClick:r,label:n="Atpaka"})=>e.jsxs("button",{onClick:r,className:"mb-4 flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium",children:[e.jsx(Dr,{className:"w-4 h-4"}),n]}),Ps=({variant:r="blue",title:n,children:i,icon:l="info"})=>{const u={blue:{container:"bg-blue-50 border-blue-200",icon:"text-blue-600",title:"text-blue-900",content:"text-blue-700",subtitle:"text-blue-600"},yellow:{container:"bg-yellow-50 border-yellow-200",icon:"text-yellow-600",title:"text-yellow-900",content:"text-yellow-700",subtitle:"text-yellow-600"},orange:{container:"bg-orange-50 border-orange-200",icon:"text-orange-600",title:"text-orange-900",content:"text-orange-700",subtitle:"text-orange-600"},green:{container:"bg-green-50 border-green-200",icon:"text-green-600",title:"text-green-900",content:"text-green-700",subtitle:"text-green-600"}},c={info:bs,phone:er,clock:Ht},x=u[r],p=c[l];return e.jsxs("div",{className:`${x.container} border rounded-lg p-4 flex gap-3`,children:[e.jsx(p,{className:`w-5 h-5 ${x.icon} flex-shrink-0 mt-0.5`}),e.jsxs("div",{className:"text-sm",children:[n&&e.jsx("p",{className:`font-medium mb-1 ${x.title}`,children:n}),e.jsx("div",{className:x.content,children:i})]})]})},ys=({label:r,name:n,type:i="text",value:l,onChange:u,onBlur:c,error:x,showSuccess:p,required:g=!1,placeholder:f,icon:h,className:N=""})=>{const[I,D]=y.useState(!1),v=C=>{D(!0),c==null||c(C)},k=I&&x,b=I&&p&&!x;return e.jsxs("div",{className:N,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r," ",g&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[h&&e.jsx(h,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:i,name:n,value:l,onChange:u,onBlur:v,className:`w-full ${h?"pl-9":"pl-3"} ${b?"pr-9":"pr-3"} py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${k?"border-red-300":b?"border-green-300":"border-gray-300"}`,placeholder:f}),b&&e.jsx(Je,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-green-500"})]}),k&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x})]})},Sy=({leadData:r,errors:n,onChange:i,onSubmit:l,onBack:u})=>{const c=(x,p)=>{i({...r,[x]:p})};return e.jsxs(Ye,{maxWidth:"max-w-2xl",children:[e.jsx(Er,{onClick:u}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(cd,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Jauns pieteikums"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pievienojiet pamatinformciju par potencilo rezidentu"})]})]})}),e.jsxs("form",{onSubmit:l,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Kontaktinformcija"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ys,{label:"Vrds",name:"firstName",value:r.firstName,onChange:x=>c("firstName",x.target.value),error:n.firstName,showSuccess:Ir("firstName",r.firstName,!0).showSuccess,required:!0,placeholder:"Anna"}),e.jsx(ys,{label:"Uzvrds",name:"lastName",value:r.lastName,onChange:x=>c("lastName",x.target.value),error:n.lastName,showSuccess:Ir("lastName",r.lastName,!0).showSuccess,required:!0,placeholder:"Brzia"}),e.jsx(ys,{label:"E-pasts",name:"email",type:"email",value:r.email,onChange:x=>c("email",x.target.value),error:n.email,showSuccess:Ir("email",r.email,!0).showSuccess,required:!0,placeholder:"anna@example.com",icon:$t}),e.jsx(ys,{label:"Telefons",name:"phone",type:"tel",value:r.phone,onChange:x=>c("phone",x.target.value),error:n.phone,showSuccess:Ir("phone",r.phone,!0).showSuccess,required:!0,placeholder:"+371 20000000",icon:er}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Komentrs"}),e.jsx("textarea",{value:r.comment,onChange:x=>c("comment",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"Papildu informcija vai vlmes..."})]})]})]}),e.jsxs(Ps,{variant:"blue",title:"Datu avoti",children:[e.jsx("p",{children:" Telefona saruna   E-pasts   Socilie tkli"}),e.jsx("p",{className:"text-xs mt-2 text-blue-600",children:"Pc saglabanas varsiet pievienot detaliztku informciju konsultcijas laik."})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{type:"submit",className:"px-6 py-2.5 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center gap-2",children:["Saglabt potencilo klientu",e.jsx(Qr,{className:"w-4 h-4"})]})})]})]})},Ra=({firstName:r,lastName:n,size:i="md"})=>{const l={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 sm:w-14 sm:h-14 text-base sm:text-lg",xl:"w-12 h-12 sm:w-16 sm:h-16 text-lg sm:text-xl"},u=`${(r==null?void 0:r[0])||""}${(n==null?void 0:n[0])||""}`;return e.jsx("div",{className:`${l[i]} bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center text-white font-semibold`,children:u})},oi=({status:r,showIcon:n=!0})=>{const l={[Se.PROSPECT]:{label:"Jauns pieteikums",shortLabel:"Pieteikums",className:"bg-orange-100 text-orange-700 border-orange-200",icon:Ht},[Se.CONSULTATION]:{label:"Konsultcija pabeigta",shortLabel:"Konsultcija",className:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:Je},[Se.SURVEY_FILLED]:{label:"Anketa aizpildta",shortLabel:"Anketa",className:"bg-purple-100 text-purple-700 border-purple-200",icon:Nt},[Se.AGREEMENT]:{label:"Lgums",shortLabel:"Lgums",className:"bg-green-100 text-green-700 border-green-200",icon:Nt},[Se.QUEUE]:{label:"Rind",shortLabel:"Rind",className:"bg-blue-100 text-blue-700 border-blue-200",icon:Yr},[Se.CANCELLED]:{label:"Atcelts",shortLabel:"Atcelts",className:"bg-gray-100 text-gray-700 border-gray-300",icon:jt}}[r];if(!l)return null;const u=l.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${l.className}`,children:[n&&e.jsx(u,{className:"w-3 h-3"}),l.shortLabel]})},Mn=({currentStatus:r})=>{const n={completed:!0,active:!1},i={completed:["consultation","survey_filled","agreement","queue"].includes(r),active:r==="prospect"},l={completed:["survey_filled","agreement","queue"].includes(r),active:r==="consultation"},u={completed:!1,active:["survey_filled","agreement","queue"].includes(r)},c=N=>N.completed?"bg-green-500 text-white":N.active?"bg-orange-500 text-white ring-4 ring-orange-100":"bg-gray-200 text-gray-400",x=N=>N.completed?"text-green-600":N.active?"text-orange-600":"text-gray-400",p=N=>N.completed?"bg-green-500":"bg-gray-200",g=()=>u.active||r==="agreement"||r==="queue"?4:l.active?3:i.active?2:1,f=N=>["Pieteikums","Konsultcija","Anketa","Lgums"][N-1],h=g();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sm:hidden bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[h,". ",f(h)]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[h," / 4"]})]}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(N=>e.jsx("div",{className:`h-2 flex-1 rounded-full ${N<h?"bg-green-500":N===h?"bg-orange-500":"bg-gray-200"}`},N))})]}),e.jsx("div",{className:"hidden sm:block bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c(n)}`,children:e.jsx(Je,{className:"w-6 h-6"})}),e.jsx("p",{className:`text-sm font-medium mt-2 ${x(n)}`,children:"Pieteikums"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Saglabts"})]}),e.jsx("div",{className:`flex-1 h-1 mx-1 -mt-6 ${p(n)}`}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c(i)}`,children:i.completed?e.jsx(Je,{className:"w-6 h-6"}):e.jsx(fx,{className:"w-5 h-5"})}),e.jsx("p",{className:`text-sm font-medium mt-2 ${x(i)}`,children:"Konsultcija"}),e.jsx("p",{className:"text-xs text-gray-500",children:i.completed?"Pabeigta":i.active?"Aktva":"-"})]}),e.jsx("div",{className:`flex-1 h-1 mx-1 -mt-6 ${p(i)}`}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c(l)}`,children:l.completed?e.jsx(Je,{className:"w-6 h-6"}):e.jsx(sd,{className:"w-5 h-5"})}),e.jsx("p",{className:`text-sm font-medium mt-2 ${x(l)}`,children:"Anketa"}),e.jsx("p",{className:"text-xs text-gray-500",children:l.completed?"Aizpildta":l.active?"Gaida":"-"})]}),e.jsx("div",{className:`flex-1 h-1 mx-1 -mt-6 ${p(l)}`}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c(u)}`,children:e.jsx(Nt,{className:"w-5 h-5"})}),e.jsx("p",{className:`text-sm font-medium mt-2 ${x(u)}`,children:"Lgums"}),e.jsx("p",{className:"text-xs text-gray-500",children:r==="agreement"?"Parakstts":r==="queue"?"Rind":u.active?"Gaida":"-"})]})]})})]})},Cy=({lead:r,onSave:n,onClose:i})=>{const[l,u]=y.useState({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",comment:r.comment||""}),[c,x]=y.useState({}),p=(f,h)=>{u(N=>({...N,[f]:h})),c[f]&&x(N=>{const I={...N};return delete I[f],I})},g=f=>{f.preventDefault();const h=H0(l);x(h),W0(h)&&(n(l),i())};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Redit kontaktinformciju"}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Te,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:g,className:"p-4 space-y-4",children:[e.jsx(ys,{label:"Vrds",name:"firstName",value:l.firstName,onChange:f=>p("firstName",f.target.value),error:c.firstName,showSuccess:Ir("firstName",l.firstName,!0).showSuccess,required:!0,placeholder:"Anna"}),e.jsx(ys,{label:"Uzvrds",name:"lastName",value:l.lastName,onChange:f=>p("lastName",f.target.value),error:c.lastName,showSuccess:Ir("lastName",l.lastName,!0).showSuccess,required:!0,placeholder:"Brzia"}),e.jsx(ys,{label:"E-pasts",name:"email",type:"email",value:l.email,onChange:f=>p("email",f.target.value),error:c.email,showSuccess:Ir("email",l.email,!0).showSuccess,required:!0,placeholder:"anna@example.com",icon:$t}),e.jsx(ys,{label:"Telefons",name:"phone",type:"tel",value:l.phone,onChange:f=>p("phone",f.target.value),error:c.phone,showSuccess:Ir("phone",l.phone,!0).showSuccess,required:!0,placeholder:"+371 20000000",icon:er}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Komentrs"}),e.jsx("textarea",{value:l.comment,onChange:f=>p("comment",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"Papildu informcija vai vlmes..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(zn,{className:"w-4 h-4"}),"Saglabt"]})]})]})]})})},Ma=({lead:r,onConfirm:n,onClose:i})=>{const[l,u]=y.useState(""),[c,x]=y.useState(""),p=[{value:"no-availability",label:"Nav vietu"},{value:"price-too-high",label:"Cena prk augsta"},{value:"location",label:"Nepiemrota atraans vieta"},{value:"found-alternative",label:"Atrada citu iestdi"},{value:"changed-mind",label:"Prdomja lmumu"},{value:"no-response",label:"Nav atbildes no klienta"},{value:"other",label:"Cits iemesls"}],g=f=>{f.preventDefault(),l&&n({reason:l,notes:c,cancelledDate:new Date().toISOString().split("T")[0]})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(jt,{className:"w-5 h-5 text-red-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Atcelt pieteikumu"})]}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Te,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:g,className:"p-4 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pieteikums"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[r.firstName," ",r.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:r.id})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Atcelanas iemesls ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:l,onChange:f=>u(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",required:!0,children:[e.jsx("option",{value:"",children:"Izvlieties iemeslu..."}),p.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Papildu piezmes"}),e.jsx("textarea",{value:c,onChange:f=>x(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",rows:3,placeholder:"Piem., skka informcija par atcelanas iemeslu..."})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"Uzmanbu:"})," Atceltus pieteikumus var skatt tikai atceot filtru. o darbbu nevar atcelt."]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsxs("button",{type:"submit",disabled:!l,className:`flex-1 px-4 py-2 rounded-lg font-medium flex items-center justify-center gap-2 ${l?"bg-red-600 text-white hover:bg-red-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(jt,{className:"w-4 h-4"}),"Apstiprint atcelanu"]})]})]})]})})},Iy=({savedLead:r,onBack:n,onStartConsultation:i,onUpdate:l,onCancelLead:u})=>{const[c,x]=y.useState(!1),[p,g]=y.useState(!1),f=h=>{l(h)};return e.jsxs(Ye,{children:[e.jsx(Er,{onClick:n}),e.jsx(Mn,{currentStatus:r.status}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 pb-4 border-b border-gray-100",children:[e.jsx(Ra,{firstName:r.firstName,lastName:r.lastName,size:"xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[r.firstName," ",r.lastName]}),e.jsx(oi,{status:r.status})]}),e.jsx("button",{onClick:()=>x(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Redit kontaktinformciju",children:e.jsx(ad,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"py-4 space-y-3",children:[e.jsxs("a",{href:`mailto:${r.email}`,className:"flex items-center gap-3 text-gray-700 hover:text-orange-600 transition-colors",children:[e.jsx($t,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-base",children:r.email})]}),e.jsxs("a",{href:`tel:${r.phone}`,className:"flex items-center gap-3 text-gray-700 hover:text-orange-600 transition-colors",children:[e.jsx(er,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-base",children:r.phone})]})]}),r.comment&&e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Komentrs"}),e.jsxs("p",{className:"text-gray-700 italic",children:['"',r.comment,'"']})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(Ps,{variant:"blue",title:"Automtiskie datu avoti",children:[e.jsx("p",{children:" Mjaslapas forma   Pansionati.info   Citi portli"}),e.jsx("p",{className:"text-xs mt-2 text-blue-600",children:"Strukturtie dati no rjiem avotiem tiek automtiski importti eit."})]})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx(Ps,{variant:"orange",title:"Konsultcija kltien vai telefoniski",icon:"phone",children:e.jsx("p",{children:"Uzskot konsultciju, js sazinsieties ar klientu, lai noskaidrotu potencil rezidenta veselbas stvokli, aprpes vajadzbas un vlmes."})}),e.jsxs("button",{onClick:i,className:"mt-4 w-full px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(fx,{className:"w-5 h-5"}),"Skt konsultciju"]}),e.jsxs("button",{onClick:()=>g(!0),className:"mt-3 w-full px-6 py-2.5 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"}),"Atcelt pieteikumu"]})]})]}),e.jsxs("div",{className:"text-xs text-gray-400 flex flex-wrap items-center justify-center sm:justify-between gap-x-4 gap-y-1 px-2",children:[e.jsxs("span",{children:["ID: ",r.id]}),e.jsxs("span",{children:["Pievienoja: ",r.assignedTo]}),e.jsxs("span",{children:[r.createdDate," ",r.createdTime]})]}),c&&e.jsx(Cy,{lead:r,onSave:f,onClose:()=>x(!1)}),p&&e.jsx(Ma,{lead:r,onConfirm:u,onClose:()=>g(!1)})]})},Dy=({savedLead:r,consultation:n,price:i,allSelected:l,onConsultationChange:u,onSave:c,onBack:x})=>{const p=(g,f)=>{u({...n,[g]:f})};return e.jsxs(Ye,{children:[e.jsx(Er,{onClick:x}),e.jsx(Mn,{currentStatus:r.status}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ra,{firstName:r.firstName,lastName:r.lastName,size:"md"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[r.firstName," ",r.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r.email,"  ",r.phone]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Konsultcijas rezultti"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(fi,{className:"w-4 h-4"}),e.jsx("span",{children:"Adoro ampteris"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Uzturans ilgums"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>p("duration","long"),className:`p-4 rounded-lg border-2 transition-all text-left ${n.duration==="long"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(ea,{className:`w-5 h-5 mb-1 ${n.duration==="long"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Ilglaicga"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ilgk par 3 mneiem"})]}),e.jsxs("button",{type:"button",onClick:()=>p("duration","short"),className:`p-4 rounded-lg border-2 transition-all text-left ${n.duration==="short"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Ht,{className:`w-5 h-5 mb-1 ${n.duration==="short"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"slaicga"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ldz 3 mneiem"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Istabas veids"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>p("roomType","single"),className:`p-4 rounded-lg border-2 transition-all text-left ${n.roomType==="single"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(as,{className:`w-5 h-5 mb-1 ${n.roomType==="single"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Vienvietga istaba"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Privta istaba"})]}),e.jsxs("button",{type:"button",onClick:()=>p("roomType","double"),className:`p-4 rounded-lg border-2 transition-all text-left ${n.roomType==="double"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Ls,{className:`w-5 h-5 mb-1 ${n.roomType==="double"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Divvietga istaba"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Dalta istaba"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Aprpes lmenis"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[1,2,3,4].map(g=>e.jsx("button",{type:"button",onClick:()=>p("careLevel",g.toString()),className:`p-3 rounded-lg border-2 transition-all ${n.careLevel===g.toString()?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:`text-lg font-bold ${n.careLevel===g.toString()?"text-orange-500":"text-gray-700"}`,children:[g,". lmenis"]})},g))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Iekjs piezmes"}),e.jsx("textarea",{value:n.notes,onChange:g=>p("notes",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"Piem., diabts, nepiecieama paldzba prvietojoties, alerijas, paas vlmes..."}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Pierakstiet svargu informciju no sarunas, kas nav iekauta augstk."}),e.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.hasDementia||!1,onChange:g=>p("hasDementia",g.target.checked),className:"mt-1 w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"Residents ir demence"}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Nepiecieama paa istaba ar papildu drobas paskumiem"})]})]})})]}),i&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Aprint cena"}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[n.careLevel,". lmenis ",n.duration==="long"?" Ilglaicga":" slaicga"," ",n.roomType==="single"&&" Vienvietga",n.roomType==="double"&&" Divvietga",n.hasDementia&&"  Demence"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-3xl font-bold text-green-700",children:[i," "]}),e.jsx("p",{className:"text-xs text-green-600",children:"dien"})]})]})}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("button",{onClick:c,disabled:!l,className:`w-full px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 ${l?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(Je,{className:"w-5 h-5"}),"Saglabt k Klientu"]})})]})]})},Ey=({consultation:r,onSave:n,onClose:i})=>{const[l,u]=y.useState({careLevel:r.careLevel||"",duration:r.duration||"",roomType:r.roomType||"",notes:r.notes||"",hasDementia:r.hasDementia||!1}),c=(g,f)=>{u(h=>({...h,[g]:f}))},x=g=>{g.preventDefault(),l.careLevel&&l.duration&&l.roomType&&(n(l),i())},p=l.careLevel&&l.duration&&l.roomType;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Redit konsultcijas datus"}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Te,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:x,className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Uzturans ilgums"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>c("duration","long"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.duration==="long"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(ea,{className:`w-5 h-5 mb-1 ${l.duration==="long"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Ilglaicga"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ilgk par 3 mneiem"})]}),e.jsxs("button",{type:"button",onClick:()=>c("duration","short"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.duration==="short"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Ht,{className:`w-5 h-5 mb-1 ${l.duration==="short"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"slaicga"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ldz 3 mneiem"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Istabas veids"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>c("roomType","single"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.roomType==="single"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(as,{className:`w-5 h-5 mb-1 ${l.roomType==="single"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Vienvietga istaba"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Privta istaba"})]}),e.jsxs("button",{type:"button",onClick:()=>c("roomType","double"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.roomType==="double"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Ls,{className:`w-5 h-5 mb-1 ${l.roomType==="double"?"text-orange-500":"text-gray-400"}`}),e.jsx("div",{className:"font-medium text-gray-900",children:"Divvietga istaba"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Dalta istaba"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Aprpes lmenis"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[1,2,3,4].map(g=>e.jsx("button",{type:"button",onClick:()=>c("careLevel",g.toString()),className:`p-3 rounded-lg border-2 transition-all ${l.careLevel===g.toString()?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:`text-lg font-bold ${l.careLevel===g.toString()?"text-orange-500":"text-gray-700"}`,children:[g,". lmenis"]})},g))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Iekjs piezmes"}),e.jsx("textarea",{value:l.notes,onChange:g=>c("notes",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"Piem., diabts, nepiecieama paldzba prvietojoties, alerijas, paas vlmes..."}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Pierakstiet svargu informciju no sarunas, kas nav iekauta augstk."}),e.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.hasDementia,onChange:g=>c("hasDementia",g.target.checked),className:"mt-1 w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"Residents ir demence"}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Nepiecieama paa istaba ar papildu drobas paskumiem"})]})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsxs("button",{type:"submit",disabled:!p,className:`flex-1 px-4 py-2 rounded-lg font-medium flex items-center justify-center gap-2 ${p?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(zn,{className:"w-4 h-4"}),"Saglabt"]})]})]})]})})},_y=r=>{var i,l,u,c;const n=`${window.location.origin}/adorable-prototype/review/${r.id}`;return{subject:"Apstiprinanai: Jsu informcija par uzturanos Adoro ampteris",body:`
Labdien, ${r.firstName} ${r.lastName}!

Paldies, ka apmekljt msu iestdi un izvljties Adoro aprpes centru.

Pc msu sarunas esam sagatavojui Jsu informcijas kopsavilkumu. Ldzu prskatiet to un prliecinieties, ka visa informcija ir pareiza.

 JSU IZVLE:

 Aprpes lmenis: ${(i=r.consultation)==null?void 0:i.careLevel}. lmenis
 Uzturans: ${((l=r.consultation)==null?void 0:l.duration)==="long"?"Ilglaicga (virs 3 mneiem)":"slaicga (ldz 3 mneiem)"}
 Istabas veids: ${((u=r.consultation)==null?void 0:u.roomType)==="single"?"Vienvietga istaba":"Divvietga istaba"}
 Cena: ${(c=r.consultation)==null?void 0:c.price}  dien

 PRSKATT INFORMCIJU:
${n}

SVARGI: is ir tikai informcijas apskates rems. Ja pamant kdu vai vlaties ko maint, ldzu sazinieties ar mums:
 E-pasts: info@adoro.lv
 Tlrunis: +371 67 123 456

Ja visa informcija ir pareiza, ms turpinsim lguma sagatavoanu un sazinsimies ar Jums tuvkaj laik.

Ar cieu,
Adoro komanda


Adoro ampteris | Aprpes centrs
www.adoro.lv | rezidence.sampeteris@adoro.lv
    `.trim()}},Ry=r=>{var i,l,u,c;const n=`${window.location.origin}/adorable-prototype/fill/${r.id}`;return{subject:"Ldzu aizpildiet anketu - Adoro ampteris",body:`
Labdien, ${r.firstName} ${r.lastName}!

Paldies par interesi par Adoro aprpes centru. Pc msu sarunas ldzam Js aizpildt nepiecieamo informciju lguma sagatavoanai.

 JSU IZVLTAIS PAKALPOJUMS:

 Aprpes lmenis: ${(i=r.consultation)==null?void 0:i.careLevel}. lmenis
 Uzturans: ${((l=r.consultation)==null?void 0:l.duration)==="long"?"Ilglaicga (virs 3 mneiem)":"slaicga (ldz 3 mneiem)"}
 Istabas veids: ${((u=r.consultation)==null?void 0:u.roomType)==="single"?"Vienvietga istaba":"Divvietga istaba"}
 Cena: ${(c=r.consultation)==null?void 0:c.price}  dien

 AIZPILDT ANKETU:
${n}

Anket bs jnorda:
 Rezidenta personisk informcija
 Adrese un kontaktinformcija
 Veselbas informcija (invaliditte, uzturans datumi)
 Ja lgumu paraksts radinieks - ar via informcija

 Ldzu aizpildiet anketu 3 darba dienu laik.

Ja rodas jautjumi par anketas aizpildanu, sazinieties ar mums:
 E-pasts: info@adoro.lv
 Tlrunis: +371 67 123 456

Pc anketas saemanas 2 darba dienu laik sagatavojam lgumu un sazinsimies ar Jums.

Ar cieu,
Adoro komanda


Adoro ampteris | Aprpes centrs
www.adoro.lv | rezidence.sampeteris@adoro.lv
    `.trim()}},Ty=r=>{if(!r.consultation)throw new Error("Lead must have consultation data to generate email");const n=r.consultation.fillScenario;if(n==="in-person")return _y(r);if(n==="remote")return Ry(r);throw new Error(`Unknown fillScenario: ${n}`)},Ay=(r,n)=>{var i,l,u,c;return{subject:"Laba zia! Vieta pieejama - Adoro ampteris",body:`
Labdien, ${r.firstName} ${r.lastName}!

Mums ir lieliska zia - Adoro ampteris aprpes centr ir atbrvojusies vieta, kas atbilst Jsu vajadzbm!

 JSU REZERVCIJA:

 Aprpes lmenis: ${(i=r.consultation)==null?void 0:i.careLevel}. lmenis
 Istabas veids: ${((l=r.consultation)==null?void 0:l.roomType)==="single"?"Vienvietga istaba":((u=r.consultation)==null?void 0:u.roomType)==="double"?"Divvietga istaba":"Trsvietga istaba"}
 Cena: ${(c=r.consultation)==null?void 0:c.price}  dien
 Jsu pozcija rind: #${n}

 PIEEJAM VIETA:
Vieta ir pieejama tuvkaj laik. Lai apstiprintu savu rezervciju, ldzu sazinieties ar mums 3 darba dienu laik.

 SVARGI: Ja nesazinsieties noteiktaj termi, piedvjums tiks nodots nkamajam rind.

 K APSTIPRINT:
 Zvaniet: +371 20 616 003
 Rakstiet: rezidence.sampeteris@adoro.lv

Ms priecsimies Js sagaidt!

Ar cieu,
Adoro komanda


Adoro ampteris | Aprpes centrs
Zolitdes iela 68A, Rga
www.adoro.lv | rezidence.sampeteris@adoro.lv
    `.trim()}},wx=({lead:r,onClose:n,onSend:i})=>{var h;const[l,u]=y.useState(!1),[c,x]=y.useState(()=>Ty(r)),p=async()=>{const N=`Subject: ${c.subject}

${c.body}`;try{await navigator.clipboard.writeText(N),u(!0),setTimeout(()=>u(!1),2e3)}catch(I){console.error("Failed to copy:",I)}},g=()=>{i(c)},f=((h=r.consultation)==null?void 0:h.fillScenario)==="in-person"?"Prskatanas rems (klients apmeklja)":"Aizpildanas rems (attlinti)";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx($t,{className:"w-6 h-6 text-blue-500"}),"E-pasta priekskatjums"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:f})]}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Te,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Samjs:"}),e.jsxs("div",{className:"font-medium text-gray-900",children:[r.firstName," ",r.lastName," <",r.email,">"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Temats:"}),e.jsx("div",{className:"font-semibold text-gray-900",children:c.subject})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Ziojums:"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-gray-700 leading-relaxed",children:c.body})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx($t,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("p",{className:"font-medium mb-1",children:"Prototipa rems"}),e.jsx("p",{className:"text-blue-700",children:'is ir tikai priekskatjums. Rel sistm e-pasts tiktu nostts automtiski. Tagad varat nokopt saturu un nostt manuli vai tikai atzmt k "nostts".'})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:n,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsx("button",{onClick:p,className:"flex-1 px-6 py-2.5 border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 font-medium flex items-center justify-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-4 h-4"}),"Nokopts!"]}):e.jsxs(e.Fragment,{children:[e.jsx(xx,{className:"w-4 h-4"}),"Kopt saturu"]})}),e.jsxs("button",{onClick:g,className:"flex-1 px-6 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(sa,{className:"w-4 h-4"}),"Atzmt k nosttu"]})]})]})})},Py=({savedLead:r,onBack:n,onCreateAgreement:i,onAddToQueue:l,onViewList:u,onUpdateConsultation:c,onEmailSent:x,onCancelLead:p})=>{var w,E,S,R,z,B,A,H,O;const[g,f]=y.useState(!1),[h,N]=y.useState(!1),[I,D]=y.useState(!1),v=K=>{c(K)},k=K=>{x(),N(!1)},b=((w=r.consultation)==null?void 0:w.fillScenario)==="remote",C=r.emailSent||!1;return e.jsxs(Ye,{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx(Er,{onClick:n}),e.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-orange-600 hover:text-orange-700 font-medium",children:[e.jsx(Ls,{className:"w-4 h-4"}),"Visi pieteikumi"]})]}),e.jsx(Mn,{currentStatus:r.status}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 pb-4 border-b border-gray-100",children:[e.jsx(Ra,{firstName:r.firstName,lastName:r.lastName,size:"lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[r.firstName," ",r.lastName]}),e.jsx(oi,{status:r.status})]})]}),e.jsxs("div",{className:"py-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx($t,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{children:r.email})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx(er,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{children:r.phone})]})]}),r.comment&&e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Komentrs"}),e.jsxs("p",{className:"text-gray-700 italic",children:['"',r.comment,'"']})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Konsultcijas rezultti"}),e.jsx("button",{onClick:()=>f(!0),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Redit konsultciju",children:e.jsx(ad,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(fi,{className:"w-4 h-4"}),e.jsx("span",{children:"Adoro ampteris"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex sm:flex-col sm:text-center items-center sm:items-center gap-3 sm:gap-0",children:[e.jsx(ta,{className:"w-5 h-5 text-orange-500 sm:mx-auto sm:mb-1"}),e.jsxs("div",{className:"flex-1 sm:flex-none",children:[e.jsx("p",{className:"text-xs text-gray-500 sm:mb-1",children:"Aprpes lmenis"}),e.jsxs("p",{className:"text-base sm:text-lg font-bold text-gray-900",children:[(E=r.consultation)==null?void 0:E.careLevel,". lmenis"]})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex sm:flex-col sm:text-center items-center sm:items-center gap-3 sm:gap-0",children:[e.jsx(ea,{className:"w-5 h-5 text-orange-500 sm:mx-auto sm:mb-1"}),e.jsxs("div",{className:"flex-1 sm:flex-none",children:[e.jsx("p",{className:"text-xs text-gray-500 sm:mb-1",children:"Uzturans"}),e.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900",children:((S=r.consultation)==null?void 0:S.duration)==="long"?"Ilglaicga":"slaicga"})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex sm:flex-col sm:text-center items-center sm:items-center gap-3 sm:gap-0",children:[e.jsx(as,{className:"w-5 h-5 text-orange-500 sm:mx-auto sm:mb-1"}),e.jsxs("div",{className:"flex-1 sm:flex-none",children:[e.jsx("p",{className:"text-xs text-gray-500 sm:mb-1",children:"Istabas veids"}),e.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900",children:((R=r.consultation)==null?void 0:R.roomType)==="single"?"Vienvietga":((z=r.consultation)==null?void 0:z.roomType)==="double"?"Divvietga":((B=r.consultation)==null?void 0:B.roomType)==="triple"?"Trsvietga":"-"})]})]})]}),((A=r.consultation)==null?void 0:A.hasDementia)&&e.jsxs("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3 flex items-center gap-2",children:[e.jsx(Ea,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm text-yellow-900 font-medium",children:"Residents ir demence - nepiecieama paa istaba"})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Aprint cena"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[(H=r.consultation)==null?void 0:H.price," "]}),e.jsx("p",{className:"text-xs text-green-600",children:"dien"})]})]})}),((O=r.consultation)==null?void 0:O.notes)&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1 font-medium",children:"Iekjs piezmes"}),e.jsx("p",{className:"text-sm text-gray-700",children:r.consultation.notes})]})]}),b&&!C&&e.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(sa,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Nostt anketu klientam"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Klients sazinjs attlinti. Nostiet e-pastu ar saiti uz aizpildmo anketu."})]})]}),e.jsxs("button",{onClick:()=>N(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2 whitespace-nowrap",children:[e.jsx($t,{className:"w-5 h-5"}),"Nostt e-pastu"]})]})}),b&&C&&e.jsx("div",{className:"bg-green-50 border border-green-300 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Je,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"E-pasts nostts"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Anketa nostta klientam ",r.emailSentDate&&`${r.emailSentDate} plkst. ${r.emailSentTime}`,". Gaida klienta aizpildanu."]})]})]})}),e.jsx(Ps,{variant:"yellow",title:"Gaida klienta lmumu",icon:"clock",children:e.jsx("p",{children:"Klients ir iepazstints ar cenm un iespjm. Kad klients pieem lmumu, izvlieties atbilstoo darbbu."})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-6",children:[e.jsxs("button",{onClick:i,className:"bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-orange-500 hover:shadow-md p-5 text-left transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Nt,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Aizpildt aptauju"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Ievadt visus datus lguma sagatavoanai"})]})]}),e.jsxs("div",{className:"flex items-center justify-end text-sm text-orange-600 font-medium",children:["Turpint ",e.jsx(_a,{className:"w-4 h-4"})]})]}),e.jsxs("button",{onClick:l,className:"bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-blue-500 hover:shadow-md p-5 text-left transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Yr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Pievienot rindai"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Nav brvu vietu"})]})]}),e.jsxs("div",{className:"flex items-center justify-end text-sm text-blue-600 font-medium",children:["Turpint ",e.jsx(_a,{className:"w-4 h-4"})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>D(!0),className:"w-full px-6 py-2.5 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"}),"Atcelt pieteikumu"]})}),g&&r.consultation&&e.jsx(Ey,{consultation:r.consultation,onSave:v,onClose:()=>f(!1)}),h&&e.jsx(wx,{lead:r,onClose:()=>N(!1),onSend:k}),I&&e.jsx(Ma,{lead:r,onConfirm:p,onClose:()=>D(!1)})]})},tr=[{id:"identity_group",title:"Identitte",fields:[{name:"firstName",label:"Vrds",type:"text",required:!0},{name:"lastName",label:"Uzvrds",type:"text",required:!0}]},{id:"contacts_group",title:"Kontakti",fields:[{name:"phone",label:"Tlrunis",type:"tel",required:!0},{name:"email",label:"E-pasts",type:"email",required:!1}]},{id:"legal_group",title:"Personas dati",fields:[{name:"birthDate",label:"Dzimanas datums",type:"date",required:!0},{name:"personalCode",label:"Personas kods",type:"text",required:!0,placeholder:"123456-12345"}]},{id:"address_group",title:"Deklart dzvesvieta",fields:[{name:"street",label:"Iela, mja, dzvoklis",type:"text",required:!0,placeholder:"piemram: Brvbas iela 123-45"},{name:"city",label:"Pilsta",type:"text",required:!0,placeholder:"piemram: Rga"},{name:"postalCode",label:"Pasta indekss",type:"text",required:!0,placeholder:"LV-1010"}]},{id:"attributes_group",title:"Papildu dati",fields:[{name:"gender",label:"Dzimums",type:"select",required:!0,options:[{value:"male",label:"Vrietis"},{value:"female",label:"Sieviete"}]},{name:"disabilityGroup",label:"Invalidittes grupa",type:"select",required:!1,options:[{value:"none",label:"Nav"},{value:"1",label:"1. grupa"},{value:"2",label:"2. grupa"},{value:"3",label:"3. grupa"}]}]},{id:"terms_group",title:"Termii",fields:[{name:"disabilityDateFrom",label:"Invaliditte no",type:"date",required:!1},{name:"disabilityDateTo",label:"Invaliditte ldz",type:"date",required:!1},{name:"stayDateFrom",label:"Plnotais skuma datums",type:"date",required:!0},{name:"stayDateTo",label:"Plnotais beigu datums",type:"date",required:!1,helper:"Atstt tuku, ja beztermia"}]},{id:"contract_terms_group",title:"Lguma papildus noteikumi",fields:[{name:"securityDeposit",label:"Drobas nauda",type:"select",required:!1,options:[{value:"no",label:"Nav"},{value:"yes",label:"Ir"}]},{name:"securityDepositAmount",label:"Drobas naudas summa (EUR)",type:"number",required:!1,placeholder:"0.00"},{name:"paymentDeadline",label:"Maksas termi",type:"date",required:!1,helper:"Maksas par pirmo mnesi termi"},{name:"healthDataConsent",label:"Veselbas datu nodoana apgdniekam",type:"select",required:!1,options:[{value:"yes",label:"J"},{value:"no",label:"N"}],helper:'Automtiski "J", ja lgumu paraksta radinieks'},{name:"storeIdDocuments",label:"Personas dokumentu glabana",type:"select",required:!1,options:[{value:"yes",label:"J - glabt pie pakalpojuma sniedzja"},{value:"no",label:"N - glabt pie klienta"}]}]},{id:"additional_services_group",title:"Papildus pakalpojumi",fields:[{name:"laundryService",label:"Veas mazgana un marana",type:"select",required:!1,options:[{value:"no",label:"N"},{value:"yes",label:"J"}]},{name:"podologistService",label:"Podologs",type:"select",required:!1,options:[{value:"no",label:"N"},{value:"yes",label:"J"}]},{name:"podologistFrequency",label:"Podologa apmekljumu skaits mnes",type:"number",required:!1,placeholder:"1"},{name:"otherServicesEnabled",label:"Citi papildus pakalpojumi",type:"select",required:!1,options:[{value:"no",label:"N"},{value:"yes",label:"J"}]},{name:"otherServices",label:"Citu pakalpojumu apraksts",type:"text",required:!1,placeholder:"Aprakstiet nepiecieamos pakalpojumus"}]}],sr=[{id:"client_identity_group",title:"Identitte",fields:[{name:"clientFirstName",label:"Vrds",type:"text",required:!0},{name:"clientLastName",label:"Uzvrds",type:"text",required:!0}]},{id:"client_relation_group",title:"Statuss",fields:[{name:"relationship",label:"Radniecba / Statuss",type:"select",required:!0,options:[{value:"child",label:"Dls / Meita"},{value:"spouse",label:"Laultais"},{value:"guardian",label:"Pilnvarot persona"},{value:"social_worker",label:"Socilais darbinieks"},{value:"other",label:"Cits"}]}]},{id:"client_contacts_group",title:"Kontakti",fields:[{name:"clientPhone",label:"Tlrunis",type:"tel",required:!0},{name:"clientEmail",label:"E-pasts",type:"email",required:!0,helper:"Nepiecieams lguma komunikcijai"}]},{id:"client_address_group",title:"Deklart dzvesvieta",fields:[{name:"clientStreet",label:"Iela, mja, dzvoklis",type:"text",required:!0,placeholder:"piemram: Brvbas iela 123-45"},{name:"clientCity",label:"Pilsta",type:"text",required:!0,placeholder:"piemram: Rga"},{name:"clientPostalCode",label:"Pasta indekss",type:"text",required:!0,placeholder:"LV-1010"}]},{id:"client_legal_group",title:"Personas dati",fields:[{name:"clientPersonalCode",label:"Personas kods",type:"text",required:!0,placeholder:"123456-12345"}]}],zy=({savedLead:r,onSubmit:n,onBack:i})=>{const l=r.survey||{},[u,c]=y.useState(l.signerScenario||"resident"),[x,p]=y.useState({firstName:l.firstName||r.firstName||"",lastName:l.lastName||r.lastName||"",phone:l.phone||r.phone||"",email:l.email||r.email||"",birthDate:l.birthDate||"",personalCode:l.personalCode||"",street:l.street||"",city:l.city||"",postalCode:l.postalCode||"",gender:l.gender||"",disabilityGroup:l.disabilityGroup||"",disabilityDateFrom:l.disabilityDateFrom||"",disabilityDateTo:l.disabilityDateTo||"",stayDateFrom:l.stayDateFrom||new Date().toISOString().split("T")[0],stayDateTo:l.stayDateTo||"",securityDeposit:l.securityDeposit||"no",securityDepositAmount:l.securityDepositAmount||"",paymentDeadline:l.paymentDeadline||"",healthDataConsent:l.healthDataConsent||"yes",storeIdDocuments:l.storeIdDocuments||"no",laundryService:l.laundryService||"no",podologistService:l.podologistService||"no",podologistFrequency:l.podologistFrequency||"",otherServicesEnabled:l.otherServicesEnabled||"no",otherServices:l.otherServices||"",clientFirstName:l.clientFirstName||"",clientLastName:l.clientLastName||"",relationship:l.relationship||"",clientPhone:l.clientPhone||"",clientEmail:l.clientEmail||"",clientStreet:l.clientStreet||"",clientCity:l.clientCity||"",clientPostalCode:l.clientPostalCode||"",clientPersonalCode:l.clientPersonalCode||""}),[g,f]=y.useState({}),[h,N]=y.useState(!1),[I,D]=y.useState(!!l.emailSentAt),v=(S,R)=>{p(z=>({...z,[S]:R})),g[S]&&f(z=>{const B={...z};return delete B[S],B})},k=S=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100",children:S.title}),e.jsx("div",{className:"space-y-4",children:S.fields.map(R=>{var A;const z=x.disabilityGroup&&x.disabilityGroup!=="none"&&x.disabilityGroup!=="";if((R.name==="disabilityDateFrom"||R.name==="disabilityDateTo")&&!z||R.name==="securityDepositAmount"&&x.securityDeposit!=="yes"||R.name==="podologistFrequency"&&x.podologistService!=="yes"||R.name==="otherServices"&&x.otherServicesEnabled!=="yes")return null;const B=()=>R.type==="date"?"max-w-xs":R.type==="tel"?"max-w-sm":R.type==="number"?"max-w-xs":R.name==="personalCode"||R.name==="clientPersonalCode"?"max-w-sm":R.name==="postalCode"||R.name==="clientPostalCode"?"max-w-xs":R.name==="city"||R.name==="clientCity"?"max-w-sm":R.type==="select"&&(R.name==="gender"||R.name==="disabilityGroup")?"max-w-xs":R.type==="select"?"max-w-md":"w-full";return e.jsx("div",{children:R.type==="select"?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[R.label," ",R.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:x[R.name],onChange:H=>v(R.name,H.target.value),className:`${B()} px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white`,children:[e.jsx("option",{value:"",children:"Izvlieties..."}),(A=R.options)==null?void 0:A.map(H=>e.jsx("option",{value:H.value,children:H.label},H.value))]})]}):e.jsxs("div",{className:B(),children:[e.jsx(ys,{label:R.label,name:R.name,type:R.type,value:x[R.name],onChange:H=>v(R.name,H.target.value),error:g[R.name],required:R.required,placeholder:R.placeholder}),R.helper&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:R.helper})]})},R.name)})})]},S.id),b=()=>{const S=[];return tr.forEach(R=>{R.fields.forEach(z=>{z.required&&!x[z.name]&&S.push(z.name)})}),u==="relative"&&sr.forEach(R=>{R.fields.forEach(z=>{z.required&&!x[z.name]&&S.push(z.name)})}),S},C=S=>{S.preventDefault(),b().length===0?n({...x,signerScenario:u,isComplete:!0}):N(!0)},w=()=>{n({...x,signerScenario:u,isComplete:!1,emailSentAt:I?new Date().toISOString():null})},E=()=>{const S=x.email||r.email;S&&(D(!0),alert(`Anketa nostta uz: ${S}

( ir simulcija - st sistm tiktu nostts e-pasts)`),n({...x,signerScenario:u,isComplete:!1,emailSentAt:new Date().toISOString()})),N(!1)};return e.jsxs(Ye,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(Er,{onClick:i}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Aptaujas anketa"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ievadiet visu nepiecieamo informciju lguma sagatavoanai"})]}),e.jsx(Mn,{currentStatus:r.status}),e.jsx(Ps,{variant:"blue",title:"Nepiecieam informcija",children:e.jsx("p",{className:"text-sm",children:"Aizpildiet visus obligtos laukus.  informcija tiks izmantota lguma sagatavoanai."})}),e.jsxs("form",{onSubmit:C,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Wt,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Rezidenta informcija"})]}),tr.map(S=>k(S))]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(od,{className:"w-5 h-5 text-blue-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Lguma paraksttjs"})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${u==="resident"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"resident",checked:u==="resident",onChange:S=>c(S.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Rezidents pats"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Paraksts rezidents persongi"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${u==="relative"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"relative",checked:u==="relative",onChange:S=>c(S.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Radinieks / Pilnvarot persona"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Paraksts cita persona"})]})]})]})}),u==="resident"?e.jsx(Ps,{variant:"blue",title:"Lguma paraksts rezidents",children:e.jsx("p",{className:"text-sm",children:"Lgums tiks sagatavots uz rezidenta vrda. Rini tiks stti uz rezidenta e-pastu."})}):e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Paraksttja informcija"}),sr.map(S=>k(S))]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:i,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atpaka"}),e.jsxs("button",{type:"submit",className:"flex-1 px-8 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(zn,{className:"w-4 h-4"}),"Saglabt aptauju"]})]})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($t,{className:"w-5 h-5 text-blue-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Anketa nav pilnga"})]}),e.jsx("button",{onClick:()=>N(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Te,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Anketa nav pilnb aizpildta. Vai vlaties nostt anketu klientam, lai vi to aizpilda pats?"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"E-pasts:"})," ",x.email||r.email||"Nav nordts"]}),I&&e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Anketa jau tika nostta iepriek"})]}),!(x.email||r.email)&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-yellow-800",children:"Lai nosttu anketu, vispirms jnorda klienta e-pasta adrese."})})]}),e.jsxs("div",{className:"flex flex-col gap-2 p-4 border-t border-gray-200 bg-gray-50",children:[e.jsxs("button",{onClick:E,disabled:!(x.email||r.email),className:"w-full px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(sa,{className:"w-4 h-4"}),"Nostt anketu klientam"]}),e.jsx("button",{onClick:w,className:"w-full px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 font-medium",children:"Saglabt k melnrakstu"}),e.jsx("button",{onClick:()=>N(!1),className:"w-full px-4 py-2.5 text-gray-500 hover:text-gray-700 font-medium",children:"Turpint redit"})]})]})})]})},Ly=({savedLead:r,onSubmit:n,onCancel:i})=>{var I,D,v,k;const[l,u]=y.useState("resident"),[c,x]=y.useState({firstName:r.firstName||"",lastName:r.lastName||"",phone:r.phone||"",email:r.email||"",birthDate:"",personalCode:"",street:"",city:"",postalCode:"",gender:"",disabilityGroup:"",disabilityDateFrom:"",disabilityDateTo:"",stayDateFrom:new Date().toISOString().split("T")[0],stayDateTo:"",clientFirstName:"",clientLastName:"",relationship:"",clientPhone:"",clientEmail:"",clientStreet:"",clientCity:"",clientPostalCode:"",clientPersonalCode:""}),[p,g]=y.useState({}),f=(b,C)=>{x(w=>({...w,[b]:C})),p[b]&&g(w=>{const E={...w};return delete E[b],E})},h=b=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100",children:b.title}),e.jsx("div",{className:"space-y-4",children:b.fields.map(C=>{var S;const w=c.disabilityGroup&&c.disabilityGroup!=="none"&&c.disabilityGroup!=="";if((C.name==="disabilityDateFrom"||C.name==="disabilityDateTo")&&!w)return null;const E=()=>C.type==="date"?"max-w-xs":C.type==="tel"||C.name==="personalCode"||C.name==="clientPersonalCode"?"max-w-sm":C.name==="postalCode"||C.name==="clientPostalCode"?"max-w-xs":C.name==="city"||C.name==="clientCity"?"max-w-sm":C.type==="select"&&(C.name==="gender"||C.name==="disabilityGroup")?"max-w-xs":"w-full";return e.jsx("div",{children:C.type==="select"?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[C.label," ",C.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:c[C.name],onChange:R=>f(C.name,R.target.value),className:`${E()} px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white`,children:[e.jsx("option",{value:"",children:"Izvlieties..."}),(S=C.options)==null?void 0:S.map(R=>e.jsx("option",{value:R.value,children:R.label},R.value))]})]}):C.type==="textarea"?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[C.label," ",C.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:c[C.name],onChange:R=>f(C.name,R.target.value),rows:C.rows||3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none"}),C.helper&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:C.helper})]}):e.jsx("div",{className:E(),children:e.jsx(ys,{label:C.label,name:C.name,type:C.type,value:c[C.name],onChange:R=>f(C.name,R.target.value),error:p[C.name],required:C.required,placeholder:C.placeholder})})},C.name)})})]},b.id),N=b=>{b.preventDefault();const C={};tr.forEach(w=>{w.fields.forEach(E=>{E.required&&!c[E.name]&&(C[E.name]="Obligts lauks")})}),l==="relative"&&sr.forEach(w=>{w.fields.forEach(E=>{E.required&&!c[E.name]&&(C[E.name]="Obligts lauks")})}),g(C),Object.keys(C).length===0?n({...c,signerScenario:l}):window.scrollTo({top:0,behavior:"smooth"})};return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-white px-6 py-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx($t,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-normal text-gray-900 mb-1",children:"Jsu piedvjums no Adoro ampteris"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{children:"No: rezidence.sampeteris@adoro.lv"}),e.jsx("span",{children:""}),e.jsx("span",{children:new Date().toLocaleDateString("lv-LV")})]})]})]}),e.jsx("div",{className:"mt-4 bg-blue-50 border-l-4 border-blue-400 p-4",children:e.jsx("p",{className:"text-sm text-blue-900",children:"Labdien! Pateicamies par interesi par msu pakalpojumiem. Ldzu, prskatiet piedvjumu un aizpildiet nepiecieamo informciju zemk."})})]}),e.jsxs("div",{className:"bg-white px-6 py-6",children:[e.jsxs("h2",{className:"text-base font-normal text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5 text-green-600"}),"Piedvjuma kopsavilkums"]}),e.jsxs("div",{className:"bg-gray-50 rounded p-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(fi,{className:"w-3 h-3"})," Filile"]}),e.jsx("p",{className:"font-medium text-gray-900",children:"Adoro ampteris"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(ta,{className:"w-3 h-3"})," Aprpes lmenis"]}),e.jsxs("p",{className:"font-medium text-gray-900",children:[(I=r.consultation)==null?void 0:I.careLevel,". lmenis"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(as,{className:"w-3 h-3"})," Istabas veids"]}),e.jsxs("p",{className:"font-medium text-gray-900",children:[((D=r.consultation)==null?void 0:D.roomType)==="single"?"Vienvietga":"Divvietga",(v=r.consultation)!=null&&v.hasDementia?" (Specil)":""]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(Je,{className:"w-3 h-3"})," Cena"]}),e.jsxs("p",{className:"font-bold text-green-700 text-lg",children:[(k=r.consultation)==null?void 0:k.price,"  / dien"]})]})]})]}),e.jsxs("form",{onSubmit:N,className:"bg-white px-6 py-6 border-t border-gray-200",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-6",children:"Nepiecieam informcija lguma sagatavoanai"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Wt,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Rezidenta informcija"})]}),tr.map(b=>h(b))]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(od,{className:"w-5 h-5 text-blue-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Lguma paraksttjs"})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${l==="resident"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"resident",checked:l==="resident",onChange:b=>u(b.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Rezidents pats"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Paraksts rezidents persongi"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${l==="relative"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"relative",checked:l==="relative",onChange:b=>u(b.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Radinieks / Pilnvarot persona"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Paraksts cita persona"})]})]})]})}),l==="resident"?e.jsx(Ps,{variant:"blue",title:"Lguma paraksts rezidents",children:e.jsx("p",{className:"text-sm",children:"Lgums tiks sagatavots uz rezidenta vrda. Rini tiks stti uz rezidenta e-pastu."})}):e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Paraksttja informcija"}),sr.map(b=>h(b))]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-gray-200",children:[i&&e.jsx("button",{type:"button",onClick:i,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsxs("button",{type:"submit",className:"flex-1 px-8 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(sa,{className:"w-4 h-4"}),"Iesniegt informciju"]})]})]})]})})},My=({missingFields:r,existingData:n={},onClose:i,onGoBack:l,onProceedAnyway:u,onSave:c})=>{const{consultation:x,resident:p,caregiver:g}=r,f=x.length+p.length+g.length,h=n.signerScenario==="relative",[N,I]=y.useState(()=>({...n})),D=new Set([...p.map(S=>S.field),...g.map(S=>S.field)]),v=(S,R)=>{I(z=>({...z,[S]:R}))},b=(()=>{for(const S of tr)for(const R of S.fields)if(R.required){const z=N[R.name];if(!z||typeof z=="string"&&!z.trim())return!1}if(N.signerScenario==="relative"){for(const S of sr)for(const R of S.fields)if(R.required){const z=N[R.name];if(!z||typeof z=="string"&&!z.trim())return!1}}return!0})()&&x.length===0,C=()=>{c&&c(N)},w=(S,R)=>{const z=N[S.name]||"",B=S.required,A=R?"border-orange-400 bg-orange-50":"border-gray-300";return S.type==="select"&&S.options?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[S.label,B&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("select",{value:z,onChange:H=>v(S.name,H.target.value),className:`px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${A}`,children:[e.jsx("option",{value:"",children:"Izvlieties..."}),S.options.map(H=>e.jsx("option",{value:H.value,children:H.label},H.value))]}),S.helper&&e.jsx("p",{className:"text-xs text-gray-500",children:S.helper})]},S.name):S.type==="date"?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[S.label,B&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"date",value:z,onChange:H=>v(S.name,H.target.value),className:`px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${A}`}),S.helper&&e.jsx("p",{className:"text-xs text-gray-500",children:S.helper})]},S.name):S.type==="number"?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[S.label,B&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"number",value:z,onChange:H=>v(S.name,H.target.value),placeholder:S.placeholder,className:`px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${A}`}),S.helper&&e.jsx("p",{className:"text-xs text-gray-500",children:S.helper})]},S.name):e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[S.label,B&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:S.type||"text",value:z,onChange:H=>v(S.name,H.target.value),placeholder:S.placeholder||S.label,className:`px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${A}`}),S.helper&&e.jsx("p",{className:"text-xs text-gray-500",children:S.helper})]},S.name)},E=S=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 border-b pb-1",children:S.title}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:S.fields.map(R=>{const z=D.has(R.name);return w(R,z)})})]},S.id);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-4 flex flex-col",style:{maxHeight:"calc(100vh - 2rem)"},children:[e.jsx("div",{className:"bg-orange-500 p-4 sm:p-6 text-white flex-shrink-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(ut,{className:"w-7 h-7"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Aizpildt trkstoos datus"}),e.jsx("p",{className:"text-orange-100 text-sm mt-1",children:f>0?`Trkst ${f} obligto lauku`:"Prskatiet un papildiniet datus"})]})]}),e.jsx("button",{onClick:i,className:"text-white/80 hover:text-white transition-colors",children:e.jsx(Te,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-4 sm:p-6 overflow-y-auto flex-1 min-h-0",children:[x.length>0&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(i0,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-red-900",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Trkst konsultcijas datu"}),e.jsx("p",{className:"mb-2",children:"os laukus nevar aizpildt eit - jatgrieas pie konsultcijas:"}),e.jsx("ul",{className:"list-disc list-inside",children:x.map((S,R)=>e.jsx("li",{children:S.label},R))})]})]})}),f>0&&x.length===0&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsx(i0,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"text-sm text-orange-900",children:e.jsxs("p",{children:["Lauki ar ",e.jsx("span",{className:"text-orange-600 font-medium",children:"oranu fonu"})," ir obligti un nav aizpildti."]})})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:["Rezidenta informcija",p.length>0&&e.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs rounded-full",children:[p.length," trkst"]})]}),e.jsx("div",{className:"space-y-6",children:tr.map(S=>E(S))})]}),h&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:["Lguma paraksttja informcija",g.length>0&&e.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs rounded-full",children:[g.length," trkst"]})]}),e.jsx("div",{className:"space-y-6",children:sr.map(S=>E(S))})]})]}),e.jsxs("div",{className:"p-4 sm:p-6 border-t border-gray-200 space-y-2 flex-shrink-0",children:[b?e.jsxs("button",{onClick:C,className:"w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(mt,{className:"w-4 h-4"}),"Saglabt un izveidot lgumu"]}):x.length===0?e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-700",children:"Aizpildiet visus obligtos laukus (ar *), lai turpintu."})}):null,x.length>0&&e.jsxs("button",{onClick:l,className:"w-full px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(Dr,{className:"w-4 h-4"}),"Atgriezties un aizpildt konsultcijas datus"]}),e.jsx("button",{onClick:u,className:"w-full px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Turpint tik un t (neieteicams)"}),e.jsx("button",{onClick:i,className:"w-full px-6 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Atcelt"})]})]})})},Oy=({savedLead:r,onCreateAgreement:n,onAddToQueue:i,onBack:l,onEmailSent:u,onCancelLead:c,onUpdateSurveyAndCreateAgreement:x})=>{const[p,g]=y.useState(!1),[f,h]=y.useState(!1),[N,I]=y.useState(!1),[D,v]=y.useState({consultation:[],resident:[],caregiver:[]}),k=(r==null?void 0:r.survey)||(r==null?void 0:r.offer)||{},b=(r==null?void 0:r.consultation)||{},C=y.useMemo(()=>{const K=[];return tr.forEach(ae=>{ae.fields.forEach(ce=>{ce.required&&!k[ce.name]&&K.push(ce.label)})}),k.signerScenario==="relative"&&sr.forEach(ae=>{ae.fields.forEach(ce=>{ce.required&&!k[ce.name]&&K.push(ce.label)})}),{isComplete:K.length===0,missingCount:K.length,missingFields:K}},[k]),w=K=>{u(),g(!1)},E=()=>{const K=gf(r);K.isValid?n():(v(K.missingFields),I(!0))},S=()=>{I(!1),n()},R=K=>{I(!1),x&&x(K)},z=(b==null?void 0:b.fillScenario)==="in-person",B=r.emailSent||!1,A=K=>K?new Date(K).toLocaleDateString("lv-LV"):"-",H=K=>({child:"Dls / Meita",spouse:"Laultais",guardian:"Pilnvarot persona",social_worker:"Socilais darbinieks",other:"Cits"})[K]||K,O=K=>K==="male"?"Vrietis":K==="female"?"Sieviete":K;return e.jsxs(Ye,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(Er,{onClick:l}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Piedvjuma prskats"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Klients ir aizpildjis piedvjuma formu"})]}),e.jsx(Mn,{currentStatus:r.status}),C.isComplete?e.jsx(Ps,{variant:"green",title:"Aptauja aizpildta",children:e.jsx("p",{className:"text-sm",children:"Visi nepiecieamie dati ir ievadti. Prskatiet informciju un izvlieties darbbu."})}):e.jsx(Ps,{variant:"orange",title:"Aptauja nav pilnga",children:e.jsxs("p",{className:"text-sm",children:["Trkst ",C.missingCount," obligto lauku. Nostiet anketu klientam aizpildanai vai atgriezieties un aizpildiet pai."]})}),(!C.isComplete||z)&&!B&&e.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(sa,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:C.isComplete?"Nostt informciju klientam":"Nostt anketu klientam"}),e.jsx("p",{className:"text-sm text-blue-700",children:C.isComplete?"Klients apmeklja iestdi un js aizpildjt anketu. Nostiet e-pastu ar prskatu klientam apstiprinanai.":"Anketa nav pilngi aizpildta. Nostiet e-pastu klientam, lai vi aizpilda trkstoos datus."})]})]}),e.jsxs("button",{onClick:()=>g(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2 whitespace-nowrap",children:[e.jsx($t,{className:"w-5 h-5"}),"Nostt e-pastu"]})]})}),z&&B&&e.jsx("div",{className:"bg-green-50 border border-green-300 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Je,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"E-pasts nostts"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Informcijas prskats nostts klientam ",r.emailSentDate&&`${r.emailSentDate} plkst. ${r.emailSentTime}`,"."]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5 text-orange-500"}),"Piedvjuma nosacjumi"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(fi,{className:"w-3 h-3"})," Filile"]}),e.jsx("p",{className:"font-medium text-gray-900",children:"Adoro ampteris"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(ta,{className:"w-3 h-3"})," Aprpe"]}),e.jsxs("p",{className:"font-medium text-gray-900",children:[(b==null?void 0:b.careLevel)||"-",". lmenis"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(as,{className:"w-3 h-3"})," Istaba"]}),e.jsxs("p",{className:"font-medium text-gray-900",children:[(b==null?void 0:b.roomType)==="single"?"Vienvietga":(b==null?void 0:b.roomType)==="double"?"Divvietga":(b==null?void 0:b.roomType)==="triple"?"Trsvietga":"-",b!=null&&b.hasDementia?" (Spec.)":""]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[e.jsx(Je,{className:"w-3 h-3"})," Cena"]}),e.jsxs("p",{className:"font-bold text-green-700",children:[(b==null?void 0:b.price)||"-","  / dien"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Wt,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Rezidenta informcija"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Persona, kas dzvos rezidenc"})]})]}),e.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Labot rezidenta datus",children:e.jsx(Rc,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Vrds un uzvrds"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[k.firstName," ",k.lastName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Personas kods"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:k.personalCode||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(ea,{className:"w-3 h-3"})," Dzimanas datums"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:A(k.birthDate)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Dzimums"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:O(k.gender)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(er,{className:"w-3 h-3"})," Tlrunis"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:k.phone||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx($t,{className:"w-3 h-3"})," E-pasts"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:k.email||"-"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(_c,{className:"w-3 h-3"})," Adrese"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:k.street&&k.city&&k.postalCode?`${k.street}, ${k.city}, ${k.postalCode}`:"-"})]}),k.disabilityGroup&&k.disabilityGroup!=="none"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Invalidittes grupa"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[k.disabilityGroup,". grupa"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Invalidittes termi"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[A(k.disabilityDateFrom)," - ",k.disabilityDateTo?A(k.disabilityDateTo):"Beztermia"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Uzturans skums"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:A(k.stayDateFrom)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Uzturans beigas"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:k.stayDateTo?A(k.stayDateTo):"Beztermia"})]})]})]}),k.signerScenario==="relative"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(od,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Lguma paraksttja informcija"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Radinieks / Pilnvarot persona"})]})]}),e.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Labot apgdnieka datus",children:e.jsx(Rc,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Vrds un uzvrds"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[k.clientFirstName," ",k.clientLastName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Radniecba / Statuss"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:H(k.relationship)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Personas kods"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:k.clientPersonalCode||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(er,{className:"w-3 h-3"})," Tlrunis"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:k.clientPhone||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx($t,{className:"w-3 h-3"})," E-pasts"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:k.clientEmail||"-"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(_c,{className:"w-3 h-3"})," Adrese"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:k.clientStreet&&k.clientCity&&k.clientPostalCode?`${k.clientStreet}, ${k.clientCity}, ${k.clientPostalCode}`:"-"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:E,className:"bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-green-500 hover:shadow-md p-5 text-left transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Nt,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Izveidot lgumu"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Pieirt lguma numuru un turpint"})]})]}),e.jsx("div",{className:"flex items-center justify-end text-sm text-green-600 font-medium",children:"Turpint "})]}),e.jsxs("button",{onClick:i,className:"bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-blue-500 hover:shadow-md p-5 text-left transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Yr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Pievienot rindai"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Saglabt datus, nav brvu vietu"})]})]}),e.jsx("div",{className:"flex items-center justify-end text-sm text-blue-600 font-medium",children:"Turpint "})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>h(!0),className:"w-full px-6 py-2.5 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"}),"Atcelt pieteikumu"]})}),p&&e.jsx(wx,{lead:r,onClose:()=>g(!1),onSend:w}),f&&e.jsx(Ma,{lead:r,onConfirm:c,onClose:()=>h(!1)}),N&&e.jsx(My,{missingFields:D,existingData:k,onClose:()=>I(!1),onGoBack:l,onProceedAnyway:S,onSave:R})]})},$y=({lead:r})=>{const n=(r==null?void 0:r.consultation)||{},i=(r==null?void 0:r.survey)||{},l=(r==null?void 0:r.agreementNumber)||"RSD-__-2025-L-___",u=f=>{if(!f)return"____";const h=new Date(f),N=h.getDate(),D=["janvris","februris","marts","aprlis","maijs","jnijs","jlijs","augusts","septembris","oktobris","novembris","decembris"][h.getMonth()];return`${h.getFullYear()}. gada ${N}. ${D}`},c=u(new Date().toISOString()),x=u(i.stayDateFrom),p=i.signerScenario==="relative",g=f=>!f||typeof f=="string"&&f.trim()===""?"bg-yellow-100 px-1 rounded":"";return e.jsxs("div",{className:"bg-white p-4 sm:p-8 max-w-4xl mx-auto",style:{fontFamily:"Times New Roman, serif"},children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-base sm:text-xl font-bold mb-2",children:"LGUMS PAR SOCILO PAKALPOJUMU NODROINANU"}),e.jsxs("p",{className:"text-sm sm:text-lg font-semibold",children:["NR. ",l]})]}),e.jsx("div",{className:"text-center mb-6 sm:mb-8",children:e.jsxs("p",{className:"text-sm sm:text-base",children:["Rga, ",c]})}),e.jsxs("div",{className:"mb-6 sm:mb-8 text-xs sm:text-sm leading-relaxed",children:[e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:"font-semibold",children:'SIA "Adoro ampteris"'}),", reistrcijas Nr. 40203404640, juridisk adrese: Zolitdes iela 68A, Rga, LV-1046, kuras vrd rkojas direktors Kristne Besedina, turpmk tekst - ",e.jsx("span",{className:"font-semibold",children:"Pakalpojuma sniedzjs"}),", no vienas puses,"]}),e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:`font-semibold ${g(i.firstName)}`,children:i.firstName||"_________"})," ",e.jsx("span",{className:`font-semibold ${g(i.lastName)}`,children:i.lastName||"_________"}),", personas kods: ",e.jsx("span",{className:`font-semibold ${g(i.personalCode)}`,children:i.personalCode||"__________-_____"}),", deklart adrese: ",e.jsx("span",{className:`font-semibold ${i.street&&i.city&&i.postalCode?"":"bg-yellow-100 px-1 rounded"}`,children:i.street&&i.city&&i.postalCode?`${i.street}, ${i.city}, ${i.postalCode}`:"_________________________________"}),", turpmk tekst - ",e.jsx("span",{className:"font-semibold",children:"Klients"}),",",p?" un":""]}),p&&e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:`font-semibold ${g(i.clientFirstName)}`,children:i.clientFirstName||"_________"})," ",e.jsx("span",{className:`font-semibold ${g(i.clientLastName)}`,children:i.clientLastName||"_________"}),", personas kods: ",e.jsx("span",{className:`font-semibold ${g(i.clientPersonalCode)}`,children:i.clientPersonalCode||"__________-_____"}),", deklart adrese: ",e.jsx("span",{className:`font-semibold ${i.clientStreet&&i.clientCity&&i.clientPostalCode?"":"bg-yellow-100 px-1 rounded"}`,children:i.clientStreet&&i.clientCity&&i.clientPostalCode?`${i.clientStreet}, ${i.clientCity}, ${i.clientPostalCode}`:"_________________________________"}),", turpmk tekst - ",e.jsx("span",{className:"font-semibold",children:"Apgdnieks"}),","]}),e.jsx("p",{className:"mt-6",children:p?"Pakalpojuma sniedzjs, Klients un Apgdnieks turpmk tekst visi kop  Puses, nosldz lgumu par socilo pakalpojumu nodroinanu.":"Pakalpojuma sniedzjs un Klients turpmk tekst visi kop  Puses, nosldz lgumu par socilo pakalpojumu nodroinanu."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-base sm:text-lg font-bold mb-4",children:"1. LGUMA PRIEKMETS"}),e.jsx("h3",{className:"font-semibold mb-4 text-sm sm:text-base",children:"1.1. Visprjie lguma noteikumi:"}),e.jsxs("div",{className:"border-2 border-gray-800 rounded text-sm leading-relaxed",children:[e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"I. Pakalpojums: "}),e.jsx("span",{className:"bg-orange-100 px-2 py-0.5 rounded font-semibold text-orange-800",children:n.duration==="long"?"ilglaicgs":n.duration==="short"?"slaicgs":"____"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"II. Mjoklis: "}),e.jsx("span",{className:"bg-orange-100 px-2 py-0.5 rounded font-semibold text-orange-800",children:n.roomType==="single"?"vienvietgs":n.roomType==="double"?"divvietgs":n.roomType==="triple"?"trsvietgs":"____"}),n.hasDementia&&e.jsx("span",{className:"ml-2 bg-yellow-100 px-2 py-0.5 rounded text-yellow-800 text-xs font-semibold",children:"+ specila istaba (demence)"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"III. Maksa par vienu diennakti: "}),e.jsxs("span",{className:"bg-green-100 px-2 py-0.5 rounded font-bold text-green-800",children:["EUR ",n.price||"00.00"]})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"IV. Drobas nauda: "}),i.securityDeposit==="yes"?e.jsx("span",{className:"bg-orange-100 px-2 py-0.5 rounded font-semibold text-orange-800",children:i.securityDepositAmount?`${i.securityDepositAmount} EUR`:"_______ EUR"}):e.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:"nav"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"V. Klienta iestans datums: "}),e.jsx("span",{className:`px-2 py-0.5 rounded font-semibold ${i.stayDateFrom?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:x})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"VI. Lguma termi: "}),i.stayDateTo?e.jsxs("span",{className:"bg-orange-100 px-2 py-0.5 rounded font-semibold text-orange-800",children:["ldz ",u(i.stayDateTo)]}):e.jsx("span",{className:"bg-blue-100 px-2 py-0.5 rounded font-semibold text-blue-800",children:"beztermia"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"VII. Aprpes lmenis: "}),e.jsx("span",{className:"bg-orange-100 px-2 py-0.5 rounded font-semibold text-orange-800",children:n.careLevel?`${n.careLevel}. lmenis`:"____"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"VIII. Veselbas datu nodoana Apgdniekam: "}),e.jsx("span",{className:`px-2 py-0.5 rounded font-semibold ${i.healthDataConsent==="yes"||p&&!i.healthDataConsent?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:i.healthDataConsent==="yes"||p&&!i.healthDataConsent?"j":"n"})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"IX. Personas dokumentu glabana: "}),e.jsx("span",{className:`px-2 py-0.5 rounded font-semibold ${i.storeIdDocuments==="yes"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"}`,children:i.storeIdDocuments==="yes"?"j":"n"})]}),e.jsxs("div",{className:"p-3 sm:p-4",children:[e.jsx("span",{className:"font-semibold block mb-2",children:"X. Papildus pakalpojumi:"}),e.jsxs("div",{className:"space-y-1.5 ml-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700",children:" Veas mazgana un marana: "}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${i.laundryService==="yes"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:i.laundryService==="yes"?"j":"n"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700",children:" Podologs: "}),i.podologistService==="yes"?e.jsxs("span",{className:"bg-green-100 px-2 py-0.5 rounded text-xs font-semibold text-green-800",children:["j, ",i.podologistFrequency||"___"," reizes mnes"]}):e.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-xs font-semibold text-gray-600",children:"n"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700",children:" Cits: "}),i.otherServicesEnabled==="yes"?e.jsx("span",{className:"bg-orange-100 px-2 py-0.5 rounded text-xs font-semibold text-orange-800",children:i.otherServices||"____"}):e.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-xs font-semibold text-gray-600",children:"n"})]})]})]})]})]}),e.jsx("div",{className:"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t-2 border-gray-400",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 sm:gap-8 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold mb-2",children:"PAKALPOJUMU SNIEDZJS:"}),e.jsx("p",{className:"font-semibold",children:'SIA "Adoro ampteris"'}),e.jsx("p",{children:"Re. Nr. 40203404640"}),e.jsx("p",{children:"Zolitdes iela 68A, Rga, LV-1046"}),e.jsx("p",{className:"mt-2",children:"Tlrunis: +371 20 616 003"}),e.jsx("p",{children:"E-pasts: rezidence.sampeteris@adoro.lv"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold mb-2",children:"KLIENTS:"}),e.jsxs("p",{className:"font-semibold",children:[e.jsx("span",{className:g(i.firstName),children:i.firstName||"_________"})," ",e.jsx("span",{className:g(i.lastName),children:i.lastName||"_________"})]}),e.jsxs("p",{children:["Personas kods: ",e.jsx("span",{className:g(i.personalCode),children:i.personalCode||"__________-_____"})]}),e.jsxs("p",{children:["E-pasts: ",i.email||r.email||"_________________"]}),e.jsxs("p",{children:["Tlrunis: ",i.phone||r.phone||"_________________"]}),p&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-bold mb-2",children:"APGDNIEKS:"}),e.jsxs("p",{className:"font-semibold",children:[e.jsx("span",{className:g(i.clientFirstName),children:i.clientFirstName||"_________"})," ",e.jsx("span",{className:g(i.clientLastName),children:i.clientLastName||"_________"})]}),e.jsxs("p",{children:["Personas kods: ",e.jsx("span",{className:g(i.clientPersonalCode),children:i.clientPersonalCode||"__________-_____"})]}),e.jsxs("p",{children:["E-pasts: ",i.clientEmail||"_________________"]}),e.jsxs("p",{children:["Tlrunis: ",i.clientPhone||"_________________"]})]})]})]})}),e.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-300 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Nt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Lguma pirm lappuse"}),e.jsx("p",{children:"is ir vienkrots lguma variants priekskatjumam. Pilns lgums satur papildu sadaas par puu pienkumiem, maksjumu noteikumiem, lguma izbeiganas krtbu un citiem svargiem noteikumiem."})]})]})})]})},By=({savedLead:r,onBack:n,onViewList:i,onAddNew:l,onCancelLead:u,onBookBed:c,onEditContract:x,onPrintContract:p,onViewResident:g})=>{var b;const[f,h]=y.useState(!1),[N,I]=y.useState(!1),D=y.useRef(null),v=()=>{window.print()},k=()=>{h(!f)};return y.useEffect(()=>{if(f&&D.current){const C=setTimeout(()=>{var w;(w=D.current)==null||w.scrollIntoView({behavior:"smooth",block:"start"})},100);return()=>clearTimeout(C)}},[f]),e.jsxs(Ye,{maxWidth:"max-w-4xl",children:[e.jsx(Er,{onClick:n}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-4 sm:p-6 text-white",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Je,{className:"w-8 h-8 sm:w-10 sm:h-10"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Lgums izveidots!"}),e.jsx("p",{className:"text-green-100 mt-1 text-sm sm:text-base",children:"Process veiksmgi uzskts"})]})]})}),e.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Jauns lgums"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Lguma numurs"}),e.jsx("span",{className:"font-mono font-semibold text-gray-900",children:r.agreementNumber||"RSD-__-2025"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Rezidents"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[r.firstName," ",r.lastName]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status"}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-sm font-medium",children:"Gaida parakstu"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Izveidots"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date().toISOString().split("T")[0]})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Nkamie soi"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Lguma dokuments enerts"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ht,{className:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Nostt lgumu klientam parakstanai"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(bs,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Rezervt gultas vietu"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(bs,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Pc parakstanas - aktivizt lgumu"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Lguma dokuments"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[x?e.jsxs("button",{onClick:x,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(Dn,{className:"w-4 h-4"}),"Skatt / Redit"]}):e.jsxs("button",{onClick:k,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2",children:[f?e.jsx(iy,{className:"w-4 h-4"}):e.jsx(Dn,{className:"w-4 h-4"}),f?"Paslpt":"Skatt"]}),e.jsxs("button",{onClick:p||v,className:"px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(La,{className:"w-4 h-4"}),"Drukt"]}),e.jsxs("button",{className:"px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium flex items-center justify-center gap-2",disabled:!0,title:"Funkcionalitte tiks pievienota",children:[e.jsx(ry,{className:"w-4 h-4"}),"Lejupieldt"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[c&&!r.residentId&&e.jsxs("button",{onClick:c,className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2 text-lg",children:[e.jsx(as,{className:"w-5 h-5"}),"Rezervt gultu un izveidot rezidentu"]}),r.residentId&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"px-4 py-3 bg-green-50 border border-green-200 rounded-lg text-green-700 flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5"}),e.jsxs("span",{children:["Rezidents izveidots (Istaba ",r.bookedRoomNumber||((b=r.bookedRoomId)==null?void 0:b.replace("ROOM-","")),", gulta ",r.bookedBedNumber,")"]})]}),g&&e.jsxs("button",{onClick:()=>g(r.residentId),className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2 text-lg",children:[e.jsx(Ls,{className:"w-5 h-5"}),"Skatt rezidenta profilu"]})]}),e.jsxs("button",{onClick:()=>I(!0),className:"w-full px-4 py-2.5 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"}),"Atcelt lgumu"]})]})]})]}),f&&e.jsx("div",{ref:D,className:"mt-6 print:mt-0",children:e.jsx($y,{lead:r})}),N&&e.jsx(Ma,{lead:r,onConfirm:u,onClose:()=>I(!1)})]})},Vy=({savedLead:r,allLeads:n=[],onBack:i,onViewList:l,onAddNew:u,onCancelLead:c,onCreateContract:x})=>{const[p,g]=y.useState(!1),f=J0(r,n),h=Q0(r);return e.jsxs(Ye,{maxWidth:"max-w-2xl",children:[e.jsx(Er,{onClick:i}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4 sm:p-6 text-white",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Yr,{className:"w-8 h-8 sm:w-10 sm:h-10"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Pievienots rindai!"}),e.jsx("p",{className:"text-blue-100 mt-1 text-sm sm:text-base",children:"Klients tiks informts, kad vieta kst pieejama"})]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gaidanas saraksts"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Klients"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[r.firstName," ",r.lastName]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Pozcija rind"}),e.jsxs("span",{className:"font-mono font-semibold text-blue-600",children:["#",f||""]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Gaidanas laiks"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[h," ",h===1?"diena":"dienas"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status"}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm font-medium",children:r.queueOfferSent?"Piedvjums nostts":"Gaidanas rind"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Pievienots"}),e.jsx("span",{className:"font-medium text-gray-900",children:r.queuedDate||r.createdDate})]})]})]}),e.jsx(Ps,{variant:"blue",title:"Pareizj situcija",icon:"info",children:e.jsx("p",{children:"Abs rezidencs palaik ir pilns aizpildjums. Vidjais gaidanas laiks ir 2-4 mnei. Klients tiks informts, tikldz vieta kst pieejama."})}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Nkamie soi"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Klients pievienots gaidanas rindai"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ht,{className:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Uzturt regulru kontaktu ar klientu"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(bs,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Informt, kad vieta kst pieejama"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(bs,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Pc apstiprinjuma - izveidot lgumu"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[x&&e.jsxs("button",{onClick:x,className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2 text-lg",children:[e.jsx(Nt,{className:"w-5 h-5"}),"Izveidot lgumu"]}),e.jsxs("button",{onClick:l,className:"w-full px-4 py-2.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(Ls,{className:"w-4 h-4"}),"Skatt visus pieteikumus"]}),e.jsx("button",{onClick:u,className:"w-full px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Pievienot jaunu klientu"}),e.jsxs("button",{onClick:()=>g(!0),className:"w-full px-4 py-2.5 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"}),"Izemt no rindas"]})]})]})]}),p&&e.jsx(Ma,{lead:r,onConfirm:c,onClose:()=>g(!1)})]})},Fy=({allLeads:r,onSendOffer:n,onAcceptFromQueue:i,onViewLead:l,onCancelLead:u})=>{const[c,x]=y.useState(!1),[p,g]=y.useState(null),f=r.filter(D=>D.status===Se.QUEUE).sort((D,v)=>{const k=D.queuedDate||D.createdDate,b=v.queuedDate||v.createdDate;if(k!==b)return k.localeCompare(b);const C=D.queuedTime||D.createdTime||"00:00",w=v.queuedTime||v.createdTime||"00:00";return C.localeCompare(w)}),h=D=>{g(D),x(!0)},N=D=>{u(p.id,D),x(!1),g(null)},I=D=>{switch(D){case"single":return"Vienvietga";case"double":return"Divvietga";case"triple":return"Trsvietga";default:return D}};return e.jsxs(Ye,{maxWidth:"max-w-4xl",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Yr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gaidanas rinda"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[f.length," ",f.length===1?"klients gaida":"klienti gaida"]})]})]})}),f.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[e.jsx(Yr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Rinda ir tuka"}),e.jsx("p",{className:"text-gray-600",children:"obrd neviens negaida rind. Klienti tiek pievienoti rindai, kad nav brvu vietu."})]}),e.jsx("div",{className:"space-y-3",children:f.map((D,v)=>{var w,E,S,R;const k=v+1,b=Q0(D),C=D.queueOfferSent;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-blue-700 font-bold",children:["#",k]})}),e.jsx(Ra,{firstName:D.firstName,lastName:D.lastName,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[D.firstName," ",D.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:D.id})]}),C&&e.jsxs("span",{className:"flex-shrink-0 inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:[e.jsx(Je,{className:"w-3 h-3"}),"Nostts"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-sm",children:[e.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 rounded font-medium",children:[(w=D.consultation)==null?void 0:w.careLevel,". lm."]}),e.jsx("span",{className:"text-gray-600",children:I((E=D.consultation)==null?void 0:E.roomType)}),((S=D.consultation)==null?void 0:S.hasDementia)&&e.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded text-xs",children:"Demence"})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ht,{className:"w-3 h-3"}),b," ",b===1?"diena":"dienas"," rind"]}),e.jsxs("span",{children:["Pievienots: ",D.queuedDate||D.createdDate]})]}),C&&D.queueOfferSentDate&&e.jsxs("p",{className:"mt-1 text-xs text-green-600",children:["Piedvjums nostts: ",D.queueOfferSentDate," ",D.queueOfferSentTime]})]}),e.jsxs("div",{className:"hidden sm:block text-right flex-shrink-0",children:[e.jsxs("p",{className:"text-lg font-bold text-green-600",children:[(R=D.consultation)==null?void 0:R.price," "]}),e.jsx("p",{className:"text-xs text-gray-500",children:"dien"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-gray-100",children:[C?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>i(D),className:"flex-1 sm:flex-none px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(Je,{className:"w-4 h-4"}),"Apstiprint lgumu"]}),e.jsxs("button",{onClick:()=>n(D),className:"px-4 py-2 border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(yi,{className:"w-4 h-4"}),"Nostt vlreiz"]})]}):e.jsxs("button",{onClick:()=>n(D),className:"flex-1 sm:flex-none px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(sa,{className:"w-4 h-4"}),"Nostt piedvjumu"]}),e.jsxs("button",{onClick:()=>l(D),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(Dn,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Skatt"})]}),e.jsxs("button",{onClick:()=>h(D),className:"px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(jt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Izemt"})]})]})]},D.id)})}),c&&p&&e.jsx(Ma,{lead:p,onConfirm:N,onClose:()=>{x(!1),g(null)}})]})},Uy=({allLeads:r,onAddNew:n,onSelectLead:i,filterView:l="all-leads"})=>{const[u,c]=y.useState(!1),x=r.length>0?[]:[{id:"L-2025-001",firstName:"Mrti",lastName:"Ozols",email:"martins.ozols@inbox.lv",phone:"+371 29111222",status:Se.AGREEMENT,createdDate:"2025-12-15",consultation:{careLevel:"3",price:77}},{id:"L-2025-002",firstName:"Lga",lastName:"Kalnia",email:"liga.k@gmail.com",phone:"+371 26333444",status:Se.QUEUE,createdDate:"2025-12-16",consultation:{careLevel:"2",price:70}},{id:"L-2025-003",firstName:"Jnis",lastName:"Brzi",email:"janis.b@outlook.com",phone:"+371 22555666",status:Se.CONSULTATION,createdDate:"2025-12-17",consultation:{careLevel:"1",price:65}},{id:"L-2025-004",firstName:"Anna",lastName:"Liepia",email:"anna.l@inbox.lv",phone:"+371 28777888",status:Se.PROSPECT,createdDate:"2025-12-18"}],p=r.length>0?r:x;let g=l==="queue"?p.filter(h=>h.status===Se.QUEUE):p;u||(g=g.filter(h=>h.status!==Se.CANCELLED));const f=l==="queue"?"Rinda":"Visi pieteikumi un klienti";return e.jsxs(Ye,{maxWidth:"max-w-5xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(Ls,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:f}),e.jsxs("p",{className:"text-sm text-gray-600",children:[g.length," ieraksti",r.length===0&&" (paraugdati)"]})]})]}),e.jsxs("button",{onClick:n,className:"w-full sm:w-auto px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(cd,{className:"w-4 h-4"}),"Jauns pieteikums"]})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer hover:text-gray-800 w-fit",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:h=>c(h.target.checked),className:"w-4 h-4 text-gray-600 border-gray-300 rounded focus:ring-gray-500"}),e.jsxs("span",{children:["Rdt atceltus pieteikumus (",p.filter(h=>h.status===Se.CANCELLED).length,")"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-3 lg:grid-cols-6 gap-2 sm:gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-orange-600",children:g.filter(h=>h.status===Se.PROSPECT).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Pieteikumi"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-600",children:g.filter(h=>h.status===Se.CONSULTATION).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Konsultcijas"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:g.filter(h=>h.status===Se.SURVEY_FILLED).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Anketas"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:g.filter(h=>h.status===Se.AGREEMENT).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Lgumi"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:g.filter(h=>h.status===Se.QUEUE).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Rind"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-600",children:g.filter(h=>h.status===Se.CANCELLED).length}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Atcelti"})]})]}),e.jsx("div",{className:"block md:hidden space-y-3",children:g.map(h=>{var I,D;const N=h.status===Se.CANCELLED;return e.jsxs("div",{className:N?"bg-white rounded-lg shadow-sm border border-gray-200 p-4 opacity-60 cursor-not-allowed":"bg-white rounded-lg shadow-sm border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>i(h),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ra,{firstName:h.firstName,lastName:h.lastName,size:"md"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[h.firstName," ",h.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:h.id})]})]}),e.jsx(oi,{status:h.status,showIcon:!1})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsx("p",{className:"text-gray-600",children:h.email}),e.jsx("p",{className:"text-gray-600",children:h.phone})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:h.createdDate}),e.jsxs("div",{className:"flex items-center gap-3",children:[((I=h.consultation)==null?void 0:I.careLevel)&&e.jsxs("span",{className:"text-gray-700",children:[h.consultation.careLevel,". lm."]}),((D=h.consultation)==null?void 0:D.price)&&e.jsxs("span",{className:"font-medium text-green-600",children:[h.consultation.price," /d"]})]})]})]},h.id)})}),e.jsx("div",{className:"hidden md:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Klients"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Kontakti"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Aprpe"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Cena"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Datums"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:g.map(h=>{var I,D;const N=h.status===Se.CANCELLED;return e.jsxs("tr",{className:N?"opacity-60 cursor-not-allowed":"hover:bg-gray-50 cursor-pointer",onClick:()=>i(h),children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ra,{firstName:h.firstName,lastName:h.lastName,size:"sm"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[h.firstName," ",h.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:h.id})]})]})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("p",{className:"text-sm text-gray-700",children:h.email}),e.jsx("p",{className:"text-xs text-gray-500",children:h.phone})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(oi,{status:h.status,showIcon:!1})}),e.jsx("td",{className:"px-4 py-3",children:(I=h.consultation)!=null&&I.careLevel?e.jsxs("span",{className:"text-sm text-gray-700",children:[h.consultation.careLevel,". lmenis"]}):e.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-3",children:(D=h.consultation)!=null&&D.price?e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[h.consultation.price," /d"]}):e.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-600",children:h.createdDate})})]},h.id)})})]})})})]})},et={BULK_INVENTORY:"adorable-inventory-bulk",RESIDENT_INVENTORY:"adorable-inventory-resident",TRANSFERS:"adorable-inventory-transfers",RECEIPTS:"adorable-inventory-receipts",DISPENSE_LOG:"adorable-inventory-dispense-log"},d0={available:{value:"available",label:"Pieejams",color:"green",bgColor:"bg-green-100",textColor:"text-green-700"},low:{value:"low",label:"Zems krjums",color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-700"},expired:{value:"expired",label:"Beidzies dergums",color:"red",bgColor:"bg-red-100",textColor:"text-red-700"},depleted:{value:"depleted",label:"Izlietots",color:"gray",bgColor:"bg-gray-100",textColor:"text-gray-500"}},qy={bulk_transfer:{value:"bulk_transfer",label:"No noliktavas",icon:"ArrowRight"},relatives:{value:"relatives",label:"Radinieki atnesa",icon:"Users"}},Ky={four_day_prep:{value:"4_day_preparation",label:"4 dienu sagatavoana"},replenishment:{value:"replenishment",label:"Papildinana"},emergency:{value:"emergency",label:"rkrtas"}},Gy=[{value:"family",label:"imenes loceklis"},{value:"friend",label:"Draugs"},{value:"caregiver",label:"Aprptjs"},{value:"other",label:"Cits"}],Tc={EXPIRATION_WARNING_DAYS:30,EXPIRATION_CRITICAL_DAYS:7},u0=20,vi="Gints Fricbergs",ud=new Date,Et=ud.toISOString().split("T")[0];function oe(r){const n=new Date(ud);return n.setDate(n.getDate()-r),n.toISOString().split("T")[0]}function Ve(r){const n=new Date(ud);return n.setMonth(n.getMonth()+r),n.toISOString().split("T")[0]}const Hy=[{id:"BI-001",medicationName:"L-Thyroxin Berlin-Chemie 50 mikrogramu tabletes",activeIngredient:"Levothyroxinum natricum",form:"tabletes",batchNumber:"LT2024-A89",expirationDate:Ve(18),quantity:500,unit:"tabletes",unitCost:.08,receivedDate:oe(30),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:50,createdAt:oe(30)+"T10:00:00",updatedAt:oe(30)+"T10:00:00"},{id:"BI-002",medicationName:"Somnols 7,5 mg apvalkots tabletes",activeIngredient:"Zopiclonum",form:"tabletes",batchNumber:"SOM2024-B12",expirationDate:Ve(12),quantity:200,unit:"tabletes",unitCost:.15,receivedDate:oe(45),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:30,createdAt:oe(45)+"T10:00:00",updatedAt:oe(45)+"T10:00:00"},{id:"BI-003",medicationName:"Nateo D3 vit.cap 4000 SV",activeIngredient:"Cholecalciferolum",form:"kapsulas",batchNumber:"NAT2024-C45",expirationDate:Ve(24),quantity:300,unit:"kapsulas",unitCost:.12,receivedDate:oe(20),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:40,createdAt:oe(20)+"T10:00:00",updatedAt:oe(20)+"T10:00:00"},{id:"BI-004",medicationName:"Verospiron 25 mg tabletes",activeIngredient:"Spironolactonum",form:"tabletes",batchNumber:"VER2024-D78",expirationDate:Ve(8),quantity:150,unit:"tabletes",unitCost:.1,receivedDate:oe(60),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:30,createdAt:oe(60)+"T10:00:00",updatedAt:oe(60)+"T10:00:00"},{id:"BI-005",medicationName:"NovoMix 30 FlexPen",activeIngredient:"Insulinum aspartum",form:"injekcijas",batchNumber:"NOV2024-E01",expirationDate:Ve(6),quantity:10,unit:"pildspalvas",unitCost:25,receivedDate:oe(15),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:3,createdAt:oe(15)+"T10:00:00",updatedAt:oe(15)+"T10:00:00"},{id:"BI-006",medicationName:"Paracetamol Accord 500 mg tabletes",activeIngredient:"Paracetamolum",form:"tabletes",batchNumber:"PAR2024-F34",expirationDate:Ve(36),quantity:1e3,unit:"tabletes",unitCost:.03,receivedDate:oe(90),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:100,createdAt:oe(90)+"T10:00:00",updatedAt:oe(90)+"T10:00:00"},{id:"BI-007",medicationName:"Torasemid HEXAL 50 mg tabletes",activeIngredient:"Torasemidum",form:"tabletes",batchNumber:"TOR2024-G56",expirationDate:Ve(10),quantity:80,unit:"tabletes",unitCost:.18,receivedDate:oe(40),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:20,createdAt:oe(40)+"T10:00:00",updatedAt:oe(40)+"T10:00:00"},{id:"BI-008",medicationName:"Regulax Picosulphate 7,23 mg/ml pilieni",activeIngredient:"Natrii picosulfas",form:"pilieni",batchNumber:"REG2024-H89",expirationDate:Ve(14),quantity:5,unit:"pudeles",unitCost:4.5,receivedDate:oe(25),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:2,createdAt:oe(25)+"T10:00:00",updatedAt:oe(25)+"T10:00:00"},{id:"BI-009",medicationName:"Olanzapine Accord 5 mg apvalkots tabletes",activeIngredient:"Olanzapinum",form:"tabletes",batchNumber:"OLA2024-I12",expirationDate:Ve(16),quantity:120,unit:"tabletes",unitCost:.22,receivedDate:oe(50),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:20,createdAt:oe(50)+"T10:00:00",updatedAt:oe(50)+"T10:00:00"},{id:"BI-010",medicationName:"Metformin Accord 500 mg tabletes",activeIngredient:"Metforminum",form:"tabletes",batchNumber:"MET2024-J45",expirationDate:Ve(20),quantity:400,unit:"tabletes",unitCost:.05,receivedDate:oe(35),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:60,createdAt:oe(35)+"T10:00:00",updatedAt:oe(35)+"T10:00:00"},{id:"BI-011",medicationName:"Lisinopril Actavis 10 mg tabletes",activeIngredient:"Lisinoprilum",form:"tabletes",batchNumber:"LIS2024-K78",expirationDate:Ve(22),quantity:250,unit:"tabletes",unitCost:.07,receivedDate:oe(55),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:30,createdAt:oe(55)+"T10:00:00",updatedAt:oe(55)+"T10:00:00"},{id:"BI-012",medicationName:"Atorvastatin Teva 20 mg tabletes",activeIngredient:"Atorvastatinum",form:"tabletes",batchNumber:"ATO2024-L01",expirationDate:Ve(15),quantity:180,unit:"tabletes",unitCost:.09,receivedDate:oe(28),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:30,createdAt:oe(28)+"T10:00:00",updatedAt:oe(28)+"T10:00:00"},{id:"BI-013",medicationName:"Aspirin Cardio 100 mg tabletes",activeIngredient:"Acidum acetylsalicylicum",form:"tabletes",batchNumber:"ASP2024-M34",expirationDate:Ve(4),quantity:15,unit:"tabletes",unitCost:.04,receivedDate:oe(100),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"low",minimumStock:30,createdAt:oe(100)+"T10:00:00",updatedAt:Et+"T10:00:00"},{id:"BI-014",medicationName:"Omeprazole Actavis 20 mg kapsulas",activeIngredient:"Omeprazolum",form:"kapsulas",batchNumber:"OME2023-N56",expirationDate:oe(-20),quantity:45,unit:"kapsulas",unitCost:.11,receivedDate:oe(180),receivedFrom:"xml_import",supplier:"Recipe Plus",status:"available",minimumStock:20,createdAt:oe(180)+"T10:00:00",updatedAt:oe(180)+"T10:00:00"}],Wy=[{id:"RI-001",residentId:"R-001",medicationName:"L-Thyroxin Berlin-Chemie 50 mikrogramu tabletes",activeIngredient:"Levothyroxinum natricum",form:"tabletes",batchNumber:"LT2024-A89",expirationDate:Ve(18),quantity:8,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-001",prescriptionId:"P-001",status:"available",minimumStock:4,lastDispenseDate:Et,createdAt:oe(4)+"T10:00:00",updatedAt:Et+"T08:00:00"},{id:"RI-002",residentId:"R-001",medicationName:"Somnols 7,5 mg apvalkots tabletes",activeIngredient:"Zopiclonum",form:"tabletes",batchNumber:"SOM2024-B12",expirationDate:Ve(12),quantity:6,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-002",prescriptionId:"P-002",status:"available",minimumStock:4,lastDispenseDate:oe(1),createdAt:oe(4)+"T10:00:00",updatedAt:oe(1)+"T21:00:00"},{id:"RI-003",residentId:"R-001",medicationName:"Verospiron 25 mg tabletes",activeIngredient:"Spironolactonum",form:"tabletes",batchNumber:"VER2024-D78",expirationDate:Ve(8),quantity:5,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-004",prescriptionId:"P-004",status:"available",minimumStock:4,lastDispenseDate:Et,createdAt:oe(4)+"T10:00:00",updatedAt:Et+"T08:30:00"},{id:"RI-004",residentId:"R-001",medicationName:"NovoMix 30 FlexPen",activeIngredient:"Insulinum aspartum",form:"injekcijas",batchNumber:"NOV2024-E01",expirationDate:Ve(6),quantity:1,unit:"pildspalvas",source:"bulk_transfer",sourceId:"BI-005",prescriptionId:"P-005",status:"available",minimumStock:1,lastDispenseDate:Et,createdAt:oe(4)+"T10:00:00",updatedAt:Et+"T08:35:00"},{id:"RI-005",residentId:"R-001",medicationName:"Olanzapine Accord 5 mg apvalkots tabletes",activeIngredient:"Olanzapinum",form:"tabletes",batchNumber:"OLA2024-I12",expirationDate:Ve(16),quantity:7,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-009",prescriptionId:"P-009",status:"available",minimumStock:4,lastDispenseDate:oe(1),createdAt:oe(4)+"T10:00:00",updatedAt:oe(1)+"T20:30:00"},{id:"RI-006",residentId:"R-001",medicationName:"Nateo D3 vit.cap 4000 SV",activeIngredient:"Cholecalciferolum",form:"kapsulas",batchNumber:"NAT2024-C45",expirationDate:Ve(24),quantity:2,unit:"kapsulas",source:"bulk_transfer",sourceId:"BI-003",prescriptionId:"P-003",status:"low",minimumStock:4,lastDispenseDate:oe(1),createdAt:oe(4)+"T10:00:00",updatedAt:oe(1)+"T12:30:00"},{id:"RI-007",residentId:"R-002",medicationName:"Metformin Accord 500 mg tabletes",activeIngredient:"Metforminum",form:"tabletes",batchNumber:"MET2024-J45",expirationDate:Ve(20),quantity:14,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-010",prescriptionId:"P-010",status:"available",minimumStock:8,lastDispenseDate:Et,createdAt:oe(4)+"T10:00:00",updatedAt:Et+"T08:05:00"},{id:"RI-008",residentId:"R-002",medicationName:"Lisinopril Actavis 10 mg tabletes",activeIngredient:"Lisinoprilum",form:"tabletes",batchNumber:"LIS2024-K78",expirationDate:Ve(22),quantity:6,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-011",prescriptionId:"P-011",status:"available",minimumStock:4,lastDispenseDate:Et,createdAt:oe(4)+"T10:00:00",updatedAt:Et+"T08:05:00"},{id:"RI-009",residentId:"R-002",medicationName:"Omega-3 Fish Oil kapsulas",activeIngredient:"Omega-3 fatty acids",form:"kapsulas",batchNumber:"OMG2024-X99",expirationDate:Ve(12),quantity:30,unit:"kapsulas",source:"relatives",sourceId:"ER-001",prescriptionId:null,status:"available",minimumStock:10,lastDispenseDate:null,createdAt:oe(7)+"T14:00:00",updatedAt:oe(7)+"T14:00:00"},{id:"RI-010",residentId:"R-003",medicationName:"Atorvastatin Teva 20 mg tabletes",activeIngredient:"Atorvastatinum",form:"tabletes",batchNumber:"ATO2024-L01",expirationDate:Ve(15),quantity:8,unit:"tabletes",source:"bulk_transfer",sourceId:"BI-012",prescriptionId:"P-012",status:"available",minimumStock:4,lastDispenseDate:oe(1),createdAt:oe(4)+"T10:00:00",updatedAt:oe(1)+"T21:00:00"}],Jy=[{id:"TR-001",bulkItemId:"BI-001",residentId:"R-001",residentInventoryId:"RI-001",medicationName:"L-Thyroxin Berlin-Chemie 50 mikrogramu tabletes",quantity:8,unit:"tabletes",transferredBy:"Msa Ilze",transferredAt:oe(4)+"T10:00:00",reason:"4_day_preparation",notes:"4 dienu sagatavoana"},{id:"TR-002",bulkItemId:"BI-002",residentId:"R-001",residentInventoryId:"RI-002",medicationName:"Somnols 7,5 mg apvalkots tabletes",quantity:8,unit:"tabletes",transferredBy:"Msa Ilze",transferredAt:oe(4)+"T10:05:00",reason:"4_day_preparation",notes:"4 dienu sagatavoana"},{id:"TR-003",bulkItemId:"BI-010",residentId:"R-002",residentInventoryId:"RI-007",medicationName:"Metformin Accord 500 mg tabletes",quantity:16,unit:"tabletes",transferredBy:"Msa Anna",transferredAt:oe(4)+"T10:30:00",reason:"4_day_preparation",notes:"4 dienu sagatavoana - 2x dien"},{id:"TR-004",bulkItemId:"BI-012",residentId:"R-003",residentInventoryId:"RI-010",medicationName:"Atorvastatin Teva 20 mg tabletes",quantity:8,unit:"tabletes",transferredBy:"Msa Lga",transferredAt:oe(4)+"T11:00:00",reason:"4_day_preparation",notes:"4 dienu sagatavoana"}],Qy=[{id:"ER-001",residentId:"R-002",residentInventoryId:"RI-009",medicationName:"Omega-3 Fish Oil kapsulas",activeIngredient:"Omega-3 fatty acids",form:"kapsulas",batchNumber:"OMG2024-X99",expirationDate:Ve(12),quantity:30,unit:"kapsulas",broughtBy:"Dls Jnis",relationship:"family",receivedBy:"Msa Anna",receivedAt:oe(7)+"T14:00:00",notes:"Radinieks atnesa papildus vitamnus"}],Yy=[{id:"DL-001",residentInventoryId:"RI-001",residentId:"R-001",prescriptionId:"P-001",administrationLogId:"MA-TODAY-1",quantityDispensed:1,unit:"tabletes",dispensedAt:Et+"T07:35:00",timeSlot:"morning",type:"auto_dispense",previousQuantity:9,newQuantity:8},{id:"DL-002",residentInventoryId:"RI-003",residentId:"R-001",prescriptionId:"P-004",administrationLogId:"MA-TODAY-2",quantityDispensed:1,unit:"tabletes",dispensedAt:Et+"T08:32:00",timeSlot:"morning",type:"auto_dispense",previousQuantity:6,newQuantity:5},{id:"DL-003",residentInventoryId:"RI-007",residentId:"R-002",prescriptionId:"P-010",administrationLogId:"MA-TODAY-5",quantityDispensed:1,unit:"tabletes",dispensedAt:Et+"T08:05:00",timeSlot:"morning",type:"auto_dispense",previousQuantity:15,newQuantity:14},{id:"DL-004",residentInventoryId:"RI-008",residentId:"R-002",prescriptionId:"P-011",administrationLogId:"MA-TODAY-6",quantityDispensed:1,unit:"tabletes",dispensedAt:Et+"T08:05:00",timeSlot:"morning",type:"auto_dispense",previousQuantity:7,newQuantity:6}];function Zy(){const r=[{name:"Bisoprolol Actavis 5 mg tabletes",ingredient:"Bisoprololum",form:"tabletes",unit:"tabletes",cost:.06},{name:"Amlodipine Teva 5 mg tabletes",ingredient:"Amlodipinum",form:"tabletes",unit:"tabletes",cost:.04},{name:"Furosemid Polpharma 40 mg tabletes",ingredient:"Furosemidum",form:"tabletes",unit:"tabletes",cost:.05},{name:"Pantoprazole Actavis 40 mg tabletes",ingredient:"Pantoprazolum",form:"tabletes",unit:"tabletes",cost:.08},{name:"Xarelto 20 mg tabletes",ingredient:"Rivaroxabanum",form:"tabletes",unit:"tabletes",cost:2.5}],n=r[Math.floor(Math.random()*r.length)],i=`XML${Date.now().toString(36).toUpperCase()}`;return{medicationName:n.name,activeIngredient:n.ingredient,form:n.form,batchNumber:i,expirationDate:Ve(Math.floor(Math.random()*24)+6),quantity:Math.floor(Math.random()*200)+50,unit:n.unit,unitCost:n.cost,supplier:"Recipe Plus"}}function bi(){localStorage.getItem(et.BULK_INVENTORY)||localStorage.setItem(et.BULK_INVENTORY,JSON.stringify(Hy)),localStorage.getItem(et.RESIDENT_INVENTORY)||localStorage.setItem(et.RESIDENT_INVENTORY,JSON.stringify(Wy)),localStorage.getItem(et.TRANSFERS)||localStorage.setItem(et.TRANSFERS,JSON.stringify(Jy)),localStorage.getItem(et.RECEIPTS)||localStorage.setItem(et.RECEIPTS,JSON.stringify(Qy)),localStorage.getItem(et.DISPENSE_LOG)||localStorage.setItem(et.DISPENSE_LOG,JSON.stringify(Yy))}function ji(r){const n=Date.now().toString(36),i=Math.random().toString(36).substring(2,8);return`${r}-${n}-${i}`.toUpperCase()}function _r(){bi();const r=localStorage.getItem(et.BULK_INVENTORY);return r?JSON.parse(r):[]}function kx(r){return _r().find(i=>i.id===r)||null}function Xy(r){const n=_r(),i=new Date().toISOString(),l={id:ji("BI"),medicationName:r.medicationName,activeIngredient:r.activeIngredient||"",form:r.form||"tabletes",batchNumber:r.batchNumber||"",expirationDate:r.expirationDate,quantity:r.quantity||0,unit:r.unit||"tabletes",unitCost:r.unitCost||0,receivedDate:r.receivedDate||i.split("T")[0],receivedFrom:r.receivedFrom||"manual",supplier:r.supplier||"",status:Ni(r.quantity,r.minimumStock||u0,r.expirationDate),minimumStock:r.minimumStock||u0,createdAt:i,updatedAt:i};return n.push(l),localStorage.setItem(et.BULK_INVENTORY,JSON.stringify(n)),l}function ev(r,n){const i=_r(),l=i.findIndex(c=>c.id===r);if(l===-1)return null;const u={...i[l],...n,status:Ni(n.quantity??i[l].quantity,n.minimumStock??i[l].minimumStock,n.expirationDate??i[l].expirationDate),updatedAt:new Date().toISOString()};return i[l]=u,localStorage.setItem(et.BULK_INVENTORY,JSON.stringify(i)),u}function tv(r,n){const i=kx(r);if(!i)return null;const l=Math.max(0,i.quantity+n);return ev(r,{quantity:l})}function sv(r){const n=_r();if(!r)return n;const i=r.toLowerCase();return n.filter(l=>l.medicationName.toLowerCase().includes(i)||l.activeIngredient.toLowerCase().includes(i)||l.batchNumber.toLowerCase().includes(i))}function Sx(){const r=_r(),n=new Date,i=[];return r.forEach(l=>{if(l.quantity<=l.minimumStock&&l.quantity>0&&i.push({type:"low_stock",severity:l.quantity<=l.minimumStock/2?"critical":"warning",item:l,message:`Zems krjums: ${l.medicationName} (${l.quantity} ${l.unit})`}),l.quantity===0&&i.push({type:"depleted",severity:"critical",item:l,message:`Izlietots: ${l.medicationName}`}),l.expirationDate){const u=new Date(l.expirationDate),c=Math.ceil((u-n)/(1e3*60*60*24));c<=0?i.push({type:"expired",severity:"critical",item:l,message:`Beidzies dergums: ${l.medicationName}`}):c<=Tc.EXPIRATION_CRITICAL_DAYS?i.push({type:"expiring_soon",severity:"critical",item:l,daysRemaining:c,message:`Drz beigsies dergums (${c} dienas): ${l.medicationName}`}):c<=Tc.EXPIRATION_WARNING_DAYS&&i.push({type:"expiring_soon",severity:"warning",item:l,daysRemaining:c,message:`Beigsies dergums (${c} dienas): ${l.medicationName}`})}}),i.sort((l,u)=>l.severity==="critical"&&u.severity!=="critical"?-1:l.severity!=="critical"&&u.severity==="critical"?1:0),i}function js(r=null){bi();const n=localStorage.getItem(et.RESIDENT_INVENTORY),i=n?JSON.parse(n):[];return r?i.filter(l=>l.residentId===r):i}function Cx(r){const n=js(),i=new Date().toISOString(),l={id:ji("RI"),residentId:r.residentId,medicationName:r.medicationName,activeIngredient:r.activeIngredient||"",form:r.form||"tabletes",batchNumber:r.batchNumber||"",expirationDate:r.expirationDate,quantity:r.quantity||0,unit:r.unit||"tabletes",source:r.source||"bulk_transfer",sourceId:r.sourceId||null,prescriptionId:r.prescriptionId||null,status:Ni(r.quantity,r.minimumStock||4,r.expirationDate),minimumStock:r.minimumStock||4,lastDispenseDate:null,createdAt:i,updatedAt:i};return n.push(l),localStorage.setItem(et.RESIDENT_INVENTORY,JSON.stringify(n)),l}function Ix(r,n){const i=js(),l=i.findIndex(c=>c.id===r);if(l===-1)return null;const u={...i[l],...n,status:Ni(n.quantity??i[l].quantity,n.minimumStock??i[l].minimumStock,n.expirationDate??i[l].expirationDate),updatedAt:new Date().toISOString()};return i[l]=u,localStorage.setItem(et.RESIDENT_INVENTORY,JSON.stringify(i)),u}function En(r){const n=js(r),i=new Date,l=[];return n.forEach(u=>{if(u.quantity<=u.minimumStock&&u.quantity>0&&l.push({type:"low_stock",severity:u.quantity<=2?"critical":"warning",item:u,message:`Zems krjums: ${u.medicationName} (${u.quantity} ${u.unit})`}),u.quantity===0&&l.push({type:"depleted",severity:"critical",item:u,message:`Nav krjum: ${u.medicationName}`}),u.expirationDate){const c=new Date(u.expirationDate),x=Math.ceil((c-i)/(1e3*60*60*24));x<=0?l.push({type:"expired",severity:"critical",item:u,message:`Beidzies dergums: ${u.medicationName}`}):x<=Tc.EXPIRATION_CRITICAL_DAYS&&l.push({type:"expiring_soon",severity:"critical",item:u,daysRemaining:x,message:`Drz beigsies dergums: ${u.medicationName}`})}}),l}function rv(r=null){bi();const n=localStorage.getItem(et.TRANSFERS),i=n?JSON.parse(n):[];return r?i.filter(l=>l.residentId===r):i}function av(r,n,i,l="4_day_preparation",u=""){const c=kx(r);if(!c)throw new Error("Bulk inventory item not found");if(c.quantity<i)throw new Error("Insufficient quantity in bulk inventory");const x=new Date().toISOString();let p=js(n).find(h=>h.medicationName===c.medicationName&&h.batchNumber===c.batchNumber);p?p=Ix(p.id,{quantity:p.quantity+i}):p=Cx({residentId:n,medicationName:c.medicationName,activeIngredient:c.activeIngredient,form:c.form,batchNumber:c.batchNumber,expirationDate:c.expirationDate,quantity:i,unit:c.unit,source:"bulk_transfer",sourceId:r,prescriptionId:null,minimumStock:4}),tv(r,-i);const g=rv(),f={id:ji("TR"),bulkItemId:r,residentId:n,residentInventoryId:p.id,medicationName:c.medicationName,quantity:i,unit:c.unit,transferredBy:vi,transferredAt:x,reason:l,notes:u};return g.push(f),localStorage.setItem(et.TRANSFERS,JSON.stringify(g)),{transfer:f,residentItem:p}}function nv(r=null){bi();const n=localStorage.getItem(et.RECEIPTS),i=n?JSON.parse(n):[];return r?i.filter(l=>l.residentId===r):i}function lv(r,n){const i=new Date().toISOString(),l=Cx({residentId:r,medicationName:n.medicationName,activeIngredient:n.activeIngredient||"",form:n.form||"tabletes",batchNumber:n.batchNumber||"",expirationDate:n.expirationDate,quantity:n.quantity,unit:n.unit||"tabletes",source:"relatives",sourceId:null,prescriptionId:n.prescriptionId||null,minimumStock:4}),u=nv(),c={id:ji("ER"),residentId:r,residentInventoryId:l.id,medicationName:n.medicationName,activeIngredient:n.activeIngredient||"",form:n.form||"tabletes",batchNumber:n.batchNumber||"",expirationDate:n.expirationDate,quantity:n.quantity,unit:n.unit||"tabletes",broughtBy:n.broughtBy||"",relationship:n.relationship||"family",receivedBy:vi,receivedAt:i,notes:n.notes||""};return u.push(c),localStorage.setItem(et.RECEIPTS,JSON.stringify(u)),Ix(l.id,{sourceId:c.id}),{receipt:c,residentItem:l}}function Ni(r,n,i){if(r===0)return"depleted";if(i){const l=new Date;if(new Date(i)<=l)return"expired"}return r<=n?"low":"available"}function iv(){const r=_r(),n=js(),i=Sx();return{bulk:{totalItems:r.length,totalQuantity:r.reduce((l,u)=>l+u.quantity,0),lowStockCount:r.filter(l=>l.status==="low").length,depletedCount:r.filter(l=>l.status==="depleted").length,expiringCount:i.filter(l=>l.type==="expiring_soon").length,expiredCount:i.filter(l=>l.type==="expired").length},resident:{totalItems:n.length,residentsWithInventory:[...new Set(n.map(l=>l.residentId))].length},alerts:{total:i.length,critical:i.filter(l=>l.severity==="critical").length,warning:i.filter(l=>l.severity==="warning").length}}}function Ac(r){const n=js(r),i=En(r);return{totalItems:n.length,totalQuantity:n.reduce((l,u)=>l+u.quantity,0),lowStockCount:n.filter(l=>l.status==="low").length,depletedCount:n.filter(l=>l.status==="depleted").length,fromBulk:n.filter(l=>l.source==="bulk_transfer").length,fromRelatives:n.filter(l=>l.source==="relatives").length,alerts:i.length}}const ov=[{id:"R-001",firstName:"Jnis",lastName:"Brzi",birthDate:"1945-03-15",personalCode:"150345-12345",roomNumber:"205",careLevel:"3",photo:null,allergies:["Penicilns","Aspirns"],vitals:{temperature:36.5,bloodPressure:"120/80",pulse:72,oxygen:98,weight:75.5,bloodSugar:5.8,measuredAt:"2025-01-07T08:30:00"}},{id:"R-002",firstName:"Anna",lastName:"Kalnia",birthDate:"1938-08-22",personalCode:"220838-23456",roomNumber:"103",careLevel:"2",photo:null,allergies:["Ibuprofns"],vitals:{temperature:36.8,bloodPressure:"135/85",pulse:78,oxygen:96,weight:62,bloodSugar:6.2,measuredAt:"2025-01-07T08:15:00"}},{id:"R-003",firstName:"Pteris",lastName:"Ozols",birthDate:"1942-11-05",personalCode:"051142-34567",roomNumber:"312",careLevel:"4",photo:null,allergies:[],vitals:{temperature:36.4,bloodPressure:"128/82",pulse:68,oxygen:97,weight:82.3,bloodSugar:5.4,measuredAt:"2025-01-07T07:45:00"}}],ri=[{id:"P-001",residentId:"R-001",medicationName:"L-Thyroxin Berlin-Chemie 50 mikrogramu tabletes",activeIngredient:"Levothyroxinum natricum",form:"tabletes",prescribedDate:"2022-05-16",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:"07:30",dose:"50.0",unit:"mcg",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:null,conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-002",residentId:"R-001",medicationName:"Somnols 7,5 mg apvalkots tabletes",activeIngredient:"Zopiclonum",form:"tabletes",prescribedDate:"2022-05-16",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:"21:00",dose:"3.75",unit:"mg",enabled:!0}},instructions:"1/2 tab.",conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-003",residentId:"R-001",medicationName:"Nateo D3 vit.cap 4000 SV",activeIngredient:"Cholecalciferolum",form:"kapsulas",prescribedDate:"2022-05-16",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:"12:30",dose:"1.0",unit:"piece",enabled:!0},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:"Pievienot Omega-3; Perfectil.",conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-004",residentId:"R-001",medicationName:"Verospiron 25 mg tabletes",activeIngredient:"Spironolactonum",form:"tabletes",prescribedDate:"2023-03-23",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:"08:30",dose:"25.0",unit:"mg",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:null,conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-005",residentId:"R-001",medicationName:"NovoMix 30 FlexPen",activeIngredient:"Insulinum aspartum",form:"injekcijas",prescribedDate:"2023-07-15",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:"08:30",dose:"8.0",unit:"U",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:"18:00",dose:"6.0",unit:"U",enabled:!0},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:null,conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-006",residentId:"R-001",medicationName:"Paracetamol Accord 500 mg tabletes",activeIngredient:"Paracetamolum",form:"tabletes",prescribedDate:"2023-12-04",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:"pie spm vai ja t>37,5C",conditional:!0,conditionText:"pie spm vai ja t>37,5C",frequency:"as_needed",specificDays:[],status:"active",notes:""},{id:"P-007",residentId:"R-001",medicationName:"Torasemid HEXAL 50 mg tabletes",activeIngredient:"Torasemidum",form:"tabletes",prescribedDate:"2022-05-16",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:"08:00",dose:"50.0",unit:"mg",enabled:!0},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:"1/2 tab. lietot otrdien un sestdien, bet ceturtdien 50mg. No 16.09. pa 50 mg 3x ned.",conditional:!1,conditionText:null,frequency:"specific_days",specificDays:["tuesday","thursday","saturday"],status:"active",notes:""},{id:"P-008",residentId:"R-001",medicationName:"Regulax Picosulphate 7,23 mg/ml pilieni iekgai lietoanai, dums",activeIngredient:"Natrii picosulfas",form:"pilieni",prescribedDate:"2024-03-18",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:"08:30",dose:"5.0",unit:"ml",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:"pa 5 pil 3x ned- pirmd., tred., piektdien.",conditional:!1,conditionText:null,frequency:"specific_days",specificDays:["monday","wednesday","friday"],status:"active",notes:""},{id:"P-009",residentId:"R-001",medicationName:"Olanzapine Accord 5 mg apvalkots tabletes",activeIngredient:"Olanzapinum",form:"tabletes",prescribedDate:"2022-05-16",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:"20:30",dose:"2.5",unit:"mg",enabled:!0}},instructions:"no 15.05.2023. - 2.5mg. No 16.09.2023 5 mg (Korole).No 01.09.2024 pa 2.5 mg uz nakti (Korole)",conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-010",residentId:"R-002",medicationName:"Metformin Accord 500 mg tabletes",activeIngredient:"Metforminum",form:"tabletes",prescribedDate:"2023-01-10",prescribedBy:"Dr. Liepi",validUntil:null,schedule:{morning:{time:"08:00",dose:"500",unit:"mg",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:"18:00",dose:"500",unit:"mg",enabled:!0},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:"Lietot kop ar dienu",conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-011",residentId:"R-002",medicationName:"Lisinopril Actavis 10 mg tabletes",activeIngredient:"Lisinoprilum",form:"tabletes",prescribedDate:"2023-01-10",prescribedBy:"Dr. Liepi",validUntil:null,schedule:{morning:{time:"08:00",dose:"10",unit:"mg",enabled:!0},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:null,conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""},{id:"P-012",residentId:"R-003",medicationName:"Atorvastatin Teva 20 mg tabletes",activeIngredient:"Atorvastatinum",form:"tabletes",prescribedDate:"2024-06-01",prescribedBy:"Dr. Kalnia",validUntil:null,schedule:{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:"21:00",dose:"20",unit:"mg",enabled:!0}},instructions:null,conditional:!1,conditionText:null,frequency:"daily",specificDays:[],status:"active",notes:""}],Dx=new Date,rs=Dx.toISOString().split("T")[0],Da=["Msa Ilze","Msa Anna","Gints Fricbergs","Msa Lga"],Wl=["Rezidents atteics bez paskaidrojuma","Rezidents gulja","Rezidents nejuts labi","Rezidents atstja telpas"];function cv(r){const n=new Date(Dx);return n.setDate(n.getDate()-r),n.toISOString().split("T")[0]}function dv(r){return new Date(r).getDay()}function wc(r,n){if(r.frequency==="daily")return!0;if(r.frequency==="as_needed")return!1;if(r.frequency==="specific_days"){const i=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l=dv(n);return r.specificDays.includes(i[l])}return!0}function uv(){const r=[];let n=1;for(let l=13;l>=1;l--){const u=cv(l);ri.filter(c=>c.residentId==="R-001"&&c.status==="active").forEach(c=>{wc(c,u)&&["morning","noon","evening","night"].forEach(x=>{var p;if((p=c.schedule[x])!=null&&p.enabled){const g=Math.random()<.05,f=Da[Math.floor(Math.random()*Da.length)];r.push({id:`MA-HIST-${n++}`,prescriptionId:c.id,residentId:"R-001",date:u,timeSlot:x,status:g?"refused":"given",refusalReason:g?Wl[Math.floor(Math.random()*Wl.length)]:null,administeredBy:f,administeredAt:`${u}T${c.schedule[x].time}:00`,notes:g?"Minsim vlk":""})}})}),ri.filter(c=>c.residentId==="R-002"&&c.status==="active").forEach(c=>{wc(c,u)&&["morning","noon","evening","night"].forEach(x=>{var p;if((p=c.schedule[x])!=null&&p.enabled){const g=Math.random()<.03,f=Da[Math.floor(Math.random()*Da.length)];r.push({id:`MA-HIST-${n++}`,prescriptionId:c.id,residentId:"R-002",date:u,timeSlot:x,status:g?"refused":"given",refusalReason:g?Wl[Math.floor(Math.random()*Wl.length)]:null,administeredBy:f,administeredAt:`${u}T${c.schedule[x].time}:00`,notes:""})}})}),ri.filter(c=>c.residentId==="R-003"&&c.status==="active").forEach(c=>{wc(c,u)&&["morning","noon","evening","night"].forEach(x=>{var p;if((p=c.schedule[x])!=null&&p.enabled){const g=Da[Math.floor(Math.random()*Da.length)];r.push({id:`MA-HIST-${n++}`,prescriptionId:c.id,residentId:"R-003",date:u,timeSlot:x,status:"given",refusalReason:null,administeredBy:g,administeredAt:`${u}T${c.schedule[x].time}:00`,notes:""})}})})}const i=[{id:"MA-TODAY-1",prescriptionId:"P-001",residentId:"R-001",date:rs,timeSlot:"morning",status:"given",refusalReason:null,administeredBy:"Gints Fricbergs",administeredAt:`${rs}T07:35:00`,notes:""},{id:"MA-TODAY-2",prescriptionId:"P-004",residentId:"R-001",date:rs,timeSlot:"morning",status:"given",refusalReason:null,administeredBy:"Gints Fricbergs",administeredAt:`${rs}T08:32:00`,notes:""},{id:"MA-TODAY-3",prescriptionId:"P-005",residentId:"R-001",date:rs,timeSlot:"morning",status:"given",refusalReason:null,administeredBy:"Gints Fricbergs",administeredAt:`${rs}T08:35:00`,notes:""},{id:"MA-TODAY-4",prescriptionId:"P-008",residentId:"R-001",date:rs,timeSlot:"morning",status:"refused",refusalReason:"Rezidents atteics bez paskaidrojuma",administeredBy:"Gints Fricbergs",administeredAt:`${rs}T08:40:00`,notes:"Minsim vlreiz pusdiens"},{id:"MA-TODAY-5",prescriptionId:"P-010",residentId:"R-002",date:rs,timeSlot:"morning",status:"given",refusalReason:null,administeredBy:"Msa Anna",administeredAt:`${rs}T08:05:00`,notes:""},{id:"MA-TODAY-6",prescriptionId:"P-011",residentId:"R-002",date:rs,timeSlot:"morning",status:"given",refusalReason:null,administeredBy:"Msa Anna",administeredAt:`${rs}T08:05:00`,notes:""}];return[...r,...i]}const mv=uv();let kc=null;function xv(){if(!kc)try{kc=require("./inventoryScheduler").processAdministrationEvent}catch{console.log("[PrescriptionHelpers] Inventory scheduler not loaded")}return kc}const Pc="adorable-prescription-residents",Zr="adorable-prescriptions",ci="adorable-administration-logs";function md(){localStorage.getItem(Pc)||localStorage.setItem(Pc,JSON.stringify(ov)),localStorage.getItem(Zr)||localStorage.setItem(Zr,JSON.stringify(ri)),localStorage.getItem(ci)||localStorage.setItem(ci,JSON.stringify(mv))}function Ex(r){const n=Date.now().toString(36),i=Math.random().toString(36).substr(2,5);return`${r}-${n}-${i}`.toUpperCase()}function gv(){md();const r=localStorage.getItem(Pc);return r?JSON.parse(r):[]}function ra(){md();const r=localStorage.getItem(Zr);return r?JSON.parse(r):[]}function pv(r){return ra().filter(i=>i.residentId===r)}function di(r){return pv(r).filter(i=>i.status==="active")}function hv(r){return ra().find(i=>i.id===r)||null}function fv(r){const n=ra(),i={id:Ex("P"),residentId:r.residentId,medicationName:r.medicationName||"",activeIngredient:r.activeIngredient||"",form:r.form||"tabletes",prescribedDate:r.prescribedDate||new Date().toISOString().split("T")[0],prescribedBy:r.prescribedBy||"",validUntil:r.validUntil||null,schedule:r.schedule||{morning:{time:null,dose:null,unit:null,enabled:!1},noon:{time:null,dose:null,unit:null,enabled:!1},evening:{time:null,dose:null,unit:null,enabled:!1},night:{time:null,dose:null,unit:null,enabled:!1}},instructions:r.instructions||null,conditional:r.conditional||!1,conditionText:r.conditionText||null,frequency:r.frequency||"daily",specificDays:r.specificDays||[],status:"active",notes:r.notes||"",createdAt:new Date().toISOString()};return n.push(i),localStorage.setItem(Zr,JSON.stringify(n)),i}function yv(r,n){const i=ra(),l=i.findIndex(u=>u.id===r);return l!==-1?(i[l]={...i[l],...n,updatedAt:new Date().toISOString()},localStorage.setItem(Zr,JSON.stringify(i)),i[l]):null}function vv(r,n,i=""){const l=ra(),u=l.findIndex(c=>c.id===r);return u!==-1?(l[u]={...l[u],status:"paused",pausedAt:new Date().toISOString(),pausedUntil:n,pauseReason:i,updatedAt:new Date().toISOString()},localStorage.setItem(Zr,JSON.stringify(l)),l[u]):null}function bv(r,n=""){const i=ra(),l=i.findIndex(u=>u.id===r);return l!==-1?(i[l]={...i[l],status:"discontinued",discontinuedAt:new Date().toISOString(),discontinuedReason:n,updatedAt:new Date().toISOString()},localStorage.setItem(Zr,JSON.stringify(i)),i[l]):null}function On(){md();const r=localStorage.getItem(ci);return r?JSON.parse(r):[]}function jv(r,n,i,l,u,c,x,p,g=""){const f=On(),h=new Date().toISOString().split("T")[0],N=f.findIndex(v=>v.prescriptionId===r&&v.date===h&&v.timeSlot===i),I={id:N!==-1?f[N].id:Ex("MA"),prescriptionId:r,residentId:n,date:h,timeSlot:i,status:l,originalDose:u,actualDose:c,adjustmentReason:x,administeredBy:p,administeredAt:new Date().toISOString(),notes:g};N!==-1?f[N]=I:f.push(I),localStorage.setItem(ci,JSON.stringify(f));const D=xv();if(D)try{D(I)}catch(v){console.warn("[PrescriptionHelpers] Inventory update failed:",v)}return I}function _x(r,n=null){const i=n||new Date().toISOString().split("T")[0],l=hv(r),u=On().filter(x=>x.prescriptionId===r&&x.date===i);if(!l)return null;const c={};return Object.keys(l.schedule).forEach(x=>{var p;if((p=l.schedule[x])!=null&&p.enabled){const g=u.find(f=>f.timeSlot===x);c[x]=g?g.status:"pending"}}),c}function Nv(r=new Date){const n=new Date(r),i=n.getDay(),l=i===0?-6:1-i,u=new Date(n);u.setDate(n.getDate()+l);const c=[];for(let x=0;x<7;x++){const p=new Date(u);p.setDate(u.getDate()+x),c.push(p.toISOString().split("T")[0])}return c}const wv=["P","O","T","C","Pk","S","Sv"];function Rx(r,n,i){var h;const l=new Date().toISOString().split("T")[0],u=new Date(n),c=new Date(l);if(r.frequency==="specific_days"&&((h=r.specificDays)==null?void 0:h.length)>0){const N=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],I=u.getDay();if(!r.specificDays.includes(N[I]))return"not_scheduled"}const x=["morning","noon","evening","night"].filter(N=>{var I;return(I=r.schedule[N])==null?void 0:I.enabled});if(x.length===0)return"not_scheduled";if(u>c)return"future";const p=i.filter(N=>N.prescriptionId===r.id&&N.date===n);let g=0,f=0;return x.forEach(N=>{const I=p.find(D=>D.timeSlot===N);(I==null?void 0:I.status)==="given"?g++:(I==null?void 0:I.status)==="refused"&&f++}),f>0?"refused":g===x.length?"complete":g>0?"partial":"pending"}function kv(r,n={}){const{dateFrom:i,dateTo:l,status:u,medicationId:c,searchQuery:x}=n;let p=On().filter(I=>I.residentId===r);i&&(p=p.filter(I=>I.date>=i)),l&&(p=p.filter(I=>I.date<=l)),u&&u!=="all"&&(p=p.filter(I=>I.status===u)),c&&(p=p.filter(I=>I.prescriptionId===c));const g=ra(),f=p.map(I=>{var v,k;const D=g.find(b=>b.id===I.prescriptionId);return{...I,medicationName:(D==null?void 0:D.medicationName)||"Nezinms medikaments",dose:((v=D==null?void 0:D.schedule[I.timeSlot])==null?void 0:v.dose)||"",unit:((k=D==null?void 0:D.schedule[I.timeSlot])==null?void 0:k.unit)||""}});let h=f;if(x&&x.trim()){const I=x.toLowerCase();h=f.filter(D=>D.medicationName.toLowerCase().includes(I))}const N={morning:0,noon:1,evening:2,night:3};return h.sort((I,D)=>{const v=D.date.localeCompare(I.date);return v!==0?v:N[I.timeSlot]-N[D.timeSlot]}),h}function Sv(r){const n=new Date,i=n.toISOString().split("T")[0];switch(r){case"7days":{const l=new Date(n);return l.setDate(l.getDate()-7),{dateFrom:l.toISOString().split("T")[0],dateTo:i}}case"30days":{const l=new Date(n);return l.setDate(l.getDate()-30),{dateFrom:l.toISOString().split("T")[0],dateTo:i}}case"90days":{const l=new Date(n);return l.setDate(l.getDate()-90),{dateFrom:l.toISOString().split("T")[0],dateTo:i}}default:return{dateFrom:null,dateTo:i}}}function Cv({onSelectResident:r,onBack:n}){const[i,l]=y.useState([]),[u,c]=y.useState(""),[x,p]=y.useState("all"),[g,f]=y.useState("all");y.useEffect(()=>{const b=Lf();l(b)},[]);const h=b=>{if(!b)return null;const C=parseInt(b.charAt(0));return isNaN(C)?null:C},N=b=>{const C=h(b.roomNumber);return C?t0[C]||"regular":"unknown"},I=y.useMemo(()=>{const b=new Set,C=new Set;return i.forEach(w=>{const E=h(w.roomNumber);E&&(b.add(E),C.add(t0[E]||"regular"))}),{floors:Array.from(b).sort((w,E)=>w-E),departments:Array.from(C)}},[i]),D=i.filter(b=>{var C,w;if(u){const E=u.toLowerCase();if(!(`${b.firstName} ${b.lastName}`.toLowerCase().includes(E)||((C=b.roomNumber)==null?void 0:C.toLowerCase().includes(E))||((w=b.personalCode)==null?void 0:w.includes(E))))return!1}return!(x!=="all"&&h(b.roomNumber)!==parseInt(x)||g!=="all"&&N(b)!==g)}),v=b=>{if(!b)return null;const C=new Date,w=new Date(b);let E=C.getFullYear()-w.getFullYear();const S=C.getMonth()-w.getMonth();return(S<0||S===0&&C.getDate()<w.getDate())&&E--,E},k=b=>{const C=di(b),w=js(b);return{prescriptionCount:(C==null?void 0:C.length)||0,inventoryCount:(w==null?void 0:w.length)||0}};return e.jsxs(Ye,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rezidenti"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Izvlieties rezidentu, lai skattu profilu, ordincijas vai noliktavu"})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ln,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:u,onChange:b=>c(b.target.value),placeholder:"Meklt rezidentu pc vrda, istabas vai personas koda...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})}),e.jsxs("div",{className:"mb-6 space-y-3",children:[I.floors.length>0&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(cy,{className:"w-4 h-4"}),"Stvs:"]}),e.jsx("button",{onClick:()=>p("all"),className:`px-3 py-1 text-sm rounded-full transition-colors ${x==="all"?"bg-orange-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Visi"}),I.floors.map(b=>e.jsxs("button",{onClick:()=>p(b.toString()),className:`px-3 py-1 text-sm rounded-full transition-colors ${x===b.toString()?"bg-orange-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[b,". stvs"]},b))]}),I.departments.length>0&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(Ea,{className:"w-4 h-4"}),"Nodaa:"]}),e.jsx("button",{onClick:()=>f("all"),className:`px-3 py-1 text-sm rounded-full transition-colors ${g==="all"?"bg-orange-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Visas"}),I.departments.map(b=>{var C;return e.jsx("button",{onClick:()=>f(b),className:`px-3 py-1 text-sm rounded-full transition-colors ${g===b?b==="dementia"?"bg-purple-500 text-white":"bg-orange-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:((C=Dc[b])==null?void 0:C.label)||b},b)})]})]}),e.jsxs("div",{className:"mb-6 flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:[D.length," rezidenti"]}),(x!=="all"||g!=="all")&&e.jsx("button",{onClick:()=>{p("all"),f("all")},className:"text-orange-600 hover:text-orange-700 underline",children:"Notrt filtrus"})]}),e.jsx("div",{className:"space-y-3",children:D.length===0?e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:u||x!=="all"||g!=="all"?"Nav atrasti rezidenti ar iem kritrijiem":"Nav pievienotu rezidentu"}):D.map(b=>{var E,S;const C=v(b.birthDate),w=b.allergies&&b.allergies.length>0;return k(b.id),e.jsx("button",{onClick:()=>r(b),className:"w-full bg-white border border-gray-200 rounded-lg p-4 hover:border-orange-300 hover:shadow-md transition-all text-left group",children:e.jsxs("div",{className:"flex items-center gap-4",children:[b.photo?e.jsx("img",{src:b.photo,alt:`${b.firstName} ${b.lastName}`,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0 border-2 border-gray-200"}):e.jsxs("div",{className:"w-16 h-16 rounded-lg bg-orange-100 flex items-center justify-center text-orange-600 text-xl font-bold flex-shrink-0",children:[(E=b.firstName)==null?void 0:E[0],(S=b.lastName)==null?void 0:S[0]]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-gray-900",children:[b.firstName," ",b.lastName]}),w&&e.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-xs rounded-full",children:"Alerijas"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-500 mt-1",children:[e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(Pn,{className:"w-3.5 h-3.5"}),"Istaba ",b.roomNumber]}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(ta,{className:"w-3.5 h-3.5"}),b.careLevel]}),C&&e.jsxs("span",{children:[C," gadi"]})]}),b.contactPersons&&b.contactPersons.length>0&&b.contactPersons[0].phone&&e.jsxs("a",{href:`tel:${b.contactPersons[0].phone}`,onClick:R=>R.stopPropagation(),className:"inline-flex items-center gap-1.5 text-sm text-green-700 hover:text-green-800 mt-1",children:[e.jsx(er,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:b.contactPersons[0].name}),b.contactPersons[0].relationship&&e.jsxs("span",{className:"text-green-600",children:["(",b.contactPersons[0].relationship,")"]}),e.jsx("span",{className:"font-medium",children:b.contactPersons[0].phone})]})]}),e.jsx(_a,{className:"w-5 h-5 text-gray-400 group-hover:text-orange-500 transition-colors"})]})},b.id)})}),e.jsx("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded",children:e.jsx(Wt,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Demo rems"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"is ir prototips ar demonstrcijas datiem. Relaj sistm rezidenti tiktu ieldti no datubzes."})]})]})})]})}function Iv({schedule:r,status:n,onRefuse:i}){if(!(r!=null&&r.enabled))return e.jsx("td",{className:"px-2 py-3 text-center text-gray-300",children:""});const{time:l,dose:u,unit:c}=r,x=()=>{const f="inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium";switch(n){case"given":return`${f} bg-teal-500 text-white`;case"increased":return`${f} bg-blue-500 text-white`;case"decreased":return`${f} bg-yellow-500 text-white`;case"refused":return`${f} bg-red-500 text-white`;case"skipped":return`${f} bg-gray-400 text-white`;case"pending":default:return`${f} bg-cyan-500 text-white`}},p=()=>n==="given"?e.jsx(mt,{className:"w-3.5 h-3.5"}):n==="increased"?e.jsx(id,{className:"w-3.5 h-3.5"}):n==="decreased"?e.jsx(ld,{className:"w-3.5 h-3.5"}):n==="refused"||n==="skipped"?e.jsx(Te,{className:"w-3.5 h-3.5"}):null,g=["given","increased","decreased","refused","skipped"].includes(n);return e.jsx("td",{className:"px-2 py-3 text-center",children:e.jsxs("div",{className:x(),children:[e.jsx(p,{}),e.jsx("span",{children:l}),e.jsxs("span",{className:"font-bold",children:[u," ",c]}),!g&&e.jsx("button",{onClick:f=>{f.stopPropagation(),i()},className:"ml-1.5 p-1 rounded-full bg-white hover:bg-orange-50 transition-colors",title:"Devas darbba",children:e.jsx(Te,{className:"w-3.5 h-3.5 text-orange-500"})})]})})}const Ta={morning:{key:"morning",label:"Rts",defaultTime:"08:00",order:1},noon:{key:"noon",label:"Diena",defaultTime:"12:00",order:2},evening:{key:"evening",label:"Vakars",defaultTime:"18:00",order:3},night:{key:"night",label:"Nakts",defaultTime:"21:00",order:4}},Oa=["morning","noon","evening","night"],Tx=[{value:"mg",label:"mg"},{value:"mcg",label:"mcg"},{value:"ml",label:"ml"},{value:"U",label:"U (vienbas)"},{value:"piece",label:"gab."},{value:"tab",label:"tab."},{value:"caps",label:"kaps."},{value:"drops",label:"pilieni"}],Dv=[{value:"tabletes",label:"Tabletes"},{value:"kapsulas",label:"Kapsulas"},{value:"skidrums",label:"dums"},{value:"injekcijas",label:"Injekcijas"},{value:"pilieni",label:"Pilieni"},{value:"ziede",label:"Ziede"},{value:"aerosols",label:"Aerosols"},{value:"plastiris",label:"Plkstiris"},{value:"cits",label:"Cits"}],Ev=[{value:"daily",label:"Katru dienu"},{value:"specific_days",label:"Noteikts diens"},{value:"as_needed",label:"Pc nepiecieambas"}],_v=[{value:"monday",label:"Pirmdiena",short:"P"},{value:"tuesday",label:"Otrdiena",short:"O"},{value:"wednesday",label:"Trediena",short:"T"},{value:"thursday",label:"Ceturtdiena",short:"C"},{value:"friday",label:"Piektdiena",short:"Pk"},{value:"saturday",label:"Sestdiena",short:"S"},{value:"sunday",label:"Svtdiena",short:"Sv"}],Rv=["rsta nordjums","Rezidenta stvoka izmaias","Rezidents ldza mazk","Rezidents ldza vairk","Blakuspardbas novrotas","Nav pietiekami medikamentu","Cits iemesls"];function Tv({prescription:r,administrationStatus:n,onRefuse:i,onEdit:l,onCancel:u}){const c=p=>p?new Date(p).toLocaleDateString("lv-LV",{year:"numeric",month:"long",day:"numeric"}):"",x=()=>{var p;if(r.frequency==="daily")return"Katru dienu";if(r.frequency==="as_needed")return"Pc nepiecieambas";if(r.frequency==="specific_days"&&((p=r.specificDays)!=null&&p.length)){const g={monday:"P",tuesday:"O",wednesday:"T",thursday:"C",friday:"Pk",saturday:"S",sunday:"Sv"};return r.specificDays.map(f=>g[f]).join(", ")}return""};return e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:r.medicationName}),r.activeIngredient&&e.jsx("div",{className:"text-sm text-gray-500",children:r.activeIngredient}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[r.frequency==="daily"?"Katru dienu":x(),", ",c(r.prescribedDate),r.validUntil&&`  ${c(r.validUntil)}`,!r.validUntil&&"  ldz im brdim",r.prescribedBy&&e.jsxs("span",{className:"ml-2 text-gray-500",children:[" ",r.prescribedBy]})]}),r.instructions&&e.jsx("div",{className:"text-sm text-orange-600 italic mt-1",children:r.instructions}),r.conditional&&r.conditionText&&e.jsx("div",{className:"text-sm text-orange-600 italic mt-1",children:r.conditionText})]})}),Oa.map(p=>e.jsx(Iv,{schedule:r.schedule[p],status:(n==null?void 0:n[p])||"pending",onRefuse:()=>i(r,p)},p)),(l||u)&&e.jsx("td",{className:"px-3 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l&&e.jsx("button",{onClick:()=>l(r),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Labot ordinciju",children:e.jsx(Rc,{className:"w-4 h-4"})}),u&&e.jsx("button",{onClick:()=>u(r),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Atcelt zles",children:e.jsx(Xf,{className:"w-4 h-4"})})]})})]})}function Av({prescription:r}){const n=i=>i?new Date(i).toLocaleDateString("lv-LV"):"";return e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsxs("td",{className:"px-3 py-2 border border-gray-200",children:[e.jsx("div",{className:"font-medium",children:r.medicationName}),r.activeIngredient&&e.jsx("div",{className:"text-sm text-gray-600",children:r.activeIngredient}),e.jsxs("div",{className:"text-xs text-gray-500",children:[n(r.prescribedDate),"  ldz im brdim"]}),r.instructions&&e.jsx("div",{className:"text-sm text-red-600 italic",children:r.instructions})]}),Oa.map(i=>{const l=r.schedule[i];return l!=null&&l.enabled?e.jsx("td",{className:"px-2 py-2 text-center border border-gray-200",children:e.jsxs("div",{className:"inline-flex flex-col items-center bg-cyan-500 text-white px-2 py-1 rounded text-sm",children:[e.jsx("span",{className:"text-xs",children:l.time}),e.jsxs("span",{className:"font-bold",children:[l.dose," ",l.unit]})]})},i):e.jsx("td",{className:"px-2 py-2 text-center border border-gray-200 text-gray-300",children:""},i)})]})}function Pv({prescriptions:r,onRefuse:n,onEdit:i,onCancel:l}){return!r||r.length===0?e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:"Nav aktvu ordinciju"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-600 min-w-[350px]",children:"Preparta ordinana"}),Oa.map(u=>e.jsx("th",{className:"px-3 py-3 text-center text-sm font-medium text-gray-600 w-32",children:Ta[u].label},u)),(i||l)&&e.jsx("th",{className:"px-3 py-3 text-center text-sm font-medium text-gray-600 w-20",children:"Darbbas"})]})}),e.jsx("tbody",{children:r.map(u=>{const c=_x(u.id);return e.jsx(Tv,{prescription:u,administrationStatus:c,onRefuse:n,onEdit:i,onCancel:l},u.id)})})]})})}function zv({prescriptions:r}){return!r||r.length===0?e.jsx("div",{className:"text-gray-500 text-center py-4",children:"Nav aktvu ordinciju"}):e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold border border-gray-300 min-w-[250px]",children:"Preparta ordinana"}),Oa.map(n=>e.jsx("th",{className:"px-2 py-2 text-center text-sm font-semibold border border-gray-300 w-24",children:Ta[n].label},n))]})}),e.jsx("tbody",{children:r.map(n=>e.jsx(Av,{prescription:n},n.id))})]})}function Lv({prescriptions:r,onRefuse:n}){return!r||r.length===0?e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:"Nav aktvu ordinciju"}):e.jsx("div",{className:"space-y-4",children:r.map(i=>{const l=_x(i.id);return e.jsx(Mv,{prescription:i,administrationStatus:l,onRefuse:n},i.id)})})}function Mv({prescription:r,administrationStatus:n,onRefuse:i}){const l=x=>x?new Date(x).toLocaleDateString("lv-LV"):"",u=x=>{switch(x){case"given":return"bg-teal-500 text-white";case"refused":return"bg-red-500 text-white";case"skipped":return"bg-gray-400 text-white";default:return"bg-cyan-500 text-white"}},c=x=>x==="given"?" ":x==="refused"?" ":"";return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:r.medicationName}),r.activeIngredient&&e.jsx("div",{className:"text-sm text-gray-500",children:r.activeIngredient})]}),e.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Katru dienu, ",l(r.prescribedDate),"  ldz im brdim"]}),r.instructions&&e.jsx("div",{className:"text-sm text-orange-600 italic mb-3",children:r.instructions}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Oa.map(x=>{const p=r.schedule[x];if(!(p!=null&&p.enabled))return null;const g=(n==null?void 0:n[x])||"pending";return e.jsxs("div",{className:`px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-1 ${u(g)}`,children:[c(g),p.time," ",p.dose," ",p.unit,g!=="refused"&&e.jsx("button",{onClick:()=>i(r,x),className:"ml-1.5 p-1 rounded-full bg-white active:bg-red-50",title:"Atzmt atteikumu",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},x)})})]})}function Ov({allergies:r}){return!r||r.length===0?null:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-3",children:[e.jsx(ut,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-red-800",children:"Alerijas: "}),e.jsx("span",{className:"text-red-700",children:r.join(", ")})]})]})}function $v({allergies:r}){return!r||r.length===0?e.jsx("div",{className:"text-gray-500 text-sm",children:"Nav zinmu aleriju"}):e.jsxs("div",{className:"bg-red-100 border-2 border-red-500 rounded px-3 py-2",children:[e.jsx("span",{className:"font-bold text-red-800",children:"ALERIJAS: "}),e.jsx("span",{className:"text-red-700 font-semibold",children:r.join(", ")})]})}function Bv({vitals:r}){if(!r)return null;const n=[{label:"T",value:r.temperature,unit:"C"},{label:"AS",value:r.bloodPressure,unit:""},{label:"P",value:r.pulse,unit:""},{label:"SpO2",value:r.oxygen,unit:"%"},{label:"Svars",value:r.weight,unit:"kg"}];return r.bloodSugar&&n.push({label:"Cukurs",value:r.bloodSugar,unit:"mmol/L"}),e.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm",children:n.map((i,l)=>e.jsxs("span",{children:[e.jsxs("span",{className:"font-medium",children:[i.label,":"]})," ",i.value!==void 0?`${i.value}${i.unit}`:""]},l))})}function Vv({resident:r,onBack:n}){var p;const i=r?di(r.id):[],l=g=>g?new Date(g).toLocaleDateString("lv-LV"):"",u=()=>new Date().toLocaleDateString("lv-LV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=g=>{if(!g)return"";const f=new Date,h=new Date(g);let N=f.getFullYear()-h.getFullYear();const I=f.getMonth()-h.getMonth();return(I<0||I===0&&f.getDate()<h.getDate())&&N--,N},x=()=>{window.print()};return y.useEffect(()=>{const g=setTimeout(()=>{},100);return()=>clearTimeout(g)},[]),r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"print:hidden bg-gray-100 border-b border-gray-200 px-4 py-3 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[e.jsxs("button",{onClick:n,className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(Dr,{className:"w-4 h-4 mr-2"}),"Atpaka"]}),e.jsxs("button",{onClick:x,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(La,{className:"w-4 h-4"}),"Printt"]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto p-8 print:p-4 print:max-w-none bg-white",children:[e.jsx("div",{className:"border-b-2 border-gray-800 pb-4 mb-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ORDINCIJAS PLNS"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Neatliekams medicnisks paldzbas vajadzbm"})]}),e.jsxs("div",{className:"text-right text-sm text-gray-600",children:[e.jsxs("div",{children:["Izdrukts: ",u()]}),e.jsx("div",{className:"font-semibold text-gray-900 mt-1",children:"ADORO Rezidence"})]})]})}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200 print:bg-white",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Rezidents"}),e.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[r.firstName," ",r.lastName]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Personas kods"}),e.jsx("div",{className:"text-lg font-mono font-semibold",children:r.personalCode||""})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Dzimanas datums"}),e.jsx("div",{className:"font-medium",children:l(r.birthDate)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Vecums"}),e.jsxs("div",{className:"font-medium",children:[c(r.birthDate)," gadi"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Istaba"}),e.jsx("div",{className:"font-medium",children:r.roomNumber})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Aprpes lmenis"}),e.jsx("div",{className:"font-medium",children:r.careLevel})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-red-600",children:""})," ALERIJAS"]}),e.jsx($v,{allergies:r.allergies})]}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200 print:bg-white",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-900 mb-2",children:["PDJIE VITLIE RDTJI",((p=r.vitals)==null?void 0:p.measuredAt)&&e.jsxs("span",{className:"font-normal text-gray-500 ml-2",children:["(",l(r.vitals.measuredAt),")"]})]}),e.jsx(Bv,{vitals:r.vitals})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"AKTVS ORDINCIJAS"}),e.jsx(zv,{prescriptions:i})]}),e.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 text-sm text-gray-500 print:mt-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:["Kop aktvas ordincijas: ",e.jsx("strong",{children:i.length})]}),e.jsx("div",{children:"Dokuments enerts automtiski no ADORO sistmas"})]})})]}),e.jsx("style",{children:`
        @media print {
          body {
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
          }

          .print\\:hidden {
            display: none !important;
          }

          .print\\:p-4 {
            padding: 1rem !important;
          }

          .print\\:max-w-none {
            max-width: none !important;
          }

          .print\\:bg-white {
            background-color: white !important;
          }

          .print\\:mt-4 {
            margin-top: 1rem !important;
          }

          @page {
            size: A4;
            margin: 1cm;
          }

          /* Ensure table doesn't break across pages */
          table {
            page-break-inside: avoid;
          }

          tr {
            page-break-inside: avoid;
          }
        }
      `})]}):e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Nav izvlts rezidents"})}const Ax=({status:r,size:n="default"})=>{const i=d0[r]||d0.available,l={small:"px-1.5 py-0.5 text-xs",default:"px-2 py-1 text-sm",large:"px-3 py-1.5 text-base"},u={small:"w-3 h-3",default:"w-4 h-4",large:"w-5 h-5"},c=()=>{switch(r){case"available":return e.jsx(Je,{className:`${u[n]} text-green-600`});case"low":return e.jsx(ut,{className:`${u[n]} text-yellow-600`});case"expired":return e.jsx(jt,{className:`${u[n]} text-red-600`});case"depleted":return e.jsx(sy,{className:`${u[n]} text-gray-500`});default:return e.jsx(Je,{className:`${u[n]} text-green-600`})}};return e.jsxs("span",{className:`
        inline-flex items-center gap-1 rounded-full font-medium
        ${i.bgColor} ${i.textColor}
        ${l[n]}
      `,children:[c(),i.label]})},Fv=({items:r,onTransfer:n,onView:i})=>{const l=c=>c?new Date(c).toLocaleDateString("lv-LV",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",u=c=>{if(!c)return null;const x=new Date,p=new Date(c),g=Math.ceil((p-x)/(1e3*60*60*24));return g<=0?"text-red-600 font-bold":g<=7?"text-red-500":g<=30?"text-yellow-600":""};return!r||r.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"Nav medikamentu noliktav"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medikaments"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Partija"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Daudzums"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dergums"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statuss"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Darbbas"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(c=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:c.medicationName}),e.jsx("p",{className:"text-xs text-gray-500 truncate max-w-xs",children:c.activeIngredient})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-600 font-mono",children:c.batchNumber||"-"})}),e.jsxs("td",{className:"px-4 py-3 text-right",children:[e.jsx("span",{className:`text-sm font-semibold ${c.quantity===0?"text-red-600":c.quantity<=c.minimumStock?"text-yellow-600":"text-gray-900"}`,children:c.quantity}),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:c.unit})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`text-sm ${u(c.expirationDate)}`,children:l(c.expirationDate)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(Ax,{status:c.status,size:"small"})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i&&e.jsx("button",{onClick:()=>i(c),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Skatt detaas",children:e.jsx(Dn,{className:"w-4 h-4"})}),n&&c.quantity>0&&e.jsxs("button",{onClick:()=>n(c),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-orange-600 hover:text-orange-700 hover:bg-orange-50 rounded transition-colors",title:"Prvietot uz rezidenta noliktavu",children:[e.jsx(Qr,{className:"w-3 h-3"}),"Prvietot"]})]})})]},c.id))})]})})},ui=({alerts:r,onAlertClick:n,compact:i=!1})=>{if(!r||r.length===0)return null;const l=(p,g)=>{const f=g==="critical"?"text-red-500":"text-yellow-500",h=i?"w-4 h-4":"w-5 h-5";switch(p){case"low_stock":return e.jsx(za,{className:`${h} ${f}`});case"depleted":return e.jsx(jt,{className:`${h} ${f}`});case"expired":return e.jsx(jt,{className:`${h} ${f}`});case"expiring_soon":return e.jsx(Ht,{className:`${h} ${f}`});default:return e.jsx(ut,{className:`${h} ${f}`})}},u=p=>p==="critical"?"bg-red-50 border-red-200 text-red-800":"bg-yellow-50 border-yellow-200 text-yellow-800",c=r.filter(p=>p.severity==="critical"),x=r.filter(p=>p.severity==="warning");return i?e.jsxs("div",{className:"flex items-center gap-2",children:[c.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium",children:[e.jsx(jt,{className:"w-3 h-3"}),c.length," kritisks"]}),x.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:[e.jsx(ut,{className:"w-3 h-3"}),x.length," brdinjums"]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4 text-yellow-500"}),"Brdinjumi (",r.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map((p,g)=>{var f,h,N;return e.jsxs("div",{onClick:()=>n&&n(p),className:`
              flex items-start gap-3 p-3 rounded-lg border
              ${u(p.severity)}
              ${n?"cursor-pointer hover:opacity-80 transition-opacity":""}
            `,children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:l(p.type,p.severity)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:((f=p.item)==null?void 0:f.medicationName)||"Nezinms medikaments"}),e.jsx("p",{className:"text-xs opacity-80 mt-0.5",children:p.message}),p.daysRemaining!==void 0&&e.jsxs("p",{className:"text-xs opacity-60 mt-1",children:["Atlikus dienas: ",p.daysRemaining]})]}),((h=p.item)==null?void 0:h.quantity)!==void 0&&e.jsxs("div",{className:"flex-shrink-0 text-right",children:[e.jsx("span",{className:"text-sm font-bold",children:p.item.quantity}),e.jsx("span",{className:"text-xs opacity-70 ml-1",children:p.item.unit})]})]},`${((N=p.item)==null?void 0:N.id)||g}-${p.type}`)})})]})},Uv=({isOpen:r,onClose:n,onImportComplete:i})=>{const[l,u]=y.useState(null),[c,x]=y.useState(!1),[p,g]=y.useState(!1);if(!r)return null;const f=()=>{const I=Zy();u(I),g(!1)},h=async()=>{if(l){x(!0),await new Promise(I=>setTimeout(I,800));try{const I=Xy({...l,receivedFrom:"xml_import"});g(!0),x(!1),setTimeout(()=>{i&&i(I),n(),u(null),g(!1)},1e3)}catch(I){console.error("Import failed:",I),x(!1)}}},N=()=>{u(null),g(!1),n()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5 text-orange-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Simult XML importu"})]}),e.jsx("button",{onClick:N,className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:" ir simulcijas funkcija. Relaj sistm XML fails tiktu importts no Recipe Plus."})}),l?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Importjamie dati:"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Medikaments"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.medicationName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Aktv viela"}),e.jsx("p",{className:"text-sm text-gray-700",children:l.activeIngredient})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Daudzums"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[l.quantity," ",l.unit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Partijas Nr."}),e.jsx("p",{className:"text-sm font-mono text-gray-700",children:l.batchNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Dergums"}),e.jsx("p",{className:"text-sm text-gray-700",children:new Date(l.expirationDate).toLocaleDateString("lv-LV")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Vienbas cena"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["",l.unitCost.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Piegdtjs"}),e.jsx("p",{className:"text-sm text-gray-700",children:l.supplier})]})]})]}),p&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(mt,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Imports veiksmgs!"})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(za,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Nospiediet pogu, lai enertu parauga importa datus"}),e.jsxs("button",{onClick:f,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(jx,{className:"w-4 h-4"}),"enert importa datus"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 bg-gray-50",children:[l&&e.jsx("button",{onClick:f,className:"text-sm text-gray-600 hover:text-gray-800",children:"enert citus datus"}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:"Atcelt"}),l&&!p&&e.jsx("button",{onClick:h,disabled:c,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white text-sm font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Import..."]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-4 h-4"}),"Importt"]})})]})]})]})})},qv=({onNavigate:r,onSelectResident:n})=>{var E,S,R,z,B,A,H,O,K;const[i,l]=y.useState([]),[u,c]=y.useState([]),[x,p]=y.useState(null),[g,f]=y.useState(""),[h,N]=y.useState(!1),[I,D]=y.useState(!0),v=()=>{const ae=_r();l(ae),c(Sx()),p(iv())};y.useEffect(()=>{v()},[]);const k=g?sv(g):i,b=ae=>{n&&n(ae)},C=ae=>{v()},w=[{label:"Kop medikamenti",value:((E=x==null?void 0:x.bulk)==null?void 0:E.totalItems)||0,color:"text-gray-900"},{label:"Zems krjums",value:((S=x==null?void 0:x.bulk)==null?void 0:S.lowStockCount)||0,color:((R=x==null?void 0:x.bulk)==null?void 0:R.lowStockCount)>0?"text-yellow-600":"text-gray-900"},{label:"Beidzas dergums",value:(((z=x==null?void 0:x.bulk)==null?void 0:z.expiringCount)||0)+(((B=x==null?void 0:x.bulk)==null?void 0:B.expiredCount)||0),color:(((A=x==null?void 0:x.bulk)==null?void 0:A.expiringCount)||0)+(((H=x==null?void 0:x.bulk)==null?void 0:H.expiredCount)||0)>0?"text-red-600":"text-gray-900"},{label:"Izlietots",value:((O=x==null?void 0:x.bulk)==null?void 0:O.depletedCount)||0,color:((K=x==null?void 0:x.bulk)==null?void 0:K.depletedCount)>0?"text-red-600":"text-gray-900"}];return e.jsxs(Ye,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[e.jsx("button",{onClick:()=>r&&r("all-leads"),className:"hover:text-orange-600 transition-colors",children:"Skums"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-700",children:"Liel noliktava"})]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(za,{className:"w-7 h-7 text-orange-500"}),"Liel noliktava"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Centrl zu noliktava (A)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:v,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Atjaunot",children:e.jsx(yi,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:()=>N(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(jx,{className:"w-4 h-4"}),"Simult XML importu"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:w.map((ae,ce)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:ae.label}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${ae.color}`,children:ae.value})]},ce))}),u.length>0&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4 text-yellow-500"}),"Brdinjumi (",u.length,")"]}),e.jsx("button",{onClick:()=>D(!I),className:"text-xs text-gray-500 hover:text-gray-700",children:I?"Slpt":"Rdt"})]}),I&&e.jsx(ui,{alerts:u,onAlertClick:ae=>{var je;const ce=document.getElementById(`item-${(je=ae.item)==null?void 0:je.id}`);ce&&(ce.scrollIntoView({behavior:"smooth",block:"center"}),ce.classList.add("ring-2","ring-orange-500"),setTimeout(()=>{ce.classList.remove("ring-2","ring-orange-500")},2e3))}})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(Ln,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:g,onChange:ae=>f(ae.target.value),placeholder:"Meklt medikamentu...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]})}),e.jsx(Fv,{items:k,onTransfer:b}),k.length>0&&e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50 text-sm text-gray-500",children:["Rda ",k.length," no ",i.length," ierakstiem"]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Prototipa rems:"}),"  ir demonstrcijas versija. Dati tiek glabti prlka loklaj krtuv."]})})]}),e.jsx(Uv,{isOpen:h,onClose:()=>N(!1),onImportComplete:C})]})},Px=({items:r,onView:n})=>{const i=c=>c?new Date(c).toLocaleDateString("lv-LV",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",l=c=>c==="relatives"?e.jsx(Ls,{className:"w-3 h-3 text-blue-500"}):e.jsx(Qr,{className:"w-3 h-3 text-orange-500"}),u=c=>{var x;return((x=qy[c])==null?void 0:x.label)||c};return!r||r.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(za,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{children:"Nav medikamentu rezidenta noliktav"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medikaments"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Daudzums"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avots"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dergums"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statuss"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(c=>e.jsxs("tr",{onClick:()=>n&&n(c),className:`hover:bg-gray-50 transition-colors ${n?"cursor-pointer":""}`,children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:c.medicationName}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Partija: ",c.batchNumber||"-"]})]})}),e.jsxs("td",{className:"px-4 py-3 text-right",children:[e.jsx("span",{className:`text-sm font-semibold ${c.quantity===0?"text-red-600":c.quantity<=c.minimumStock?"text-yellow-600":"text-gray-900"}`,children:c.quantity}),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:c.unit})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-600",children:[l(c.source),u(c.source)]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-600",children:i(c.expirationDate)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(Ax,{status:c.status,size:"small"})})]},c.id))})]})})};function Kv(r){const n={};return r.bulkItemId||(n.bulkItemId="Jizvlas medikaments no noliktavas"),r.residentId||(n.residentId="Jizvlas rezidents"),(!r.quantity||r.quantity<=0)&&(n.quantity="Daudzumam jbt lielkam par 0"),r.availableQuantity!==void 0&&r.quantity>r.availableQuantity&&(n.quantity=`Pieejami tikai ${r.availableQuantity} ${r.unit||"vienbas"}`),{isValid:Object.keys(n).length===0,errors:n}}function Gv(r){var i,l,u;const n={};return(i=r.medicationName)!=null&&i.trim()||(n.medicationName="Medikamenta nosaukums ir obligts"),(!r.quantity||r.quantity<=0)&&(n.quantity="Daudzumam jbt lielkam par 0"),(l=r.unit)!=null&&l.trim()||(n.unit="Vienba ir obligta"),(u=r.broughtBy)!=null&&u.trim()||(n.broughtBy="Jnorda, kur atnesa zles"),{isValid:Object.keys(n).length===0,errors:n}}const Hv=[{value:"tabletes",label:"Tabletes"},{value:"kapsulas",label:"Kapsulas"},{value:"skidrums",label:"idrums"},{value:"injekcijas",label:"Injekcijas"},{value:"pilieni",label:"Pilieni"},{value:"ziede",label:"Ziede"},{value:"aerosols",label:"Aerosols"},{value:"plastiris",label:"Plkstiris"},{value:"cits",label:"Cits"}],Wv=[{value:"tabletes",label:"tabletes"},{value:"kapsulas",label:"kapsulas"},{value:"ml",label:"ml"},{value:"mg",label:"mg"},{value:"gab.",label:"gab."},{value:"pudeles",label:"pudeles"},{value:"pildspalvas",label:"pildspalvas"},{value:"ampulas",label:"ampulas"}],Jv=({isOpen:r,onClose:n,residentId:i,residentName:l,preselectedItem:u,onTransferComplete:c})=>{const[x,p]=y.useState([]),[g,f]=y.useState(null),[h,N]=y.useState(""),[I,D]=y.useState(""),[v,k]=y.useState(""),[b,C]=y.useState({}),[w,E]=y.useState(!1);if(y.useEffect(()=>{if(r){const B=_r().filter(A=>A.quantity>0);p(B),u&&f(u)}},[r,u]),!r)return null;const S=B=>{f(B),N(""),C({})},R=async B=>{B.preventDefault();const A={bulkItemId:g==null?void 0:g.id,residentId:i,quantity:parseInt(h),availableQuantity:g==null?void 0:g.quantity,unit:g==null?void 0:g.unit},H=Kv(A);if(!H.isValid){C(H.errors);return}E(!0);try{const O=av(g.id,i,parseInt(h),I,v);c&&c(O),z()}catch(O){C({submit:O.message})}finally{E(!1)}},z=()=>{f(null),N(""),D(""),k(""),C({}),n()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qr,{className:"w-5 h-5 text-orange-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Prvietot uz rezidenta noliktavu"})]}),e.jsx("button",{onClick:z,className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:R,className:"p-4 space-y-4",children:[e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-orange-800",children:[e.jsx("strong",{children:"Rezidents:"})," ",l]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medikaments no noliktavas *"}),g?e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.medicationName}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Partija: ",g.batchNumber," | Pieejami: ",g.quantity," ",g.unit]})]}),e.jsx("button",{type:"button",onClick:()=>f(null),className:"text-xs text-orange-600 hover:text-orange-700",children:"Maint"})]})}):e.jsx("div",{className:"border border-gray-200 rounded-lg max-h-48 overflow-y-auto",children:x.length===0?e.jsx("p",{className:"p-3 text-sm text-gray-500 text-center",children:"Nav pieejamu medikamentu"}):x.map(B=>e.jsxs("button",{type:"button",onClick:()=>S(B),className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:B.medicationName}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Pieejami: ",B.quantity," ",B.unit]})]},B.id))}),b.bulkItemId&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.bulkItemId})]}),g&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daudzums *"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:"1",max:g.quantity,value:h,onChange:B=>{N(B.target.value),C({...b,quantity:null})},className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${b.quantity?"border-red-300":"border-gray-300"}`,placeholder:"Ievadiet daudzumu"}),e.jsx("span",{className:"text-sm text-gray-500 min-w-[60px]",children:g.unit})]}),b.quantity&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.quantity}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maksimums: ",g.quantity," ",g.unit]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Iemesls ",e.jsx("span",{className:"text-gray-400 font-normal",children:"(neobligts)"})]}),e.jsxs("select",{value:I,onChange:B=>D(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:" Nav nordts "}),Object.values(Ky).map(B=>e.jsx("option",{value:B.value,children:B.label},B.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piezmes"}),e.jsx("textarea",{value:v,onChange:B=>k(B.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Papildu informcija..."})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Prvieto:"})," ",vi]}),b.submit&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(ut,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-700",children:b.submit})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 p-4 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{type:"button",onClick:z,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:R,disabled:w||!g||!h,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white text-sm font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:w?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Prvieto..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qr,{className:"w-4 h-4"}),"Prvietot"]})})]})]})})},Qv=({isOpen:r,onClose:n,residentId:i,residentName:l,onReceiptComplete:u})=>{const[c,x]=y.useState({medicationName:"",activeIngredient:"",form:"tabletes",batchNumber:"",expirationDate:"",quantity:"",unit:"tabletes",broughtBy:"",relationship:"family",notes:""}),[p,g]=y.useState({}),[f,h]=y.useState(!1);if(!r)return null;const N=(v,k)=>{x(b=>({...b,[v]:k})),g(b=>({...b,[v]:null}))},I=async v=>{v.preventDefault();const k=Gv(c);if(!k.isValid){g(k.errors);return}h(!0);try{const b=lv(i,{...c,quantity:parseInt(c.quantity)});u&&u(b),D()}catch(b){g({submit:b.message})}finally{h(!1)}},D=()=>{x({medicationName:"",activeIngredient:"",form:"tabletes",batchNumber:"",expirationDate:"",quantity:"",unit:"tabletes",broughtBy:"",relationship:"family",notes:""}),g({}),n()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"w-5 h-5 text-blue-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Radinieki atnes zles"})]}),e.jsx("button",{onClick:D,className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:I,className:"p-4 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Rezidents:"})," ",l]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medikamenta nosaukums *"}),e.jsx("input",{type:"text",value:c.medicationName,onChange:v=>N("medicationName",v.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${p.medicationName?"border-red-300":"border-gray-300"}`,placeholder:"Piem., Aspirin 100 mg tabletes"}),p.medicationName&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.medicationName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aktv viela"}),e.jsx("input",{type:"text",value:c.activeIngredient,onChange:v=>N("activeIngredient",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Piem., Acidum acetylsalicylicum"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forma"}),e.jsx("select",{value:c.form,onChange:v=>N("form",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:Hv.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vienba *"}),e.jsx("select",{value:c.unit,onChange:v=>N("unit",v.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${p.unit?"border-red-300":"border-gray-300"}`,children:Wv.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))}),p.unit&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.unit})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daudzums *"}),e.jsx("input",{type:"number",min:"1",value:c.quantity,onChange:v=>N("quantity",v.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${p.quantity?"border-red-300":"border-gray-300"}`,placeholder:"0"}),p.quantity&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.quantity})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Partijas Nr."}),e.jsx("input",{type:"text",value:c.batchNumber,onChange:v=>N("batchNumber",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Ja zinms"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Derguma termi"}),e.jsx("input",{type:"date",value:c.expirationDate,onChange:v=>N("expirationDate",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsx("hr",{className:"border-gray-200"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kur atnesa zles *"}),e.jsx("input",{type:"text",value:c.broughtBy,onChange:v=>N("broughtBy",v.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${p.broughtBy?"border-red-300":"border-gray-300"}`,placeholder:"Vrds, uzvrds"}),p.broughtBy&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.broughtBy})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attiecbas ar rezidentu"}),e.jsx("select",{value:c.relationship,onChange:v=>N("relationship",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:Gy.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Piezmes"}),e.jsx("textarea",{value:c.notes,onChange:v=>N("notes",v.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Papildu informcija..."})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Piema:"})," ",vi]}),p.submit&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(ut,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-700",children:p.submit})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 p-4 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:I,disabled:f,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white text-sm font-medium rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saglab..."]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-4 h-4"}),"Reistrt"]})})]})]})})},Yv=({selectedResident:r,preselectedBulkItem:n,onBack:i,onNavigate:l})=>{const[u,c]=y.useState([]),[x,p]=y.useState(r||null),[g,f]=y.useState([]),[h,N]=y.useState([]),[I,D]=y.useState(null),[v,k]=y.useState(""),[b,C]=y.useState(!1),[w,E]=y.useState(!1),[S,R]=y.useState(n||null);y.useEffect(()=>{r===null&&(p(null),f([]),N([]),D(null))},[r]),y.useEffect(()=>{const K=gv();c(K)},[]);const z=()=>{if(x){const K=js(x.id);f(K),N(En(x.id)),D(Ac(x.id))}};y.useEffect(()=>{z()},[x]);const B=K=>{p(K),S&&C(!0)},A=()=>{p(null),f([]),N([]),D(null)},H=u.filter(K=>{var ae;return`${K.firstName} ${K.lastName}`.toLowerCase().includes(v.toLowerCase())||((ae=K.roomNumber)==null?void 0:ae.includes(v))}),O=K=>{if(!K)return"";const ae=new Date,ce=new Date(K);let je=ae.getFullYear()-ce.getFullYear();const Ce=ae.getMonth()-ce.getMonth();return(Ce<0||Ce===0&&ae.getDate()<ce.getDate())&&je--,je};return x?e.jsxs(Ye,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[e.jsxs("button",{onClick:A,className:"hover:text-orange-600 transition-colors flex items-center gap-1",children:[e.jsx(Dr,{className:"w-4 h-4"}),"Rezidenti"]}),e.jsx("span",{children:"/"}),e.jsxs("span",{className:"text-gray-700",children:[x.firstName," ",x.lastName]})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rezidenta noliktava"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:z,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Atjaunot",children:e.jsx(yi,{className:"w-5 h-5"})})})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Wt,{className:"w-7 h-7 text-orange-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[x.firstName," ",x.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Istaba ",x.roomNumber,"  ",O(x.birthDate)," gadi  ",x.careLevel]})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>C(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(Qr,{className:"w-4 h-4"}),"Prvietot no noliktavas"]}),e.jsxs("button",{onClick:()=>E(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:[e.jsx(Ls,{className:"w-4 h-4"}),"Radinieki atnes"]})]}),I&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Medikamenti"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:I.totalItems})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"No noliktavas"}),e.jsx("p",{className:"text-xl font-bold text-orange-600",children:I.fromBulk})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"No radiniekiem"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:I.fromRelatives})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Brdinjumi"}),e.jsx("p",{className:`text-xl font-bold ${I.alerts>0?"text-red-600":"text-gray-900"}`,children:I.alerts})]})]}),h.length>0&&e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsx(ui,{alerts:h})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-900",children:"Zu krjumi"})}),e.jsx(Px,{items:g})]})]}),e.jsx(Jv,{isOpen:b,onClose:()=>{C(!1),R(null)},residentId:x.id,residentName:`${x.firstName} ${x.lastName}`,preselectedItem:S,onTransferComplete:()=>{C(!1),R(null),z()}}),e.jsx(Qv,{isOpen:w,onClose:()=>E(!1),residentId:x.id,residentName:`${x.firstName} ${x.lastName}`,onReceiptComplete:()=>{E(!1),z()}})]}):e.jsx(Ye,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[e.jsx("button",{onClick:()=>l&&l("bulk-inventory"),className:"hover:text-orange-600 transition-colors",children:"Noliktava"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-700",children:"Rezidentu noliktavas"})]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(za,{className:"w-7 h-7 text-orange-500"}),"Rezidentu noliktavas"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Izvlieties rezidentu, lai skattu via zu krjumus"})]}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(Ln,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:v,onChange:K=>k(K.target.value),placeholder:"Meklt rezidentu...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsx("div",{className:"grid gap-3",children:H.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nav atrasts neviens rezidents"}):H.map(K=>{const ae=js(K.id),ce=En(K.id);return e.jsx("button",{onClick:()=>B(K),className:"w-full bg-white border border-gray-200 rounded-lg p-4 hover:border-orange-300 hover:shadow-md transition-all text-left",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Wt,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[K.firstName," ",K.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Istaba ",K.roomNumber,"  ",O(K.birthDate)," gadi  ",K.careLevel]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[ae.length," medikamenti"]}),ce.length>0&&e.jsx(ui,{alerts:ce,compact:!0})]}),e.jsx(Qr,{className:"w-5 h-5 text-gray-400"})]})]})},K.id)})})]})})},Zv=({status:r,type:n="room",size:i="md"})=>{const l=n==="bed"?Z0:jf,u=l[r]||l.available,c={sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1",lg:"text-sm px-3 py-1.5"};return e.jsx("span",{className:`
        inline-flex items-center font-medium rounded-full
        ${u.bgColor} ${u.textColor}
        ${c[i]}
      `,children:u.label})},Xv=({room:r,onSelect:n,onEdit:i,selectable:l=!1,selectedBed:u=null})=>{const{number:c,floor:x,type:p,status:g,features:f=[],beds:h=[],freeBeds:N=0,occupiedBeds:I=0}=r,D=Jr[p]||Jr.single,v={window:c0,bathroom:ay,tv:by,aircon:dd,balcony:vy},k=g!=="maintenance"&&N>0;return e.jsxs("div",{className:`
        bg-white border rounded-lg overflow-hidden transition-all
        ${l&&k?"cursor-pointer hover:border-orange-400 hover:shadow-md":""}
        ${g==="maintenance"?"opacity-60":""}
        ${l&&!k?"opacity-50":""}
      `,onClick:()=>l&&k&&(n==null?void 0:n(r)),children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Pn,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Istaba ",c]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[x,". stvs  ",D.label]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zv,{status:g}),i&&e.jsx("button",{onClick:b=>{b.stopPropagation(),i(r)},className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:e.jsx(yx,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Gultas"}),e.jsx("div",{className:"flex items-center gap-2",children:h.map(b=>{var C;return e.jsxs("div",{className:`
                relative flex items-center justify-center w-12 h-10 rounded border-2
                ${b.status==="free"?"border-green-300 bg-green-50":""}
                ${b.status==="occupied"?"border-red-300 bg-red-50":""}
                ${b.status==="reserved"?"border-yellow-300 bg-yellow-50":""}
                ${l&&b.status==="free"?"cursor-pointer hover:border-orange-400":""}
                ${u===b.bedNumber?"ring-2 ring-orange-500":""}
              `,onClick:w=>{w.stopPropagation(),l&&b.status==="free"&&(n==null||n(r,b.bedNumber))},title:`Gulta ${b.bedNumber} - ${(C=Z0[b.status])==null?void 0:C.label}`,children:[e.jsx(Wt,{className:`w-4 h-4 ${b.status==="free"?"text-green-500":b.status==="occupied"?"text-red-500":"text-yellow-600"}`}),e.jsx("span",{className:"absolute -top-1 -right-1 text-[10px] font-medium bg-white border rounded px-1",children:b.bedNumber})]},b.id)})}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Brvas: ",N]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Aizemtas: ",I]}),h.some(b=>b.status==="reserved")&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Rezervtas: ",h.filter(b=>b.status==="reserved").length]})]})]}),f.length>0&&e.jsx("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100",children:e.jsx("div",{className:"flex items-center gap-2",children:f.map(b=>{const C=v[b]||c0,w=wf[b];return e.jsx("span",{className:"flex items-center gap-1 text-xs text-gray-500",title:w==null?void 0:w.label,children:e.jsx(C,{className:"w-3 h-3"})},b)})})})]})};function eb({onBack:r}){const[n,i]=y.useState(null),[l,u]=y.useState([]),[c,x]=y.useState("all"),[p,g]=y.useState("all");y.useEffect(()=>{f()},[]);const f=()=>{const w=kf(),E=sx();i(w),u(E)},h=l.filter(w=>!(c!=="all"&&w.department!==c||p!=="all"&&w.floor!==parseInt(p))),N={totalBeds:h.reduce((w,E)=>w+E.bedCount,0),occupiedBeds:h.reduce((w,E)=>w+E.occupiedBeds,0),reservedBeds:h.reduce((w,E)=>w+E.reservedBeds,0),freeBeds:h.reduce((w,E)=>w+E.freeBeds,0)},I=h.reduce((w,E)=>{const S=E.floor;return w[S]||(w[S]=[]),w[S].push(E),w},{}),D=w=>{const E=l.filter(S=>S.department===w);return{totalBeds:E.reduce((S,R)=>S+R.bedCount,0),occupiedBeds:E.reduce((S,R)=>S+R.occupiedBeds,0),reservedBeds:E.reduce((S,R)=>S+R.reservedBeds,0),freeBeds:E.reduce((S,R)=>S+R.freeBeds,0)}},v=D("regular"),k=D("dementia"),b=w=>{switch(w){case"occupied":return"bg-red-500";case"reserved":return"bg-yellow-400";case"free":return"bg-green-500";default:return"bg-gray-300"}},C=w=>{switch(w){case"occupied":return"Aizemta";case"reserved":return"Rezervta";case"free":return"Brva";default:return"Nav zinms"}};return n?e.jsxs(Ye,{maxWidth:"max-w-6xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Dr,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gultu fonds"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Istabu un gultu pieejambas prskats"})]})]}),e.jsx("button",{onClick:f,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Atjaunot datus",children:e.jsx(yi,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(as,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Kop gultas"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.totalBeds})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Aizemtas"})]}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:n.occupiedBeds}),e.jsxs("p",{className:"text-xs text-gray-500",children:[n.occupancyRate,"% noslogojums"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Rezervtas"})]}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n.reservedBeds})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Brvas"})]}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.freeBeds})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(l0,{className:"w-5 h-5 text-blue-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:Dc.regular.label})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:v.totalBeds}),e.jsx("p",{className:"text-xs text-gray-500",children:"Kop"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-red-600",children:v.occupiedBeds}),e.jsx("p",{className:"text-xs text-gray-500",children:"Aizemtas"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-yellow-600",children:v.reservedBeds}),e.jsx("p",{className:"text-xs text-gray-500",children:"Rezervtas"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-green-600",children:v.freeBeds}),e.jsx("p",{className:"text-xs text-gray-500",children:"Brvas"})]})]}),e.jsxs("div",{className:"mt-3 h-2 bg-gray-200 rounded-full overflow-hidden flex",children:[e.jsx("div",{className:"bg-red-500",style:{width:`${v.occupiedBeds/v.totalBeds*100}%`}}),e.jsx("div",{className:"bg-yellow-400",style:{width:`${v.reservedBeds/v.totalBeds*100}%`}}),e.jsx("div",{className:"bg-green-500",style:{width:`${v.freeBeds/v.totalBeds*100}%`}})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(l0,{className:"w-5 h-5 text-purple-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:Dc.dementia.label}),e.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:"3. stvs"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:k.totalBeds}),e.jsx("p",{className:"text-xs text-gray-500",children:"Kop"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-red-600",children:k.occupiedBeds}),e.jsx("p",{className:"text-xs text-gray-500",children:"Aizemtas"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-yellow-600",children:k.reservedBeds}),e.jsx("p",{className:"text-xs text-gray-500",children:"Rezervtas"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-green-600",children:k.freeBeds}),e.jsx("p",{className:"text-xs text-gray-500",children:"Brvas"})]})]}),e.jsxs("div",{className:"mt-3 h-2 bg-gray-200 rounded-full overflow-hidden flex",children:[e.jsx("div",{className:"bg-red-500",style:{width:`${k.occupiedBeds/k.totalBeds*100}%`}}),e.jsx("div",{className:"bg-yellow-400",style:{width:`${k.reservedBeds/k.totalBeds*100}%`}}),e.jsx("div",{className:"bg-green-500",style:{width:`${k.freeBeds/k.totalBeds*100}%`}})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rd,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtri:"})]}),e.jsx("select",{value:c,onChange:w=>x(w.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:X0.map(w=>e.jsx("option",{value:w.value,children:w.label},w.value))}),e.jsxs("select",{value:p,onChange:w=>g(w.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"all",children:"Visi stvi"}),e.jsx("option",{value:"1",children:"1. stvs"}),e.jsx("option",{value:"2",children:"2. stvs"}),e.jsx("option",{value:"3",children:"3. stvs"})]}),(c!=="all"||p!=="all")&&e.jsxs("div",{className:"ml-auto flex items-center gap-4 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Filtrts:"}),e.jsxs("span",{className:"font-medium",children:[N.totalBeds," gultas"]}),e.jsxs("span",{className:"text-green-600",children:[N.freeBeds," brvas"]})]})]})}),e.jsx("div",{className:"space-y-6",children:Object.keys(I).sort((w,E)=>w-E).map(w=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[w,". stvs"]}),parseInt(w)===3&&e.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:"Demences nodaa"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:[I[w].length," istabas"]}),e.jsxs("span",{children:[I[w].reduce((E,S)=>E+S.freeBeds,0)," brvas gultas"]})]})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:I[w].map(E=>e.jsxs("div",{className:`border rounded-lg p-3 ${E.status==="maintenance"?"border-orange-300 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold text-gray-900",children:["Ist. ",E.number]}),E.status==="maintenance"&&e.jsx(ut,{className:"w-4 h-4 text-orange-500",title:"Remont"})]}),e.jsx("div",{className:"flex items-center gap-1 mb-2",children:E.beds.map(S=>e.jsx("div",{className:`w-6 h-6 rounded ${b(S.status)} flex items-center justify-center`,title:`Gulta ${S.bedNumber}: ${C(S.status)}`,children:e.jsx("span",{className:"text-white text-xs font-bold",children:S.bedNumber})},S.id))}),e.jsx("div",{className:"text-xs text-gray-500",children:E.type==="single"?"Vienvietga":"Divvietga"})]},E.id))})})]},w))}),e.jsxs("div",{className:"mt-6 bg-white rounded-lg border border-gray-200 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Apzmjumi"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Brva"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-yellow-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Rezervta"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Aizemta"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Istaba remont"})]})]})]})]}):e.jsx(Ye,{maxWidth:"max-w-6xl",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})})})}const m0=({lead:r,onComplete:n,onSelectRoom:i,onBack:l,selectionOnly:u=!1,targetDate:c=null})=>{var ce,je,Ce,Ae;const[x,p]=y.useState([]),[g,f]=y.useState(0),[h,N]=y.useState("all"),I=((ce=r==null?void 0:r.consultation)==null?void 0:ce.hasDementia)||!1,[D,v]=y.useState(I?"dementia":"all"),[k,b]=y.useState(null),[C,w]=y.useState(null),[E,S]=y.useState(""),[R,z]=y.useState(!1);y.useEffect(()=>{let F;c?F=If(c):F=sx(),p(F)},[c]);const B=I,A=x.filter(F=>!(F.freeBeds===0||F.status==="maintenance"||g!==0&&F.floor!==g||h!=="all"&&F.type!==h||D!=="all"&&F.department!==D)),H=(F,J)=>{J?(b(F),w(J)):(b(F),w(null)),S("")},O=F=>{w(F),S("")},K=async()=>{if(!k||!C){S("Ldzu izvlieties istabu un gultu");return}if(u){i==null||i({room:k,bedNumber:C});return}z(!0),S("");try{const F=ox(r,k.id,C);n==null||n(F)}catch(F){S(F.message||"Kda izveidojot rezidentu"),z(!1)}},ae=((je=r==null?void 0:r.consultation)==null?void 0:je.roomType)||null;return e.jsx(Ye,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:l,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-orange-600 mb-2",children:[e.jsx(Dr,{className:"w-4 h-4"}),"Atpaka uz lgumu"]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(as,{className:"w-7 h-7 text-orange-500"}),"Rezervt gultu"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Izvlieties istabu un gultu jaunajam rezidentam"}),c&&e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Pieejamba prbaudta uz: ",new Date(c).toLocaleDateString("lv-LV")]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(Wt,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"font-semibold text-gray-900",children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Lgums: ",r==null?void 0:r.agreementNumber,ae&&e.jsxs("span",{className:"ml-2",children:[" Vlam istaba: ",((Ce=Jr[ae])==null?void 0:Ce.label)||ae]})]})]})]})}),E&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(ut,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{children:E})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Stvs:"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>f(0),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${g===0?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:border-orange-300"}`,children:"Visi"}),Nf.map(F=>e.jsx("button",{onClick:()=>f(F.value),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${g===F.value?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:border-orange-300"}`,children:F.value},F.value))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Tips:"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>N("all"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${h==="all"?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:border-orange-300"}`,children:"Visi"}),Object.entries(Jr).map(([F,J])=>e.jsx("button",{onClick:()=>N(F),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${h===F?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:border-orange-300"}${ae===F?" ring-2 ring-orange-300":""}`,children:J.label},F))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Nodaa:"}),e.jsx("div",{className:"flex gap-1",children:X0.map(F=>e.jsxs("button",{onClick:()=>!B&&v(F.value),disabled:B&&F.value!=="dementia",className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${D===F.value?F.value==="dementia"?"bg-purple-600 text-white":"bg-orange-500 text-white":B&&F.value!=="dementia"?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:border-orange-300"}`,children:[F.value==="dementia"&&e.jsx(Ea,{className:"w-3 h-3 inline mr-1"}),F.label]},F.value))})]})]}),I&&e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-start gap-2",children:[e.jsx(Ea,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Demences nodaa"}),e.jsx("p",{className:"text-xs text-purple-600",children:"Rezidentam ar demenci tiek rdtas tikai istabas demences noda ar papildu drobas paskumiem."})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.length===0?e.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500",children:[e.jsx(Pn,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Nav pieejamu istabu ar izvltajiem filtriem"})]}):A.map(F=>e.jsx("div",{className:`${(k==null?void 0:k.id)===F.id?"ring-2 ring-orange-500 rounded-lg":""}`,children:e.jsx(Xv,{room:F,selectable:!0,selectedBed:(k==null?void 0:k.id)===F.id?C:null,onSelect:H})},F.id))}),k&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-3",children:["Izvlt istaba: ",k.number]}),k.bedCount>1&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Izvlieties gultu:"}),e.jsx("div",{className:"flex gap-2",children:k.beds.map(F=>e.jsxs("button",{onClick:()=>F.status==="free"&&O(F.bedNumber),disabled:F.status!=="free",className:`
                        flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors
                        ${F.status==="occupied"?"bg-red-50 text-red-600 border-red-300 cursor-not-allowed":F.status==="reserved"?"bg-yellow-50 text-yellow-700 border-yellow-300 cursor-not-allowed":C===F.bedNumber?"bg-orange-500 text-white border-orange-500":"bg-green-50 text-green-700 border-green-300 hover:border-orange-300"}
                      `,children:[e.jsx(as,{className:"w-4 h-4"}),"Gulta ",F.bedNumber,F.status!=="free"&&e.jsxs("span",{className:"text-xs",children:["(",F.status==="occupied"?"aizemta":"rezervta",")"]})]},F.id))})]}),k.bedCount===1&&!C&&e.jsx("p",{className:"text-sm text-orange-700",children:"Vienvietga istaba - gulta tiks automtiski izvlta"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:l,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:K,disabled:!k||!C&&(k==null?void 0:k.bedCount)>1||R,className:`
              flex-1 px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors
              ${!k||!C&&(k==null?void 0:k.bedCount)>1||R?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}
            `,children:R?e.jsx(e.Fragment,{children:"Apstrd..."}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-5 h-5"}),u?"Izvlties o istabu":"Apstiprint un izveidot rezidentu"]})})]}),k&&(C||k.bedCount===1)&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Kopsavilkums"}),e.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[e.jsxs("li",{children:["Rezidents: ",e.jsxs("strong",{children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]})]}),e.jsxs("li",{children:["Istaba: ",e.jsx("strong",{children:k.number})," (",(Ae=Jr[k.type])==null?void 0:Ae.label,")"]}),e.jsxs("li",{children:["Gulta: ",e.jsx("strong",{children:C||1})]}),e.jsxs("li",{children:["Stvs: ",e.jsxs("strong",{children:[k.floor,". stvs"]})]})]})]})]})})},x0=10,tb={doctor_family:{value:"doctor_family",label:"rsta imenes loceklis",description:"Atlaide daktera imenei vai paiem darbiniekiem"},second_person:{value:"second_person",label:"Otr persona no imenes",description:"Atlaide otrajam cilvkam, kas sldz lgumu (vrs/sieva, msa/brlis u.c.)"}},g0=Object.values(tb),sb=({lead:r,existingContract:n,onSave:i,onBack:l,onComplete:u,onSelectRoom:c,initialRoom:x,initialBed:p,initialFormState:g})=>{var ks;const{products:f,saveDraft:h,saveAndActivate:N,getNextContractNumber:I,isContractNumberUnique:D}=td(),[v,k]=y.useState((g==null?void 0:g.contractNumber)||""),[b,C]=y.useState((g==null?void 0:g.startDate)||""),[w,E]=y.useState((g==null?void 0:g.endDate)||""),[S,R]=y.useState((g==null?void 0:g.noEndDate)??!0),[z,B]=y.useState((g==null?void 0:g.residence)||ni.MELODIJA),[A,H]=y.useState((g==null?void 0:g.careLevel)||""),[O,K]=y.useState((g==null?void 0:g.roomType)||""),[ae,ce]=y.useState((g==null?void 0:g.discountEnabled)||!1),[je,Ce]=y.useState((g==null?void 0:g.discountReason)||""),[Ae,F]=y.useState((g==null?void 0:g.notes)||""),[J,le]=y.useState((g==null?void 0:g.residentIsClient)||!1),[te,L]=y.useState((g==null?void 0:g.residentName)||""),[W,he]=y.useState((g==null?void 0:g.clientName)||""),[fe,be]=y.useState((g==null?void 0:g.contractId)||(n==null?void 0:n.id)||null),[pe,Ee]=y.useState(x||null),[Ne,Re]=y.useState(p||null);y.useEffect(()=>{x&&Ee(x)},[x]),y.useEffect(()=>{p&&Re(p)},[p]);const[He,gt]=y.useState(""),[Jt,wt]=y.useState(!1);y.useEffect(()=>{if(r&&!g){const q=r.survey||{},ke=q.firstName||r.firstName||"",Ue=q.lastName||r.lastName||"",tt=`${ke} ${Ue}`.trim();L(tt);const Ss=q.signerScenario==="resident"||!q.signerScenario;if(le(Ss),!Ss&&(q.clientFirstName||q.clientLastName)){const G=q.clientFirstName||"",U=q.clientLastName||"";he(`${G} ${U}`.trim())}else he(tt);if(r.consultation){const{careLevel:G,roomType:U,duration:Le}=r.consultation;if(G){const Pe=nx(G);Pe&&H(Pe)}if(U){const Pe=Af(U);Pe&&K(Pe)}if(Le){const Pe=Pf(Le);R(Pe==="ilgtermia")}}if(q.stayDateFrom)C(q.stayDateFrom);else{const G=new Date().toISOString().split("T")[0];C(G)}q.stayDateTo&&(E(q.stayDateTo),R(!1))}},[r,g]),y.useEffect(()=>{n&&!g&&(k(n.contractNumber||""),C(n.startDate||""),E(n.endDate||""),R(n.noEndDate??!0),B(n.residence||ni.MELODIJA),H(n.careLevel||""),K(n.roomType||""),ce(n.discountPercent>0),F(n.notes||""),le(n.residentIsClient??!1))},[n,g]);const Bt=y.useMemo(()=>Ff(b,w,S),[b,w,S]),Me=y.useMemo(()=>!A||!O||!z?null:Rf(A,O,z,Bt,f),[A,O,z,Bt,f]),ot=y.useMemo(()=>{if(!Me)return{dailyRate:null,discountedRate:null,monthlyEstimate:null};const q=Me.dailyRate,ke=ae?Uf(q,10):q,Ue=Tf(ke);return{dailyRate:q,discountedRate:ke,monthlyEstimate:Ue}},[Me,ae]),Vt=y.useMemo(()=>I(z),[z,I]),ls=()=>({contractId:fe,contractNumber:v,startDate:b,endDate:w,noEndDate:S,residence:z,careLevel:A,roomType:O,discountEnabled:ae,discountReason:je,notes:Ae,residentIsClient:J,residentName:te,clientName:W}),_t=()=>{c(ls())},pt=q=>{R(q),q&&E("")},Qt=q=>{le(q),q&&he(te)},Rt=(q=!1)=>{const ke=[];if(q){const Ue=v||Vt;if(!Ue)ke.push("Lguma numurs ir obligts");else{const tt=Bf(Ue);tt.valid?D(Ue,n==null?void 0:n.id)||ke.push("Lguma numurs jau eksist"):ke.push(tt.error)}b||ke.push("Skuma datums ir obligts"),!S&&!w&&ke.push("Beigu datums ir obligts"),te||ke.push("Rezidenta vrds ir obligts"),A||ke.push("Aprpes lmenis ir obligts"),O||ke.push("Istabas tips ir obligts"),pe||ke.push("Istaba ir obligta - izvlieties brvu istabu"),Me||ke.push("Produkts nav atrasts izvltajai kombincijai")}return ke},Ms=()=>{const q=(r==null?void 0:r.survey)||{};return{id:fe||Vf(),contractNumber:v||Vt,residence:z,residentId:(r==null?void 0:r.id)||null,clientId:J?null:r==null?void 0:r.id,residentIsClient:J,startDate:b||null,endDate:S?null:w,noEndDate:S,careLevel:A||null,roomType:O||null,termType:Bt,productCode:(Me==null?void 0:Me.code)||null,dailyRate:ot.dailyRate,discountPercent:ae?x0:0,discountReason:ae?je:null,dailyRateWithDiscount:ot.discountedRate,roomId:(pe==null?void 0:pe.id)||null,roomNumber:(pe==null?void 0:pe.number)||null,bedNumber:Ne||null,notes:Ae,residentName:te,clientName:J?te:W,residentPersonalCode:q.personalCode||null,residentAddress:q.street&&q.city?`${q.street}, ${q.city}${q.postalCode?", "+q.postalCode:""}`:null,residentPhone:q.phone||(r==null?void 0:r.phone)||null,residentEmail:q.email||(r==null?void 0:r.email)||null,residentBirthDate:q.birthDate||null,residentGender:q.gender||null,clientPersonalCode:q.clientPersonalCode||null,clientAddress:q.clientStreet&&q.clientCity?`${q.clientStreet}, ${q.clientCity}${q.clientPostalCode?", "+q.clientPostalCode:""}`:null,clientPhone:q.clientPhone||null,clientEmail:q.clientEmail||null,clientRelationship:q.relationship||null,securityDeposit:q.securityDeposit==="yes",securityDepositAmount:q.securityDepositAmount?parseFloat(q.securityDepositAmount):null,paymentDeadline:q.paymentDeadline||null,healthDataConsent:q.healthDataConsent==="yes",storeIdDocuments:q.storeIdDocuments==="yes",laundryService:q.laundryService==="yes",podologistService:q.podologistService==="yes",podologistFrequency:q.podologistFrequency?parseInt(q.podologistFrequency):null,otherServices:q.otherServicesEnabled==="yes"?q.otherServices:null,disabilityGroup:q.disabilityGroup&&q.disabilityGroup!=="none"?q.disabilityGroup:null,disabilityDateFrom:q.disabilityDateFrom||null,disabilityDateTo:q.disabilityDateTo||null}},Ns=async()=>{gt(""),wt(!0);try{const q=Ms(),ke=h(q);!fe&&(ke!=null&&ke.id)&&be(ke.id),i==null||i(ke)}catch(q){gt(q.message||"Kda saglabjot melnrakstu")}finally{wt(!1)}},ar=async()=>{var ke;gt("");const q=Rt(!0);if(q.length>0){gt(q.join(". "));return}wt(!0);try{const Ue=Ms(),tt=N(Ue);if(!tt.success){gt(((ke=tt.errors)==null?void 0:ke.join(". "))||"Kda aktivizjot lgumu"),wt(!1);return}u==null||u(tt.contract,null)}catch(Ue){gt(Ue.message||"Kda saglabjot lgumu")}finally{wt(!1)}},ws=()=>{k(Vt)};return e.jsx(Ye,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:l,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-orange-600 mb-2",children:[e.jsx(Dr,{className:"w-4 h-4"}),"Atpaka"]}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Nt,{className:"w-7 h-7 text-orange-500"}),n?"Redit lgumu":"Jauns lgums"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n?`Redijiet lgumu ${n.contractNumber||"melnrakstu"}`:"Izveidojiet jaunu pakalpojuma lgumu"})]}),He&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2 text-red-700",children:[e.jsx(ut,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:He})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ea,{className:"w-5 h-5 text-gray-400"}),"Lguma informcija"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lguma numurs"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:v,onChange:q=>k(q.target.value),placeholder:Vt,className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),e.jsx("button",{type:"button",onClick:ws,className:"px-3 py-2 text-sm text-orange-600 border border-orange-300 rounded-lg hover:bg-orange-50",title:"Izmantot ieteikto numuru",children:"Ieteikt"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formts: AM-####/GGGG"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skuma datums"}),e.jsx("input",{type:"date",value:b,onChange:q=>C(q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beigu datums"}),e.jsx("input",{type:"date",value:w,onChange:q=>E(q.target.value),disabled:S,className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${S?"bg-gray-100 text-gray-400":""}`}),e.jsxs("label",{className:"flex items-center gap-2 mt-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:S,onChange:q=>pt(q.target.checked),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Nav beigu datuma (ilgtermia)"})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Wt,{className:"w-5 h-5 text-gray-400"}),"Lguma puses"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rezidents ",e.jsx("span",{className:"text-gray-400",children:"(lgum: Klients)"})]}),e.jsx("input",{type:"text",value:te,onChange:q=>L(q.target.value),placeholder:"Vrds Uzvrds",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Apgdnieks ",e.jsx("span",{className:"text-gray-400",children:"(lgum: Apgdnieks)"})]}),e.jsx("input",{type:"text",value:W,onChange:q=>he(q.target.value),placeholder:"Vrds Uzvrds",disabled:J,className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${J?"bg-gray-100 text-gray-400":""}`}),e.jsxs("label",{className:"flex items-center gap-2 mt-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:J,onChange:q=>Qt(q.target.checked),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Rezidents pats bs apgdnieks"})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-start gap-2",children:[e.jsx(oy,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Terminoloija:"}),' Sistm "Rezidents" = Lgum "Klients" (aprpjam persona). Sistm "Klients/Apgdnieks" = Lgum "Apgdnieks" (makstjs).']})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Pn,{className:"w-5 h-5 text-gray-400"}),"Pakalpojuma parametri"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aprpes lmenis"}),e.jsxs("select",{value:A,onChange:q=>H(q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),Df.map(q=>e.jsxs("option",{value:q,children:[q,". lmenis"]},q))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Istabas tips"}),e.jsxs("select",{value:O,onChange:q=>K(q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),Object.entries(Ef).map(([q,ke])=>e.jsx("option",{value:q,children:ke},q))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termia tips"}),e.jsx("div",{className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-3 py-2 text-gray-700",children:Bt==="ilgtermia"?"Ilgtermia (>3 mnei)":"stermia (3 mnei)"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Aprints automtiski no datumiem"})]})]}),Me&&e.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("strong",{children:"Produkta kods:"})," ",Me.code]}),e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("strong",{children:"Nosaukums:"})," ",Me.name]})]}),A&&O&&!Me&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"Nav atrasts produkts izvltajai kombincijai"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(as,{className:"w-5 h-5 text-gray-400"}),"Istabas izvle"]}),pe?e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(mt,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-green-800",children:["Istaba ",pe.number,pe.bedCount>1&&`, gulta ${Ne}`]}),e.jsxs("p",{className:"text-sm text-green-600",children:[pe.floor,". stvs  ",pe.bedCount===1?"1-vietga":"2-vietga"," istaba"]})]})]}),e.jsx("button",{type:"button",onClick:_t,className:"px-3 py-1.5 text-sm border border-green-300 text-green-700 rounded-lg hover:bg-green-100",children:"Maint"})]})}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Izvlieties istabu no brvajm vietm gultu fond"}),e.jsxs("button",{type:"button",onClick:_t,className:"w-full px-4 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium flex items-center justify-center gap-2",children:[e.jsx(as,{className:"w-5 h-5"}),"Izvlties istabu"]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ly,{className:"w-5 h-5 text-gray-400"}),"Dzvoanas izmaksas"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bzes dienas cena"}),e.jsx("div",{className:"w-full border border-gray-200 bg-gray-50 rounded-lg px-3 py-2 text-gray-700 font-medium",children:ot.dailyRate?`${ot.dailyRate.toFixed(2)} EUR`:""})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Atlaide (",x0,"%)"]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mt-2",children:[e.jsx("input",{type:"checkbox",checked:ae,onChange:q=>{ce(q.target.checked),q.target.checked||Ce("")},disabled:!Me,className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Piemrot atlaidi"})]}),ae&&e.jsxs("div",{className:"flex-1",children:[e.jsxs("select",{value:je,onChange:q=>Ce(q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties iemeslu..."}),g0.map(q=>e.jsx("option",{value:q.value,children:q.label},q.value))]}),je&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(ks=g0.find(q=>q.value===je))==null?void 0:ks.description})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gala dienas cena"}),e.jsx("div",{className:`w-full border rounded-lg px-3 py-2 font-medium ${ot.discountedRate?"border-green-300 bg-green-50 text-green-700":"border-gray-200 bg-gray-50 text-gray-700"}`,children:ot.discountedRate?`${ot.discountedRate.toFixed(2)} EUR / diennakts`:""})]})]}),ot.monthlyEstimate>0&&e.jsx("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-orange-700",children:[e.jsx("strong",{children:"Ikmnea izmaksu novrtjums:"})," ~",ot.monthlyEstimate.toFixed(2)," EUR (30 dienas)"]})})]}),(r==null?void 0:r.survey)&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5 text-gray-400"}),"Aptaujas dati (lgumam)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100",children:"Klients (Rezidents)"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Vrds, uzvrds:"}),e.jsxs("span",{className:"font-medium",children:[r.survey.firstName," ",r.survey.lastName]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Personas kods:"}),e.jsx("span",{className:"font-medium",children:r.survey.personalCode||""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Adrese:"}),e.jsx("span",{className:"font-medium text-right max-w-[200px]",children:r.survey.street&&r.survey.city?`${r.survey.street}, ${r.survey.city}${r.survey.postalCode?", "+r.survey.postalCode:""}`:""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Tlrunis:"}),e.jsx("span",{className:"font-medium",children:r.survey.phone||r.phone||""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"E-pasts:"}),e.jsx("span",{className:"font-medium",children:r.survey.email||r.email||""})]}),r.survey.birthDate&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Dzimanas datums:"}),e.jsx("span",{className:"font-medium",children:r.survey.birthDate})]})]})]}),r.survey.signerScenario==="relative"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100",children:"Apgdnieks"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Vrds, uzvrds:"}),e.jsxs("span",{className:"font-medium",children:[r.survey.clientFirstName," ",r.survey.clientLastName]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Personas kods:"}),e.jsx("span",{className:"font-medium",children:r.survey.clientPersonalCode||""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Adrese:"}),e.jsx("span",{className:"font-medium text-right max-w-[200px]",children:r.survey.clientStreet&&r.survey.clientCity?`${r.survey.clientStreet}, ${r.survey.clientCity}${r.survey.clientPostalCode?", "+r.survey.clientPostalCode:""}`:""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Tlrunis:"}),e.jsx("span",{className:"font-medium",children:r.survey.clientPhone||""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"E-pasts:"}),e.jsx("span",{className:"font-medium",children:r.survey.clientEmail||""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Radniecba:"}),e.jsx("span",{className:"font-medium",children:r.survey.relationship==="child"?"Dls/Meita":r.survey.relationship==="spouse"?"Laultais":r.survey.relationship==="guardian"?"Pilnvarot persona":r.survey.relationship==="social_worker"?"Socilais darbinieks":r.survey.relationship||""})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100",children:"Lguma noteikumi"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Drobas nauda:"}),e.jsx("span",{className:"font-medium",children:r.survey.securityDeposit==="yes"?`J (${r.survey.securityDepositAmount||""} EUR)`:"N"})]}),r.survey.paymentDeadline&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Maksas termi:"}),e.jsx("span",{className:"font-medium",children:r.survey.paymentDeadline})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Veselbas datu nodoana:"}),e.jsx("span",{className:"font-medium",children:r.survey.healthDataConsent==="yes"?"J":"N"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Dokumentu glabana:"}),e.jsx("span",{className:"font-medium",children:r.survey.storeIdDocuments==="yes"?"J":"N"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100",children:"Papildus pakalpojumi"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Veas mazgana:"}),e.jsx("span",{className:"font-medium",children:r.survey.laundryService==="yes"?"J":"N"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Podologs:"}),e.jsx("span",{className:"font-medium",children:r.survey.podologistService==="yes"?`J (${r.survey.podologistFrequency||1}x mnes)`:"N"})]}),r.survey.otherServicesEnabled==="yes"&&r.survey.otherServices&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Citi:"}),e.jsx("span",{className:"font-medium text-right max-w-[200px]",children:r.survey.otherServices})]})]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-4 pt-4 border-t border-gray-100",children:"ie dati tika ievkti aptaujas anket un tiks izmantoti lguma dokument."})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Piezmes"}),e.jsx("textarea",{value:Ae,onChange:q=>F(q.target.value),placeholder:"Iekjas piezmes (nav iekautas lgum)",rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Piezmes ir tikai iekjai lietoanai un netiek iekautas enertaj lguma dokument."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:l,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Atcelt"}),e.jsxs("button",{onClick:Ns,disabled:Jt,className:"px-6 py-3 border border-orange-300 text-orange-600 rounded-lg hover:bg-orange-50 transition-colors flex items-center justify-center gap-2",children:[e.jsx(zn,{className:"w-5 h-5"}),"Saglabt melnrakstu"]}),e.jsx("button",{onClick:ar,disabled:Jt||!Me,className:`
              flex-1 px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors
              ${Jt||!Me?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}
            `,children:Jt?e.jsx(e.Fragment,{children:"Saglab..."}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-5 h-5"}),"Saglabt un drukt"]})})]})]})})},rb=({contract:r,onConfirm:n,onClose:i})=>{const[l,u]=y.useState(new Date().toISOString().split("T")[0]),[c,x]=y.useState(""),[p,g]=y.useState(!1),f=async N=>{if(N.preventDefault(),!!l){g(!0);try{await n(l,c)}finally{g(!1)}}},h=["Rezidents izrakstjies","Prclies uz citu iestdi","Atgriezies mjs","Miris","Cits iemesls"];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(px,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Izbeigt lgumu"}),e.jsx("p",{className:"text-sm text-gray-500",children:r.contractNumber})]})]}),e.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Rezidents:"})," ",r.residentName||""]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.jsx("strong",{children:"Skuma datums:"})," ",r.startDate?new Date(r.startDate).toLocaleDateString("lv-LV"):""]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Izbeiganas datums ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"date",value:l,onChange:N=>u(N.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Datums, ar kuru lgums tiek izbeigts"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Iemesls"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:h.map(N=>e.jsx("button",{type:"button",onClick:()=>x(N),className:`px-3 py-1 text-sm rounded-full border transition-colors ${c===N?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-300 text-gray-600 hover:border-blue-300"}`,children:N},N))}),e.jsx("textarea",{value:c,onChange:N=>x(N.target.value),placeholder:"Papildus piezmes...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Atcelt"}),e.jsx("button",{type:"submit",disabled:!l||p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:p?"Apstrd...":"Izbeigt lgumu"})]})]})]})})},ab=({onCreateNew:r,onViewContract:n,onEditContract:i,onPrintContract:l})=>{const{contracts:u,cancelContract:c,terminateContract:x,deleteContract:p}=td(),[g,f]=y.useState(""),[h,N]=y.useState("all"),[I,D]=y.useState("all"),[v,k]=y.useState(null),[b,C]=y.useState(null),w=y.useMemo(()=>u.filter(O=>{var K,ae,ce;if(h!=="all"&&O.status!==h||I!=="all"&&O.residence!==I)return!1;if(g){const je=g.toLowerCase(),Ce=(K=O.contractNumber)==null?void 0:K.toLowerCase().includes(je),Ae=(ae=O.residentName)==null?void 0:ae.toLowerCase().includes(je),F=(ce=O.clientName)==null?void 0:ce.toLowerCase().includes(je);return Ce||Ae||F}return!0}).sort((O,K)=>new Date(K.createdAt)-new Date(O.createdAt)),[u,g,h,I]),E=({status:O})=>{const K={[Xe.DRAFT]:"bg-gray-100 text-gray-700",[Xe.ACTIVE]:"bg-green-100 text-green-700",[Xe.COMPLETED]:"bg-blue-100 text-blue-700",[Xe.CANCELLED]:"bg-red-100 text-red-700"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${K[O]||"bg-gray-100 text-gray-700"}`,children:yc[O]||O})},S=O=>{k(v===O?null:O)},R=O=>{window.confirm(`Vai tiem vlaties anult lgumu ${O.contractNumber||O.id}?`)&&c(O.id),k(null)},z=O=>{C(O),k(null)},B=(O,K)=>{b&&(x(b.id,O,K),C(null))},A=O=>{window.confirm(`Vai tiem vlaties dzst melnrakstu ${O.id}?`)&&p(O.id),k(null)},H=O=>O?new Date(O).toLocaleDateString("lv-LV"):"";return e.jsxs(Ye,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Nt,{className:"w-7 h-7 text-orange-500"}),"Lgumi"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[u.length," lgumi kop"]})]}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(ii,{className:"w-5 h-5"}),"Jauns lgums"]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ln,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:g,onChange:O=>f(O.target.value),placeholder:"Meklt pc numura, rezidenta vai klienta...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rd,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:h,onChange:O=>N(O.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"all",children:"Visi statusi"}),Object.entries(yc).map(([O,K])=>e.jsx("option",{value:O,children:K},O))]})]}),e.jsxs("select",{value:I,onChange:O=>D(O.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"all",children:"Visas rezidences"}),Object.entries(r0).map(([O,K])=>e.jsx("option",{value:O,children:K},O))]})]})}),w.length===0?e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-12 text-center",children:[e.jsx(Nt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:u.length===0?"Nav neviena lguma":"Nav lgumu, kas atbilst meklanas kritrijiem"}),u.length===0&&e.jsx("button",{onClick:r,className:"mt-4 text-orange-600 hover:text-orange-700 font-medium",children:"Izveidot pirmo lgumu"})]}):e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lguma Nr."}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rezidents"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rezidence"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Periods"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cena"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statuss"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Darbbas"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:w.map(O=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("span",{className:"font-medium text-gray-900",children:Hf(O.contractNumber)}),O.status===Xe.DRAFT&&e.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"(melnraksts)"})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-900",children:O.residentName||""}),O.clientName&&O.clientName!==O.residentName&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Apgdnieks: ",O.clientName]})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:r0[O.residence]||O.residence||""}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:e.jsxs("div",{children:[e.jsx("p",{children:H(O.startDate)}),O.noEndDate?e.jsx("p",{className:"text-xs text-gray-400",children:"bez termia"}):e.jsxs("p",{className:"text-xs text-gray-400",children:["ldz ",H(O.endDate)]})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:O.dailyRateWithDiscount?e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[O.dailyRateWithDiscount.toFixed(2)," EUR"]}),O.discountPercent>0&&e.jsxs("p",{className:"text-xs text-green-600",children:["-",O.discountPercent,"%"]})]}):e.jsx("span",{className:"text-gray-400",children:""})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx(E,{status:O.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>n==null?void 0:n(O),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",title:"Skatt",children:e.jsx(Dn,{className:"w-4 h-4"})}),O.status===Xe.DRAFT&&e.jsx("button",{onClick:()=>i==null?void 0:i(O),className:"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded",title:"Redit",children:e.jsx(hy,{className:"w-4 h-4"})}),O.status===Xe.ACTIVE&&e.jsx("button",{onClick:()=>l==null?void 0:l(O),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Drukt",children:e.jsx(La,{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>S(O.id),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:e.jsx(ny,{className:"w-4 h-4"})}),v===O.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>k(null)}),e.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-20 py-1",children:[O.status===Xe.ACTIVE&&e.jsxs("button",{onClick:()=>z(O),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[e.jsx(px,{className:"w-4 h-4 text-blue-500"}),"Izbeigt lgumu"]}),(O.status===Xe.DRAFT||O.status===Xe.ACTIVE)&&e.jsxs("button",{onClick:()=>R(O),className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"}),"Anult lgumu"]}),O.status===Xe.DRAFT&&e.jsxs("button",{onClick:()=>A(O),className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"}),"Dzst melnrakstu"]})]})]})]})]})})]},O.id))})]})})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(yc).map(([O,K])=>{const ae=u.filter(ce=>ce.status===O).length;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:K}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ae})]},O)})})]}),b&&e.jsx(rb,{contract:b,onConfirm:B,onClose:()=>C(null)})]})},nb=({contract:r,lead:n,onBack:i,onMarkSigned:l,onMoveIn:u})=>{var A;const[c,x]=y.useState(!!(r!=null&&r.signedAt)),[p,g]=y.useState(!1);if(!r)return e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"Lgums nav atrasts"}),e.jsx("button",{onClick:i,className:"mt-4 text-orange-600 hover:text-orange-700",children:"Atpaka"})]});const f=H=>{if(!H)return"________________";const O=new Date(H),K=O.getFullYear(),ae=["janvris","februris","marts","aprlis","maijs","jnijs","jlijs","augusts","septembris","oktobris","novembris","decembris"];return`${K}. gada ${O.getDate()}. ${ae[O.getMonth()]}`},h=r.residence==="melodija",N=h?"Adoro Melodija":"Adoro ampteris",I=h?'SIA "Adoro Melodija"':'SIA "Adoro ampteris"',D=h?"40103XXXXXX":"40203404640",v=h?"Miera iela 25, Rga, LV-1001":"Zolitdes iela 68A, Rga, LV-1046",k=h?"+371 20 000 000":"+371 20 616 003",b=h?"rezidence.melodija@adoro.lv":"rezidence.sampeteris@adoro.lv",C=h?{name:'AS "Swedbank"',account:"LVXXSWEDXXXXXXXXXXXXXXX"}:{name:"AS SEB Banka",account:"LV60UNLA0055003546697"},w=({checked:H,label:O})=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-4 h-4 border border-gray-400 flex items-center justify-center flex-shrink-0 mt-0.5 ${H?"bg-gray-100":""}`,children:H&&e.jsx(mt,{className:"w-3 h-3 text-gray-700"})}),e.jsx("span",{children:O})]}),E=ax(r.careLevel),S=()=>{window.print()},R=H=>{x(H),H&&l&&l(r)},z=async()=>{if(u){g(!0);try{await u(r,n)}finally{g(!1)}}},B=!!r.residentCreatedAt;return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsxs("div",{className:"print:hidden bg-white border-b border-gray-200 sticky top-0 z-10",children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-gray-600 hover:text-orange-600",children:[e.jsx(Dr,{className:"w-5 h-5"}),"Atpaka"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Lgums: ",r.contractNumber||"Melnraksts"]}),e.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:[e.jsx(La,{className:"w-5 h-5"}),"Drukt"]})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-3 border-t border-gray-100 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:H=>R(H.target.checked),className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Lgums parakstts"}),c&&r.signedAt&&e.jsxs("span",{className:"text-sm text-gray-500",children:["(",new Date(r.signedAt).toLocaleDateString("lv-LV"),")"]})]}),c&&!B&&r.roomId&&e.jsx("button",{onClick:z,disabled:p,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:p?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Iebraucina..."]}):e.jsxs(e.Fragment,{children:[e.jsx(cd,{className:"w-5 h-5"}),"Iebraucint rezidentu"]})}),B&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg",children:[e.jsx(Je,{className:"w-5 h-5"}),"Rezidents iebraucints"]})]})})]}),e.jsx("div",{className:"max-w-4xl mx-auto p-4 print:p-0 print:max-w-none",children:e.jsxs("div",{className:"bg-white shadow-lg print:shadow-none p-8 print:p-12 text-sm leading-relaxed",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"LGUMS PAR SOCILO PAKALPOJUMU NODROINANU"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Nr. ",r.contractNumber||"________________"]})]}),e.jsxs("div",{className:"flex justify-between mb-6",children:[e.jsx("p",{children:"Rg"}),e.jsx("p",{children:f(r.activatedAt||r.startDate||r.createdAt)})]}),e.jsxs("div",{className:"mb-6 space-y-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:I}),", reistrcijas Nr. ",D,", juridisk adrese: ",v,", turpmk tekst - ",e.jsx("strong",{children:"Pakalpojuma sniedzjs"}),", no vienas puses,"]}),e.jsxs("p",{children:[e.jsx("strong",{children:r.residentName||"________________________"}),", personas kods: ",e.jsx("strong",{children:r.residentPersonalCode||"________________________"}),", deklart adrese: ",r.residentAddress||"________________________",", turpmk tekst - ",e.jsx("strong",{children:"Klients"}),",",r.residentIsClient?" un":""]}),!r.residentIsClient&&r.clientName&&e.jsxs("p",{children:[e.jsx("strong",{children:r.clientName}),", personas kods: ",e.jsx("strong",{children:r.clientPersonalCode||"________________________"}),", deklart adrese: ",r.clientAddress||"________________________",",",r.clientRelationship&&e.jsxs("span",{children:[" (",r.clientRelationship==="child"?"dls/meita":r.clientRelationship==="spouse"?"laultais":r.clientRelationship==="guardian"?"pilnvarot persona":r.clientRelationship==="social_worker"?"socilais darbinieks":"cits",")"]}),", turpmk tekst  ",e.jsx("strong",{children:"Apgdnieks"}),","]}),e.jsxs("p",{children:["Pakalpojuma sniedzjs, Klients ",!r.residentIsClient&&r.clientName?"un Apgdnieks ":"","turpmk tekst visi kop  Puses, nosldz lgumu par socilo pakalpojumu nodroinanu."]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-base font-bold mb-4 border-b border-gray-300 pb-1",children:"1. LGUMA PRIEKMETS"}),e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden mb-4",children:e.jsx("table",{className:"w-full text-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"p-2 bg-gray-50 font-medium w-8",children:"I."}),e.jsx("td",{className:"p-2 bg-gray-50 font-medium w-40",children:"Pakalpojums"}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx(w,{checked:r.termType==="ilgtermia",label:"ilglaicgs"}),e.jsx(w,{checked:r.termType==="stermia",label:"slaicgs"})]})})]}),e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"II."}),e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"Mjoklis"}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx(w,{checked:r.roomType==="1-vietga",label:"vienvietgs"}),e.jsx(w,{checked:r.roomType==="2-vietga",label:"divvietgs"})]})})]}),e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"III."}),e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"Uzturans maksa par vienu diennakti"}),e.jsxs("td",{className:"p-2",children:[e.jsx("strong",{children:r.dailyRateWithDiscount?`EUR ${r.dailyRateWithDiscount.toFixed(2)}`:"EUR ______"}),r.discountPercent>0&&e.jsxs("span",{className:"text-gray-500 ml-2",children:["(ar ",r.discountPercent,"% atlaidi, bzes: ",(A=r.dailyRate)==null?void 0:A.toFixed(2)," EUR)"]})]})]}),e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"IV."}),e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"Drobas nauda"}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx(w,{checked:!r.securityDeposit,label:"nav"}),e.jsx(w,{checked:r.securityDeposit,label:`ir ${r.securityDepositAmount?`EUR ${r.securityDepositAmount.toFixed(2)}`:"________"}`})]})})]}),e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"V."}),e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"Maksas par pirmo mnesi apmaksas termi"}),e.jsx("td",{className:"p-2",children:r.paymentDeadline?f(r.paymentDeadline):"________________________"})]}),e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"VI."}),e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"Klienta iestans datums"}),e.jsx("td",{className:"p-2",children:e.jsx("strong",{children:f(r.startDate)})})]}),e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"VII."}),e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"Lguma termi"}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx(w,{checked:r.noEndDate,label:"beztermia"}),e.jsx(w,{checked:!r.noEndDate,label:`ldz ${r.endDate?f(r.endDate):"________________"}`})]})})]}),e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"VIII."}),e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"Aprpes lmenis / grupa"}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx(w,{checked:E===1,label:"1"}),e.jsx(w,{checked:E===2,label:"2"}),e.jsx(w,{checked:E===3,label:"3"}),e.jsx(w,{checked:E===4,label:"4"})]})})]}),e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"IX."}),e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"Klients piekrt veselbas datu nodoanai Apgdniekam"}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx(w,{checked:r.healthDataConsent,label:"j"}),e.jsx(w,{checked:!r.healthDataConsent,label:"n"})]})})]}),e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"X."}),e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"Personas dokumentu glabana pie Pakalpojuma sniedzja"}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx(w,{checked:r.storeIdDocuments,label:"j"}),e.jsx(w,{checked:!r.storeIdDocuments,label:"n"})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"XI."}),e.jsx("td",{className:"p-2 bg-gray-50 font-medium",children:"Sniedzamie papildus pakalpojumi"}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-48",children:"- Veas mazgana un marana:"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(w,{checked:r.laundryService,label:"j"}),e.jsx(w,{checked:!r.laundryService,label:"n"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-48",children:"- Podologs:"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(w,{checked:r.podologistService,label:`j${r.podologistFrequency?`, ${r.podologistFrequency}x mnes`:""}`}),e.jsx(w,{checked:!r.podologistService,label:"n"})]})]}),r.otherServices&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-48",children:"- Cits:"}),e.jsx("span",{children:r.otherServices})]})]})})]})]})})}),r.roomNumber&&e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("strong",{children:"Pieirt istaba:"})," Nr. ",r.roomNumber,r.bedNumber&&r.roomType==="2-vietga"&&`, gulta ${r.bedNumber}`]}),e.jsx("p",{className:"mb-2",children:"1.2. Lgums tiek noslgts par socils aprpes, socils rehabilitcijas un citu socilo pakalpojumu nodroinanu Klientam td apmr un krtb, k to paredz atbilstoie LR normatvie akti."}),e.jsxs("p",{children:["1.3. Pakalpojumi tiek nodrointi Pakalpojuma sniedzja valdjum esoajs telps, kas atrodas ",v,"."]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-base font-bold mb-4 border-b border-gray-300 pb-1",children:"2. LGUMA TERMI UN LGUMA IZBEIGANAS NOTEIKUMI"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:"2.1. Lgums ir spk no dienas, kad to ir parakstjuas Puses."}),e.jsx("p",{children:"2.2. Lguma termi ir noteikts atbilstoi 1.1. punkt mintajam."}),e.jsx("p",{children:"2.3. Puses vienojas, ka is Lgums var tikt izbeigts saska ar Lguma noteikumiem un piemrojamajiem LR normatvajiem aktiem."})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-base font-bold mb-4 border-b border-gray-300 pb-1",children:"3. PAKALPOJUMA MAKSA UN NORINU KRTBA"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["3.1. Pakalpojuma maksa par vienu diennakti ir"," ",e.jsx("strong",{children:r.dailyRateWithDiscount?`EUR ${r.dailyRateWithDiscount.toFixed(2)}`:"EUR ________"}),"."]}),e.jsx("p",{children:"3.2. Ikmnea maksjums tiek aprints, pamatojoties uz faktiski pavadto diennaku skaitu."}),e.jsx("p",{children:"3.3. Rins tiek izrakstts katra mnea skum par iepriekjo mnesi. Maksjums jveic 10 (desmit) darba dienu laik no rina saemanas."}),e.jsx("p",{children:"3.4. Maksjumi veicami ar prskaitjumu uz Pakalpojuma sniedzja kontu:"}),e.jsxs("div",{className:"ml-4 bg-gray-50 p-3 border border-gray-200 mt-2",children:[e.jsx("p",{children:I}),e.jsxs("p",{children:["Re. Nr. ",D]}),e.jsxs("p",{children:["Banka: ",C.name]}),e.jsxs("p",{children:["Konta Nr.: ",C.account]})]})]})]}),e.jsxs("div",{className:"mb-8 p-3 bg-gray-50 border border-gray-200",children:[e.jsx("p",{className:"font-medium mb-1",children:N}),e.jsx("p",{children:v}),e.jsxs("p",{children:["Tlrunis: ",k]}),e.jsxs("p",{children:["E-pasts: ",b]})]}),e.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-300",children:[e.jsx("h2",{className:"text-base font-bold mb-8",children:"PUU PARAKSTI"}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"Pakalpojuma sniedzjs:"}),e.jsx("p",{children:I}),e.jsx("p",{className:"text-gray-600 mb-2",children:v}),e.jsxs("p",{className:"text-gray-600 mb-16",children:["Re. Nr. ",D]}),e.jsx("div",{className:"border-t border-gray-400 pt-2",children:e.jsx("p",{className:"text-gray-500 text-xs",children:"(paraksts, atifrjums)"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"Klients:"}),e.jsx("p",{children:r.residentName||"________________________"}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Personas kods: ",r.residentPersonalCode||"________________________"]}),e.jsx("p",{className:"text-gray-600 mb-16",children:r.residentAddress||"________________________"}),e.jsx("div",{className:"border-t border-gray-400 pt-2",children:e.jsx("p",{className:"text-gray-500 text-xs",children:"(paraksts, atifrjums)"})})]}),!r.residentIsClient&&r.clientName&&e.jsxs("div",{className:"col-span-2 mt-8",children:[e.jsx("p",{className:"font-semibold mb-2",children:"Apgdnieks:"}),e.jsx("p",{children:r.clientName}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Personas kods: ",r.clientPersonalCode||"________________________"]}),e.jsx("p",{className:"text-gray-600 mb-16",children:r.clientAddress||"________________________"}),e.jsx("div",{className:"border-t border-gray-400 pt-2 max-w-xs",children:e.jsx("p",{className:"text-gray-500 text-xs",children:"(paraksts, atifrjums)"})})]})]})]}),e.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Lguma pielikumi:"}),e.jsxs("ul",{className:"text-sm space-y-1 text-gray-600",children:[e.jsx("li",{children:'Pielikums Nr.1  "Pakalpojumu apraksts"'}),e.jsx("li",{children:'Pielikums Nr.2  "Par samaksas apmru un samaksas termiiem"'}),e.jsx("li",{children:'Pielikums Nr.3  "Centra Iekjs krtbas noteikumi"'}),e.jsx("li",{children:'Pielikums Nr.4  "Privtuma politika"'})]})]}),e.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-200 text-center text-xs text-gray-500",children:[e.jsx("p",{children:"Lgums sagatavots divos eksemplros, pa vienam katrai Pusei."}),e.jsx("p",{className:"mt-1",children:"Abiem eksemplriem ir viends juridisks spks."})]})]})}),e.jsx("style",{children:`
        @media print {
          body {
            background: white !important;
          }
          @page {
            size: A4;
            margin: 1.5cm;
          }
        }
      `})]})},Cr=({title:r,icon:n,children:i,count:l,lastUpdate:u,onAdd:c,onHistory:x,defaultOpen:p=!1,addLabel:g="Pievienot",badge:f,badgeColor:h="gray"})=>{const[N,I]=y.useState(p),D={green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700",orange:"bg-orange-100 text-orange-700",red:"bg-red-100 text-red-700",blue:"bg-blue-100 text-blue-700",gray:"bg-gray-100 text-gray-600"};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>I(!N),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[n&&e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(n,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:r}),u&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Pdjais ieraksts: ",u]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l!==void 0&&e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:l}),f&&e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${D[h]}`,children:f}),e.jsx(In,{className:`w-5 h-5 text-gray-400 transition-transform ${N?"rotate-180":""}`})]})]}),N&&e.jsxs("div",{className:"border-t border-gray-200",children:[(c||x)&&e.jsxs("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[x&&e.jsxs("button",{onClick:x,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(hx,{className:"w-4 h-4"}),"Vsture"]}),c&&e.jsxs("button",{onClick:c,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm text-orange-600 hover:text-orange-700 hover:bg-orange-50 rounded-lg transition-colors",children:[e.jsx(ii,{className:"w-4 h-4"}),g]})]}),e.jsx("div",{className:"p-4",children:i})]})]})},lb=({vitals:r,onRecordNew:n})=>{var g;if(!r)return e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(li,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"Nav pieejamu mrjumu"}),n&&e.jsx("button",{onClick:n,className:"mt-2 text-sm text-orange-600 hover:text-orange-700",children:"Pievienot pirmo mrjumu"})]});const i=(f,h)=>{if(f==null)return null;const N=Y0[h];return N?f>=N.min&&f<=N.max:null},l=((g=r.bloodPressure)==null?void 0:g.split("/"))||[],u=parseInt(l[0])||null,c=parseInt(l[1])||null,x=[{label:"Temperatra",value:r.temperature,unit:"C",icon:bx,normal:i(r.temperature,"temperature"),color:"red"},{label:"Cukura lmenis",value:r.bloodSugar,unit:"mmol/L",icon:gx,normal:i(r.bloodSugar,"bloodSugar"),color:"purple"},{label:"Asinsspiediens",value:r.bloodPressure,unit:"",icon:li,normal:u!==null?i(u,"bloodPressureSystolic")&&i(c,"bloodPressureDiastolic"):null,color:"blue"},{label:"Pulss",value:r.pulse,unit:"",icon:ta,normal:i(r.pulse,"pulse"),color:"pink"},{label:"Saturcija",value:r.oxygen,unit:"%",icon:dd,normal:i(r.oxygen,"oxygen"),color:"cyan"},{label:"Svars",value:r.weight,unit:"kg",icon:Ny,normal:null,color:"gray"}],p={red:{bg:"bg-red-50",icon:"text-red-500",value:"text-red-700"},purple:{bg:"bg-purple-50",icon:"text-purple-500",value:"text-purple-700"},blue:{bg:"bg-blue-50",icon:"text-blue-500",value:"text-blue-700"},pink:{bg:"bg-pink-50",icon:"text-pink-500",value:"text-pink-700"},cyan:{bg:"bg-cyan-50",icon:"text-cyan-500",value:"text-cyan-700"},gray:{bg:"bg-gray-50",icon:"text-gray-500",value:"text-gray-700"}};return e.jsxs("div",{children:[r.measuredAt&&e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Mrts: ",new Date(r.measuredAt).toLocaleString("lv-LV"),r.measuredBy&&e.jsxs("span",{children:["  ",r.measuredBy]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:x.map((f,h)=>{const N=p[f.color],I=f.value!==null&&f.value!==void 0&&f.value!=="";return e.jsxs("div",{className:`${N.bg} rounded-lg p-3 relative`,children:[f.normal!==null&&e.jsx("span",{className:`absolute top-1 right-1 w-2 h-2 rounded-full ${f.normal?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(f.icon,{className:`w-4 h-4 ${N.icon}`}),e.jsx("span",{className:"text-xs text-gray-600",children:f.label})]}),e.jsx("div",{className:`text-lg font-bold ${I?N.value:"text-gray-400"}`,children:I?e.jsxs(e.Fragment,{children:[f.value,f.unit&&e.jsx("span",{className:"text-sm font-normal ml-1",children:f.unit})]}):""})]},h)})}),r.notes&&e.jsx("div",{className:"mt-3 p-2 bg-yellow-50 rounded text-sm text-yellow-800",children:r.notes})]})},ib=({diagnoses:r,onEdit:n,onDelete:i})=>!r||r.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(sd,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"Nav pievienotu diagnou"})]}):e.jsx("div",{className:"space-y-3",children:r.map(l=>{const u=Ic[l.status]||Ic.active;return e.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:border-gray-300 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.code&&e.jsx("span",{className:"text-xs font-mono bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded",children:l.code}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${u.bgColor} ${u.textColor}`,children:u.label})]}),e.jsx("p",{className:"font-medium text-gray-900 mt-1",children:l.description||"Nav apraksta"}),l.notes&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l.notes}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-400",children:[l.diagnosedDate&&e.jsxs("span",{children:["Diagnosticts: ",new Date(l.diagnosedDate).toLocaleDateString("lv-LV")]}),l.createdBy&&e.jsxs("span",{children:["Pievienoja: ",l.createdBy]})]})]}),(n||i)&&e.jsxs("div",{className:"flex items-center gap-1",children:[n&&e.jsx("button",{onClick:()=>n(l),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Redit",children:e.jsx(ad,{className:"w-4 h-4"})}),i&&e.jsx("button",{onClick:()=>i(l.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Dzst",children:e.jsx(yy,{className:"w-4 h-4"})})]})]})},l.id)})});function aa(r){const n=Date.now(),i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${r}-${n}-${i}`}function xt(r){return JSON.parse(localStorage.getItem(r)||"[]")}function rr(r,n){localStorage.setItem(r,JSON.stringify(n))}function zc(r){return xt(ve.DIAGNOSES).filter(i=>i.residentId===r).sort((i,l)=>new Date(l.createdAt)-new Date(i.createdAt))}function ob(r,n){const i=xt(ve.DIAGNOSES),l={id:aa("DX"),residentId:r,code:n.code||"",description:n.description||"",diagnosedDate:n.diagnosedDate||new Date().toISOString().split("T")[0],status:n.status||"active",notes:n.notes||"",createdBy:n.createdBy||"Lietotjs",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return i.push(l),rr(ve.DIAGNOSES,i),l}function cb(r,n){const i=xt(ve.DIAGNOSES),l=i.findIndex(u=>u.id===r);if(l===-1)throw new Error("Diagnoze nav atrasta");return i[l]={...i[l],...n,id:i[l].id,residentId:i[l].residentId,updatedAt:new Date().toISOString()},rr(ve.DIAGNOSES,i),i[l]}function Lc(r){const i=xt(ve.VITALS_LOG).filter(l=>l.residentId===r);return i.length===0?null:i.sort((l,u)=>new Date(u.measuredAt)-new Date(l.measuredAt))[0]}function db(r,n){const i=xt(ve.VITALS_LOG),l={id:aa("VIT"),residentId:r,temperature:n.temperature||null,bloodPressure:n.bloodPressure||"",pulse:n.pulse||null,oxygen:n.oxygen||null,weight:n.weight||null,bloodSugar:n.bloodSugar||null,measuredAt:n.measuredAt||new Date().toISOString(),measuredBy:n.measuredBy||"Lietotjs",notes:n.notes||""};return i.push(l),rr(ve.VITALS_LOG,i),l}function Mc(r){return xt(ve.VACCINATIONS).filter(i=>i.residentId===r).sort((i,l)=>new Date(l.administeredDate)-new Date(i.administeredDate))}function ub(r,n){const i=xt(ve.VACCINATIONS),l={id:aa("VAC"),residentId:r,vaccineName:n.vaccineName||"",vaccineType:n.vaccineType||"other",series:n.series||"",administeredDate:n.administeredDate||new Date().toISOString().split("T")[0],expirationDate:n.expirationDate||null,administeredBy:n.administeredBy||"Lietotjs",notes:n.notes||"",createdAt:new Date().toISOString()};return i.push(l),rr(ve.VACCINATIONS,i),l}function mb(r,n){const i=xt(ve.VACCINATIONS),l=i.findIndex(u=>u.id===r);if(l===-1)throw new Error("Vakcincija nav atrasta");return i[l]={...i[l],...n,id:i[l].id,residentId:i[l].residentId},rr(ve.VACCINATIONS,i),i[l]}function wi(r,n){return xt(r).filter(l=>l.residentId===n).sort((l,u)=>new Date(u.assessedAt)-new Date(l.assessedAt))}function zx(r,n,i,l){const u=xt(r),c={id:aa(n),residentId:i,assessedAt:l.assessedAt||new Date().toISOString(),assessedBy:l.assessedBy||"Lietotjs",notes:l.notes||"",findings:l.findings||"",recommendations:l.recommendations||"",...l,createdAt:new Date().toISOString()};return u.push(c),rr(r,u),c}function Oc(r){return wi(ve.ASSESSMENTS_DOCTOR,r)}function xb(r,n){return zx(ve.ASSESSMENTS_DOCTOR,"DOC",r,n)}function $c(r){return wi(ve.ASSESSMENTS_NURSE,r)}function Bc(r){return wi(ve.ASSESSMENTS_PSYCH,r)}function gb(r,n){return zx(ve.ASSESSMENTS_PSYCH,"PSY",r,n)}function Vc(r){return wi(ve.ASSESSMENTS_PHYSIO,r)}function pb(r){return xt(ve.RISK_MORSE).filter(i=>i.residentId===r).sort((i,l)=>new Date(l.assessedAt)-new Date(i.assessedAt))}function Fc(r){const n=pb(r);return n.length>0?n[0]:null}function hb(r,n){const i=xt(ve.RISK_MORSE),l=n.factors||{},u=(l.fallHistory||0)+(l.secondaryDiagnosis||0)+(l.ambulatoryAid||0)+(l.ivTherapy||0)+(l.gait||0)+(l.mentalStatus||0);let c="low";u>=51?c="high":u>=25&&(c="medium");const x={id:aa("MORSE"),residentId:r,scaleType:"morse",score:u,riskLevel:c,factors:l,assessedAt:n.assessedAt||new Date().toISOString(),assessedBy:n.assessedBy||"Lietotjs",notes:n.notes||""};return i.push(x),rr(ve.RISK_MORSE,i),x}function fb(r){return xt(ve.RISK_BRADEN).filter(i=>i.residentId===r).sort((i,l)=>new Date(l.assessedAt)-new Date(i.assessedAt))}function Uc(r){const n=fb(r);return n.length>0?n[0]:null}function yb(r,n){const i=xt(ve.RISK_BRADEN),l=n.factors||{},u=(l.sensoryPerception||0)+(l.moisture||0)+(l.activity||0)+(l.mobility||0)+(l.nutrition||0)+(l.frictionShear||0);let c="low";u<=12?c="very_high":u<=14?c="high":u<=18&&(c="medium");const x={id:aa("BRADEN"),residentId:r,scaleType:"braden",score:u,riskLevel:c,factors:l,assessedAt:n.assessedAt||new Date().toISOString(),assessedBy:n.assessedBy||"Lietotjs",notes:n.notes||""};return i.push(x),rr(ve.RISK_BRADEN,i),x}function vb(r){return xt(ve.RISK_BARTHEL).filter(i=>i.residentId===r).sort((i,l)=>new Date(l.assessedAt)-new Date(i.assessedAt))}function qc(r){const n=vb(r);return n.length>0?n[0]:null}function mi(r){return xt(ve.TECHNICAL_AIDS).filter(i=>i.residentId===r).sort((i,l)=>new Date(l.assignedAt)-new Date(i.assignedAt))}function bb(r,n){const i=xt(ve.TECHNICAL_AIDS),l={id:aa("AID"),residentId:r,category:n.category||"other",aidType:n.aidType||"",description:n.description||"",assignedAt:n.assignedAt||new Date().toISOString(),assignedBy:n.assignedBy||"Lietotjs",notes:n.notes||"",status:n.status||"active"};return i.push(l),rr(ve.TECHNICAL_AIDS,i),l}function p0(r){return{diagnoses:zc(r).length,vitals:Lc(r),vaccinations:Mc(r).length,doctorAssessments:Oc(r).length,nurseAssessments:$c(r).length,psychiatristAssessments:Bc(r).length,physiotherapistAssessments:Vc(r).length,morseScore:Fc(r),bradenScore:Uc(r),barthelIndex:qc(r),technicalAids:mi(r).filter(n=>n.status==="active").length}}const jb=({resident:r,diagnosis:n,onSave:i,onClose:l})=>{const[u,c]=y.useState({code:"",description:"",diagnosedDate:new Date().toISOString().split("T")[0],status:"active",clinicalStatus:"",notes:"",createdBy:"Dakteris Gints"}),[x,p]=y.useState({}),[g,f]=y.useState(!1);y.useEffect(()=>{n&&c({code:n.code||"",description:n.description||"",diagnosedDate:n.diagnosedDate||new Date().toISOString().split("T")[0],status:n.status||"active",clinicalStatus:n.clinicalStatus||"",notes:n.notes||"",createdBy:n.createdBy||"Dakteris Gints"})},[n]);const h=(k,b)=>{c(C=>({...C,[k]:b})),x[k]&&p(C=>({...C,[k]:null}))},N=()=>{const k={};return u.description.trim()||(k.description="Diagnozes apraksts ir obligts"),u.diagnosedDate||(k.diagnosedDate="Diagnosticanas datums ir obligts"),p(k),Object.keys(k).length===0},I=async k=>{if(k.preventDefault(),!!N()){f(!0);try{n!=null&&n.id?cb(n.id,u):ob(r.id,u),i()}catch(b){console.error("Error saving diagnosis:",b)}finally{f(!1)}}},D=[{code:"I10",description:"Esencila (primra) hipertensija"},{code:"E11",description:"Cukura diabts, 2. tips"},{code:"F03",description:"Demence, neprecizta"},{code:"J44",description:"Cita hroniska obstruktva plauu slimba"},{code:"I25",description:"Hroniska imiska sirds slimba"},{code:"M81",description:"Osteoporoze bez patoloiska lzuma"},{code:"G30",description:"Alcheimera slimba"},{code:"N18",description:"Hroniska nieru slimba"},{code:"I48",description:"Priekkambaru mirdzana un plandans"},{code:"F32",description:"Depresva epizode"}],v=k=>{c(b=>({...b,code:k.code,description:k.description}))};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n?"Redit diagnozi":"Pievienot diagnozi"}),e.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:I,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SSK-10 kods"}),e.jsx("input",{type:"text",value:u.code,onChange:k=>h("code",k.target.value.toUpperCase()),placeholder:"piem., I10, E11",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Biek lietots diagnozes"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:D.slice(0,5).map(k=>e.jsx("button",{type:"button",onClick:()=>v(k),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-orange-100 text-gray-700 hover:text-orange-700 rounded transition-colors",children:k.code},k.code))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Diagnozes apraksts ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:u.description,onChange:k=>h("description",k.target.value),placeholder:"piem., Esencila hipertensija",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.description?"border-red-500":"border-gray-300"}`}),x.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.description})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Diagnosticanas datums ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:u.diagnosedDate,onChange:k=>h("diagnosedDate",k.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.diagnosedDate?"border-red-500":"border-gray-300"}`}),x.diagnosedDate&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.diagnosedDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statuss"}),e.jsx("select",{value:u.status,onChange:k=>h("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:Object.entries(Ic).map(([k,b])=>e.jsx("option",{value:k,children:b.label},k))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Klniskais stvoklis"}),e.jsxs("select",{value:u.clinicalStatus,onChange:k=>h("clinicalStatus",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Nav nordts"}),e.jsx("option",{value:"stable",children:"Stabils"}),e.jsx("option",{value:"improving",children:"Uzlabojas"}),e.jsx("option",{value:"worsening",children:"Pasliktins"}),e.jsx("option",{value:"remission",children:"Remisija"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Papildus informcija"}),e.jsx("textarea",{value:u.notes,onChange:k=>h("notes",k.target.value),rows:3,placeholder:"Piezmes par diagnozi...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Atcelt"}),e.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50",children:g?"Saglab...":"Saglabt"})]})]})]})})};function Nb(r,n){if(!r||!n||r<=0||n<=0)return null;const i=n/100,l=r/(i*i);return parseFloat(l.toFixed(1))}function wb(r){return!r||r<=0?{value:"unknown",label:"Nav datu",color:"gray"}:r<18.5?{value:"underweight",label:"Nepietiekams svars",color:"yellow"}:r<25?{value:"normal",label:"Normls svars",color:"green"}:r<30?{value:"overweight",label:"Liekais svars",color:"orange"}:{value:"obese",label:"Aptaukoans",color:"red"}}const kb=({resident:r,onSave:n,onClose:i})=>{const[l,u]=y.useState({systolic:"",diastolic:"",pulse:"",oxygen:"",temperature:"",bloodSugar:"",weight:"",height:(r==null?void 0:r.height)||"",generalCondition:"",notes:"",measuredBy:"Msa"}),c=y.useMemo(()=>{const b=parseFloat(l.weight),C=parseFloat(l.height);if(b&&C){const w=Nb(b,C),E=wb(w);return{bmi:w,category:E}}return null},[l.weight,l.height]),[x,p]=y.useState({}),[g,f]=y.useState(!1),h=(b,C)=>{u(w=>({...w,[b]:C})),x[b]&&p(w=>({...w,[b]:null}))},N=(b,C)=>{if(!b||b==="")return null;const w=parseFloat(b);if(isNaN(w))return null;const E=Y0[C];return E?w>=E.min&&w<=E.max:null},I=(b,C)=>{const w=N(b,C);return w===null?null:w?e.jsx("span",{className:"text-green-600 text-xs",children:"Norm"}):e.jsx("span",{className:"text-red-600 text-xs font-medium",children:"rpus normas!"})},D=()=>{const b={};return l.systolic||l.diastolic||l.pulse||l.oxygen||l.temperature||l.bloodSugar||l.weight||(b.general="Jievada vismaz viens mrjums"),l.systolic&&isNaN(parseFloat(l.systolic))&&(b.systolic="Jbt skaitlim"),l.diastolic&&isNaN(parseFloat(l.diastolic))&&(b.diastolic="Jbt skaitlim"),l.pulse&&isNaN(parseFloat(l.pulse))&&(b.pulse="Jbt skaitlim"),l.oxygen&&isNaN(parseFloat(l.oxygen))&&(b.oxygen="Jbt skaitlim"),l.temperature&&isNaN(parseFloat(l.temperature))&&(b.temperature="Jbt skaitlim"),l.bloodSugar&&isNaN(parseFloat(l.bloodSugar))&&(b.bloodSugar="Jbt skaitlim"),l.weight&&isNaN(parseFloat(l.weight))&&(b.weight="Jbt skaitlim"),l.height&&isNaN(parseFloat(l.height))&&(b.height="Jbt skaitlim"),p(b),Object.keys(b).length===0},v=async b=>{if(b.preventDefault(),!!D()){f(!0);try{const C=l.systolic&&l.diastolic?`${l.systolic}/${l.diastolic}`:"";db(r.id,{bloodPressure:C,pulse:l.pulse?parseFloat(l.pulse):null,oxygen:l.oxygen?parseFloat(l.oxygen):null,temperature:l.temperature?parseFloat(l.temperature):null,bloodSugar:l.bloodSugar?parseFloat(l.bloodSugar):null,weight:l.weight?parseFloat(l.weight):null,height:l.height?parseFloat(l.height):null,bmi:(c==null?void 0:c.bmi)||null,generalCondition:l.generalCondition,notes:l.notes,measuredBy:l.measuredBy,measuredAt:new Date().toISOString()}),n()}catch(C){console.error("Error saving vitals:",C)}finally{f(!1)}}},k=[{value:"",label:"Nav nordts"},{value:"good",label:"Labs"},{value:"satisfactory",label:"Apmierinos"},{value:"moderate",label:"Vidji smags"},{value:"poor",label:"Smags"},{value:"critical",label:"Kritisks"}];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Reistrt vitlos rdtjus"}),e.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[x.general&&e.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg text-sm",children:x.general}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(li,{className:"w-4 h-4 text-blue-500"}),"Asinsspiediens (mmHg)"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:l.systolic,onChange:b=>h("systolic",b.target.value),placeholder:"Sistoliskais",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.systolic?"border-red-500":"border-gray-300"}`}),I(l.systolic,"bloodPressureSystolic")]}),e.jsx("span",{className:"text-gray-500",children:"/"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:l.diastolic,onChange:b=>h("diastolic",b.target.value),placeholder:"Diastoliskais",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.diastolic?"border-red-500":"border-gray-300"}`}),I(l.diastolic,"bloodPressureDiastolic")]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-1",children:[e.jsx(ta,{className:"w-4 h-4 text-pink-500"}),"Pulss"]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",value:l.pulse,onChange:b=>h("pulse",b.target.value),placeholder:"sitieni/min",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.pulse?"border-red-500":"border-gray-300"}`}),I(l.pulse,"pulse")]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-1",children:[e.jsx(dd,{className:"w-4 h-4 text-cyan-500"}),"Saturcija (%)"]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",value:l.oxygen,onChange:b=>h("oxygen",b.target.value),placeholder:"95-100%",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.oxygen?"border-red-500":"border-gray-300"}`}),I(l.oxygen,"oxygen")]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-1",children:[e.jsx(bx,{className:"w-4 h-4 text-red-500"}),"Temperatra (C)"]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",value:l.temperature,onChange:b=>h("temperature",b.target.value),placeholder:"36.6",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.temperature?"border-red-500":"border-gray-300"}`}),I(l.temperature,"temperature")]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-1",children:[e.jsx(gx,{className:"w-4 h-4 text-purple-500"}),"Cukura lmenis (mmol/L)"]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",value:l.bloodSugar,onChange:b=>h("bloodSugar",b.target.value),placeholder:"4.0-7.0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.bloodSugar?"border-red-500":"border-gray-300"}`}),I(l.bloodSugar,"bloodSugar")]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-1",children:[e.jsx(gy,{className:"w-4 h-4 text-gray-500"}),"Svars (kg)"]}),e.jsx("input",{type:"text",value:l.weight,onChange:b=>h("weight",b.target.value),placeholder:"kg",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.weight?"border-red-500":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-1",children:[e.jsx(xy,{className:"w-4 h-4 text-gray-500"}),"Augums (cm)"]}),e.jsx("input",{type:"text",value:l.height,onChange:b=>h("height",b.target.value),placeholder:"cm",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.height?"border-red-500":"border-gray-300"}`})]})]}),c&&e.jsx("div",{className:`p-3 rounded-lg border ${c.category.color==="green"?"bg-green-50 border-green-200":c.category.color==="yellow"?"bg-yellow-50 border-yellow-200":c.category.color==="orange"?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"ermea masas indekss (MI)"}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`text-lg font-bold ${c.category.color==="green"?"text-green-700":c.category.color==="yellow"?"text-yellow-700":c.category.color==="orange"?"text-orange-700":"text-red-700"}`,children:c.bmi}),e.jsxs("span",{className:`ml-2 text-sm ${c.category.color==="green"?"text-green-600":c.category.color==="yellow"?"text-yellow-600":c.category.color==="orange"?"text-orange-600":"text-red-600"}`,children:["(",c.category.label,")"]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Visprjais stvoklis"}),e.jsx("select",{value:l.generalCondition,onChange:b=>h("generalCondition",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:k.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Piezmes"}),e.jsx("textarea",{value:l.notes,onChange:b=>h("notes",b.target.value),rows:3,placeholder:"Papildus novrojumi...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Atcelt"}),e.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50",children:g?"Saglab...":"Saglabt"})]})]})]})})},Sb=({resident:r,vaccination:n,onSave:i,onClose:l})=>{const[u,c]=y.useState({vaccineName:"",vaccineType:"other",series:"",administeredDate:new Date().toISOString().split("T")[0],expirationDate:"",administeredBy:"Msa",notes:""}),[x,p]=y.useState({}),[g,f]=y.useState(!1);y.useEffect(()=>{n&&c({vaccineName:n.vaccineName||"",vaccineType:n.vaccineType||"other",series:n.series||"",administeredDate:n.administeredDate||new Date().toISOString().split("T")[0],expirationDate:n.expirationDate||"",administeredBy:n.administeredBy||"Msa",notes:n.notes||""})},[n]);const h=(k,b)=>{c(C=>({...C,[k]:b})),x[k]&&p(C=>({...C,[k]:null}))},N=k=>{h("vaccineType",k);const b=e0.find(C=>C.value===k);b&&k!=="other"&&h("vaccineName",b.label)},I=()=>{const k={};return u.vaccineName.trim()||(k.vaccineName="Vakcnas nosaukums ir obligts"),u.administeredDate||(k.administeredDate="Datums ir obligts"),p(k),Object.keys(k).length===0},D=async k=>{if(k.preventDefault(),!!I()){f(!0);try{n!=null&&n.id?mb(n.id,u):ub(r.id,u),i()}catch(b){console.error("Error saving vaccination:",b)}finally{f(!1)}}},v=[{type:"covid19",name:"Comirnaty (COVID-19)"},{type:"flu",name:"Influvac Tetra"},{type:"pneumococcal",name:"Prevenar 13"},{type:"tetanus",name:"Tetanus Toxoid"},{type:"shingles",name:"Shingrix"}];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(vx,{className:"w-5 h-5 text-green-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n?"Redit vakcinciju":"Pievienot vakcinciju"})]}),e.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:D,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vakcnas tips"}),e.jsx("select",{value:u.vaccineType,onChange:k=>N(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:e0.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Biek lietots vakcnas"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(k=>e.jsx("button",{type:"button",onClick:()=>{N(k.type),h("vaccineName",k.name)},className:"px-2 py-1 text-xs bg-gray-100 hover:bg-green-100 text-gray-700 hover:text-green-700 rounded transition-colors",children:k.name.split(" ")[0]},k.type))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Vakcnas nosaukums ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:u.vaccineName,onChange:k=>h("vaccineName",k.target.value),placeholder:"piem., Comirnaty, Influvac",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.vaccineName?"border-red-500":"border-gray-300"}`}),x.vaccineName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.vaccineName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Srijas numurs"}),e.jsx("input",{type:"text",value:u.series,onChange:k=>h("series",k.target.value),placeholder:"piem., ABC123456",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Vakcincijas datums ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:u.administeredDate,onChange:k=>h("administeredDate",k.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${x.administeredDate?"border-red-500":"border-gray-300"}`}),x.administeredDate&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.administeredDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Piezmes"}),e.jsx("textarea",{value:u.notes,onChange:k=>h("notes",k.target.value),rows:2,placeholder:"Reakcijas, blaknes...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Atcelt"}),e.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50",children:g?"Saglab...":"Saglabt"})]})]})]})})},Cb=({resident:r,onSave:n,onClose:i})=>{const[l,u]=y.useState({generalCondition:"",consciousness:"",orientation:"",cooperation:"",skinCondition:"",skinTurgor:"",edema:"",edemaLocation:"",heartSounds:"",heartRhythm:"",bloodPressure:"",pulse:"",breathingSounds:"",breathingType:"",oxygenSaturation:"",abdomenPalpation:"",bowelSounds:"",liverPalpation:"",neurologicalStatus:"",muscleStrength:"",reflexes:"",coordination:"",jointMobility:"",muscleTone:"",gait:"",findings:"",diagnosis:"",recommendations:"",followUpDate:"",assessedBy:"Dakteris Gints",notes:""}),[c,x]=y.useState({}),[p,g]=y.useState(!1),[f,h]=y.useState("general"),N=(A,H)=>{u(O=>({...O,[A]:H}))},I=async A=>{A.preventDefault(),g(!0);try{xb(r.id,{...l,assessedAt:new Date().toISOString()}),n()}catch(H){console.error("Error saving doctor assessment:",H)}finally{g(!1)}},D=[{id:"general",label:"Visprjais"},{id:"skin",label:"da"},{id:"cardiovascular",label:"Sirds-asinsvadi"},{id:"respiratory",label:"Elpoana"},{id:"abdomen",label:"Vders"},{id:"neuro",label:"Neiroloija"},{id:"musculo",label:"Balsta-kustbu"},{id:"summary",label:"Kopsavilkums"}],v=["Labs","Apmierinos","Vidji smags","Smags","Kritisks"],k=["Skaidra","Apmiglota","Sopors","Koma"],b=["Pilngi orientts","Daji dezorientts","Pilngi dezorientts"],C=["Pilngi sadarbojas","Daji sadarbojas","Nesadarbojas"],w=["Normla","Sausa","Mitra","Blva","Cinotiski","Iktriska"],E=["Norma","Patoloija"],S=["Regulrs","Neregulrs","Aritmija"],R=["Vezikulra","Pavjinta","Skana","Krepitcija"],z=["Nav","Viegla","Mrena","Izteikta"],B=()=>{switch(f){case"general":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Visprjais stvoklis"}),e.jsxs("select",{value:l.generalCondition,onChange:A=>N("generalCondition",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),v.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apzia"}),e.jsxs("select",{value:l.consciousness,onChange:A=>N("consciousness",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),k.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Orientcija"}),e.jsxs("select",{value:l.orientation,onChange:A=>N("orientation",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),b.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sadarbba"}),e.jsxs("select",{value:l.cooperation,onChange:A=>N("cooperation",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),C.map(A=>e.jsx("option",{value:A,children:A},A))]})]})]});case"skin":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"das stvoklis"}),e.jsxs("select",{value:l.skinCondition,onChange:A=>N("skinCondition",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),w.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"das turgors"}),e.jsxs("select",{value:l.skinTurgor,onChange:A=>N("skinTurgor",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),E.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tska"}),e.jsxs("select",{value:l.edema,onChange:A=>N("edema",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),z.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),l.edema&&l.edema!=="Nav"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tskas lokalizcija"}),e.jsx("input",{type:"text",value:l.edemaLocation,onChange:A=>N("edemaLocation",A.target.value),placeholder:"piem., kjas, pottes",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]});case"cardiovascular":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sirds toi"}),e.jsxs("select",{value:l.heartSounds,onChange:A=>N("heartSounds",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Skaidri",children:"Skaidri"}),e.jsx("option",{value:"Klusi",children:"Klusi"}),e.jsx("option",{value:"Troksnis",children:"Ar troksni"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sirds ritms"}),e.jsxs("select",{value:l.heartRhythm,onChange:A=>N("heartRhythm",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),S.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AS (mmHg)"}),e.jsx("input",{type:"text",value:l.bloodPressure,onChange:A=>N("bloodPressure",A.target.value),placeholder:"120/80",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pulss"}),e.jsx("input",{type:"text",value:l.pulse,onChange:A=>N("pulse",A.target.value),placeholder:"sitieni/min",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]})]});case"respiratory":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Elpoanas troki"}),e.jsxs("select",{value:l.breathingSounds,onChange:A=>N("breathingSounds",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),R.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Elpoanas tips"}),e.jsxs("select",{value:l.breathingType,onChange:A=>N("breathingType",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Normla",children:"Normla"}),e.jsx("option",{value:"Patrinta",children:"Patrinta"}),e.jsx("option",{value:"Palninta",children:"Palninta"}),e.jsx("option",{value:"Apgrtinta",children:"Apgrtinta"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saturcija (%)"}),e.jsx("input",{type:"text",value:l.oxygenSaturation,onChange:A=>N("oxygenSaturation",A.target.value),placeholder:"95-100%",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]});case"abdomen":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vdera palpcija"}),e.jsxs("select",{value:l.abdomenPalpation,onChange:A=>N("abdomenPalpation",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Mksts, nespgs",children:"Mksts, nespgs"}),e.jsx("option",{value:"Spgs",children:"Spgs"}),e.jsx("option",{value:"Saspringts",children:"Saspringts"}),e.jsx("option",{value:"Uzpsts",children:"Uzpsts"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zarnu troki"}),e.jsxs("select",{value:l.bowelSounds,onChange:A=>N("bowelSounds",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Normli",children:"Normli"}),e.jsx("option",{value:"Pavjinti",children:"Pavjinti"}),e.jsx("option",{value:"Pastiprinti",children:"Pastiprinti"}),e.jsx("option",{value:"Nav dzirdami",children:"Nav dzirdami"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aknu palpcija"}),e.jsxs("select",{value:l.liverPalpation,onChange:A=>N("liverPalpation",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Nav palielintas",children:"Nav palielintas"}),e.jsx("option",{value:"Palielintas",children:"Palielintas"}),e.jsx("option",{value:"Nav palpjamas",children:"Nav palpjamas"})]})]})]});case"neuro":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Neiroloiskais statuss"}),e.jsx("textarea",{value:l.neurologicalStatus,onChange:A=>N("neurologicalStatus",A.target.value),rows:2,placeholder:"Aprakstiet neiroloisko stvokli...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Muskuu spks"}),e.jsxs("select",{value:l.muscleStrength,onChange:A=>N("muscleStrength",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Saglabts",children:"Saglabts"}),e.jsx("option",{value:"Nedaudz samazints",children:"Nedaudz samazints"}),e.jsx("option",{value:"Btiski samazints",children:"Btiski samazints"}),e.jsx("option",{value:"oti vj",children:"oti vj"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refleksi"}),e.jsxs("select",{value:l.reflexes,onChange:A=>N("reflexes",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Normli",children:"Normli"}),e.jsx("option",{value:"Pavjinti",children:"Pavjinti"}),e.jsx("option",{value:"Pastiprinti",children:"Pastiprinti"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Koordincija"}),e.jsxs("select",{value:l.coordination,onChange:A=>N("coordination",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Saglabta",children:"Saglabta"}),e.jsx("option",{value:"Traucta",children:"Traucta"})]})]})]});case"musculo":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loctavu kustgums"}),e.jsxs("select",{value:l.jointMobility,onChange:A=>N("jointMobility",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Pilns apjoms",children:"Pilns apjoms"}),e.jsx("option",{value:"Ierobeots",children:"Ierobeots"}),e.jsx("option",{value:"Spgs",children:"Spgs"}),e.jsx("option",{value:"Kontraktras",children:"Kontraktras"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Muskuu tonuss"}),e.jsxs("select",{value:l.muscleTone,onChange:A=>N("muscleTone",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Normls",children:"Normls"}),e.jsx("option",{value:"Paaugstints",children:"Paaugstints"}),e.jsx("option",{value:"Pazemints",children:"Pazemints"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gaita"}),e.jsxs("select",{value:l.gait,onChange:A=>N("gait",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Normla",children:"Normla"}),e.jsx("option",{value:"Nestabila",children:"Nestabila"}),e.jsx("option",{value:"Ar palgldzekiem",children:"Ar palgldzekiem"}),e.jsx("option",{value:"Nestaig",children:"Nestaig"})]})]})]});case"summary":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Galvenie atrdumi"}),e.jsx("textarea",{value:l.findings,onChange:A=>N("findings",A.target.value),rows:3,placeholder:"Apkopojiet galvenos novrojumus...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagnoze/Sldziens"}),e.jsx("textarea",{value:l.diagnosis,onChange:A=>N("diagnosis",A.target.value),rows:2,placeholder:"Diagnoze vai sldziens...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rekomendcijas"}),e.jsx("textarea",{value:l.recommendations,onChange:A=>N("recommendations",A.target.value),rows:2,placeholder:"rstanas rekomendcijas...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nkam apskate"}),e.jsx("input",{type:"date",value:l.followUpDate,onChange:A=>N("followUpDate",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Papildus piezmes"}),e.jsx("textarea",{value:l.notes,onChange:A=>N("notes",A.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]});default:return null}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(nd,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"rsta apskate"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r.firstName," ",r.lastName]})]})]}),e.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:e.jsx("div",{className:"flex px-4",children:D.map(A=>e.jsx("button",{onClick:()=>h(A.id),className:`px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${f===A.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:A.label},A.id))})}),e.jsx("form",{onSubmit:I,className:"flex-1 overflow-y-auto p-6",children:B()}),e.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:I,disabled:p,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50",children:p?"Saglab...":"Saglabt apskati"})]})]})})},Ib=({resident:r,onSave:n,onClose:i})=>{const[l,u]=y.useState({appearance:"",psychomotorActivity:"",eyeContact:"",cooperation:"",speechRate:"",speechVolume:"",speechCoherence:"",mood:"",affect:"",affectRange:"",thoughtProcess:"",thoughtContent:"",suicidalIdeation:"nav",homicidalIdeation:"nav",hallucinations:"nav",delusions:"nav",orientation:"",attention:"",memory:"",insight:"",judgment:"",diagnosis:"",mentalStatus:"",recommendations:"",medicationChanges:"",followUpDate:"",assessedBy:"Psihiatrs",notes:""}),[c,x]=y.useState(!1),[p,g]=y.useState("appearance"),f=(v,k)=>{u(b=>({...b,[v]:k}))},h=async v=>{v.preventDefault(),x(!0);try{gb(r.id,{...l,assessedAt:new Date().toISOString()}),n()}catch(k){console.error("Error saving psychiatrist assessment:",k)}finally{x(!1)}},N=[{id:"appearance",label:"Izskats"},{id:"speech",label:"Runa"},{id:"mood",label:"Garastvoklis"},{id:"thought",label:"Domana"},{id:"cognition",label:"Izzias funkcijas"},{id:"summary",label:"Kopsavilkums"}],I=[{value:"nav",label:"Nav"},{value:"ir",label:"Ir"},{value:"iespjams",label:"Iespjams"}],D=()=>{switch(p){case"appearance":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"rjais izskats"}),e.jsxs("select",{value:l.appearance,onChange:v=>f("appearance",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Krtgs",children:"Krtgs, rpgi rbts"}),e.jsx("option",{value:"Vidjs",children:"Vidji krtgs"}),e.jsx("option",{value:"Nekrtgs",children:"Nekrtgs, nesakopts"}),e.jsx("option",{value:"Uzmanbu piesaistos",children:"Uzmanbu piesaistos aprbs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Psihomotor aktivitte"}),e.jsxs("select",{value:l.psychomotorActivity,onChange:v=>f("psychomotorActivity",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Normla",children:"Normla"}),e.jsx("option",{value:"Paaugstinta",children:"Paaugstinta / uzbudints"}),e.jsx("option",{value:"Retardta",children:"Retardta / palninta"}),e.jsx("option",{value:"Agitta",children:"Agitta"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acu kontakts"}),e.jsxs("select",{value:l.eyeContact,onChange:v=>f("eyeContact",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Labs",children:"Labs / adekvts"}),e.jsx("option",{value:"Izvairgs",children:"Izvairgs"}),e.jsx("option",{value:"Intensvs",children:"Intensvs / nemirkinos"}),e.jsx("option",{value:"Nav",children:"Nav"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sadarbba"}),e.jsxs("select",{value:l.cooperation,onChange:v=>f("cooperation",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Pilnga",children:"Pilngi sadarbojas"}),e.jsx("option",{value:"Daja",children:"Daji sadarbojas"}),e.jsx("option",{value:"Pasva",children:"Pasvs"}),e.jsx("option",{value:"Nesadarbojas",children:"Nesadarbojas"}),e.jsx("option",{value:"Naidgs",children:"Naidgs / pretestba"})]})]})]});case"speech":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Runas temps"}),e.jsxs("select",{value:l.speechRate,onChange:v=>f("speechRate",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Normls",children:"Normls"}),e.jsx("option",{value:"trs",children:"Patrints"}),e.jsx("option",{value:"Lns",children:"Palnints"}),e.jsx("option",{value:"Spiedgs",children:"Spiedgs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Runas skaums"}),e.jsxs("select",{value:l.speechVolume,onChange:v=>f("speechVolume",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Normls",children:"Normls"}),e.jsx("option",{value:"Ska",children:"Ska"}),e.jsx("option",{value:"Kluss",children:"Kluss / ukstos"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Runas sakarba"}),e.jsxs("select",{value:l.speechCoherence,onChange:v=>f("speechCoherence",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Sakarga",children:"Sakarga"}),e.jsx("option",{value:"Tangencila",children:"Tangencila"}),e.jsx("option",{value:"Nesaistta",children:"Nesaistta"}),e.jsx("option",{value:"Blokta",children:"Blokta"})]})]})]});case"mood":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Garastvoklis (pacienta aprakstts)"}),e.jsxs("select",{value:l.mood,onChange:v=>f("mood",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Labs",children:"Labs"}),e.jsx("option",{value:"Neitrls",children:"Neitrls"}),e.jsx("option",{value:"Nomkts",children:"Nomkts / skumj"}),e.jsx("option",{value:"Satraukts",children:"Satraukts / nemiergs"}),e.jsx("option",{value:"Dusmgs",children:"Dusmgs / aizkaitints"}),e.jsx("option",{value:"Eiforisks",children:"Eiforisks"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Afekts (novrotja vrtjums)"}),e.jsxs("select",{value:l.affect,onChange:v=>f("affect",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Adekvts",children:"Adekvts / atbilstos"}),e.jsx("option",{value:"Plakans",children:"Plakans / novjints"}),e.jsx("option",{value:"Labils",children:"Labils"}),e.jsx("option",{value:"Neadekvts",children:"Neadekvts saturam"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Afekta diapazons"}),e.jsxs("select",{value:l.affectRange,onChange:v=>f("affectRange",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Pilns",children:"Pilns"}),e.jsx("option",{value:"Ierobeots",children:"Ierobeots"}),e.jsx("option",{value:"Plakans",children:"Plakans"})]})]})]});case"thought":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domanas process"}),e.jsxs("select",{value:l.thoughtProcess,onChange:v=>f("thoughtProcess",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Loisks",children:"Loisks / mrtiecgs"}),e.jsx("option",{value:"Tangencils",children:"Tangencils"}),e.jsx("option",{value:"Apkrtjs",children:"Apkrtjs"}),e.jsx("option",{value:"Asociatvi brvs",children:"Asociatvi brvs"}),e.jsx("option",{value:"Ideju bgana",children:"Ideju bgana"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domanas saturs"}),e.jsx("textarea",{value:l.thoughtContent,onChange:v=>f("thoughtContent",v.target.value),rows:2,placeholder:"Aprakstiet domanas saturu...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Suicidlas domas"}),e.jsx("select",{value:l.suicidalIdeation,onChange:v=>f("suicidalIdeation",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:I.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Homicidlas domas"}),e.jsx("select",{value:l.homicidalIdeation,onChange:v=>f("homicidalIdeation",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:I.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Halucincijas"}),e.jsx("select",{value:l.hallucinations,onChange:v=>f("hallucinations",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:I.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maldi"}),e.jsx("select",{value:l.delusions,onChange:v=>f("delusions",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:I.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))})]})]})]});case"cognition":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Orientcija"}),e.jsxs("select",{value:l.orientation,onChange:v=>f("orientation",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Pilnga",children:"Pilngi orientts (x4)"}),e.jsx("option",{value:"Daja",children:"Daji dezorientts"}),e.jsx("option",{value:"Laik",children:"Tikai person orientts"}),e.jsx("option",{value:"Nav",children:"Pilngi dezorientts"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Uzmanba/Koncentrans"}),e.jsxs("select",{value:l.attention,onChange:v=>f("attention",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Laba",children:"Laba"}),e.jsx("option",{value:"Nedaudz traucta",children:"Nedaudz traucta"}),e.jsx("option",{value:"Btiski traucta",children:"Btiski traucta"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Atmia"}),e.jsxs("select",{value:l.memory,onChange:v=>f("memory",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Saglabta",children:"Saglabta"}),e.jsx("option",{value:"stermia traucjumi",children:"stermia traucjumi"}),e.jsx("option",{value:"Ilgtermia traucjumi",children:"Ilgtermia traucjumi"}),e.jsx("option",{value:"Abi traucti",children:"Abi veidi traucti"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kritika (insight)"}),e.jsxs("select",{value:l.insight,onChange:v=>f("insight",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Laba",children:"Laba / pilnga"}),e.jsx("option",{value:"Daja",children:"Daja"}),e.jsx("option",{value:"Vja",children:"Vja / trkst"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Spriedums"}),e.jsxs("select",{value:l.judgment,onChange:v=>f("judgment",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Izvlieties..."}),e.jsx("option",{value:"Labs",children:"Labs"}),e.jsx("option",{value:"Adekvts",children:"Adekvts"}),e.jsx("option",{value:"Traucts",children:"Traucts"})]})]})]});case"summary":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gargais stvoklis (kopsavilkums)"}),e.jsx("textarea",{value:l.mentalStatus,onChange:v=>f("mentalStatus",v.target.value),rows:3,placeholder:"Apkopojiet gargo stvokli...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagnoze"}),e.jsx("textarea",{value:l.diagnosis,onChange:v=>f("diagnosis",v.target.value),rows:2,placeholder:"Psihiatrisk diagnoze...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medikamentu izmaias"}),e.jsx("textarea",{value:l.medicationChanges,onChange:v=>f("medicationChanges",v.target.value),rows:2,placeholder:"Izmaias medikamentos...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rekomendcijas"}),e.jsx("textarea",{value:l.recommendations,onChange:v=>f("recommendations",v.target.value),rows:2,placeholder:"rstanas rekomendcijas...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nkam apskate"}),e.jsx("input",{type:"date",value:l.followUpDate,onChange:v=>f("followUpDate",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Papildus piezmes"}),e.jsx("textarea",{value:l.notes,onChange:v=>f("notes",v.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]});default:return null}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Ea,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Psihiatra apskate"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r.firstName," ",r.lastName]})]})]}),e.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:e.jsx("div",{className:"flex px-4",children:N.map(v=>e.jsx("button",{onClick:()=>g(v.id),className:`px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${p===v.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:v.label},v.id))})}),e.jsx("form",{onSubmit:h,className:"flex-1 overflow-y-auto p-6",children:D()}),e.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:h,disabled:c,className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors disabled:opacity-50",children:c?"Saglab...":"Saglabt apskati"})]})]})})},Db=({resident:r,onSave:n,onClose:i})=>{const[l,u]=y.useState({fallHistory:0,secondaryDiagnosis:0,ambulatoryAid:0,ivTherapy:0,gait:0,mentalStatus:0}),[c,x]=y.useState("Msa"),[p,g]=y.useState(""),[f,h]=y.useState(!1),N=(w,E)=>{u(S=>({...S,[w]:parseInt(E)}))},I=Object.values(l).reduce((w,E)=>w+E,0),v=I>=51?{level:"high",label:"Augsts risks",color:"red"}:I>=25?{level:"medium",label:"Vidjs risks",color:"yellow"}:{level:"low",label:"Zems risks",color:"green"},k=async w=>{w.preventDefault(),h(!0);try{hb(r.id,{factors:l,assessedBy:c,notes:p,assessedAt:new Date().toISOString()}),n()}catch(E){console.error("Error saving Morse assessment:",E)}finally{h(!1)}},b={red:"bg-red-100 text-red-700 border-red-300",yellow:"bg-yellow-100 text-yellow-700 border-yellow-300",green:"bg-green-100 text-green-700 border-green-300"},C=[{id:"fallHistory",label:"Kritieni anamnz",description:"Vai pdjo 3 mneu laik ir bijui kritieni?",options:[{value:0,label:"N"},{value:25,label:"J"}]},{id:"secondaryDiagnosis",label:"Sekundr diagnoze",description:"Vai ir vairk nek viena diagnoze?",options:[{value:0,label:"N"},{value:15,label:"J"}]},{id:"ambulatoryAid",label:"Prvietoans palgldzeki",description:"Kds palgldzeklis tiek lietots?",options:[{value:0,label:"Nav / gultas rems / msas paldzba"},{value:15,label:"Krui / staigultis / spieis"},{value:30,label:"Turas pie mbelm"}]},{id:"ivTherapy",label:"Intravenoz terapija",description:"Vai ir IV katetrs vai infzija?",options:[{value:0,label:"N"},{value:20,label:"J"}]},{id:"gait",label:"Gaita",description:"Novrtjiet pacienta gaitu",options:[{value:0,label:"Normla / gultas rems / ratikrsls"},{value:10,label:"Vja (c ar kjm, si soi)"},{value:20,label:"Traucta (nestabila, vajag paldzbu)"}]},{id:"mentalStatus",label:"Gargais stvoklis",description:"Vai pacients apzins savus ierobeojumus?",options:[{value:0,label:"Orientts uz savm spjm"},{value:15,label:"Prvrt savas spjas / aizmirst ierobeojumus"}]}];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(ut,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Morsa skala - Kritienu risks"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Novrtjiet kritienu risku"})]})]}),e.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg border-2 ${b[v.color]}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Kopjais punktu skaits"}),e.jsx("p",{className:"text-3xl font-bold",children:I})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium",children:"Riska lmenis"}),e.jsx("p",{className:"text-xl font-bold",children:v.label})]})]}),e.jsxs("div",{className:"mt-2 text-xs",children:[e.jsx("span",{children:"0-24: Zems risks"}),e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{children:"25-50: Vidjs risks"}),e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{children:"51+: Augsts risks"})]})]}),e.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[C.map(w=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:w.label}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:w.description}),e.jsx("div",{className:"space-y-1",children:w.options.map(E=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:w.id,value:E.value,checked:l[w.id]===E.value,onChange:S=>N(w.id,S.target.value),className:"text-orange-500 focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:E.label}),e.jsxs("span",{className:"text-xs text-gray-400 ml-auto",children:[E.value," punkti"]})]},E.value))})]},w.id)),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Piezmes"}),e.jsx("textarea",{value:p,onChange:w=>g(w.target.value),rows:2,placeholder:"Papildus novrojumi...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Atcelt"}),e.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50",children:f?"Saglab...":"Saglabt novrtjumu"})]})]})]})})},Eb=({resident:r,onSave:n,onClose:i})=>{const[l,u]=y.useState({sensoryPerception:3,moisture:3,activity:3,mobility:3,nutrition:3,frictionShear:2}),[c,x]=y.useState("Msa"),[p,g]=y.useState(""),[f,h]=y.useState(!1),N=(w,E)=>{u(S=>({...S,[w]:parseInt(E)}))},I=Object.values(l).reduce((w,E)=>w+E,0),v=I<=12?{level:"very_high",label:"oti augsts risks",color:"red"}:I<=14?{level:"high",label:"Augsts risks",color:"orange"}:I<=18?{level:"medium",label:"Vidjs risks",color:"yellow"}:{level:"low",label:"Zems risks",color:"green"},k=async w=>{w.preventDefault(),h(!0);try{yb(r.id,{factors:l,assessedBy:c,notes:p,assessedAt:new Date().toISOString()}),n()}catch(E){console.error("Error saving Braden assessment:",E)}finally{h(!1)}},b={red:"bg-red-100 text-red-700 border-red-300",orange:"bg-orange-100 text-orange-700 border-orange-300",yellow:"bg-yellow-100 text-yellow-700 border-yellow-300",green:"bg-green-100 text-green-700 border-green-300"},C=[{id:"sensoryPerception",label:"Sensor uztvere",description:"Spja adekvti reat uz spiediena izraistu diskomfortu",options:[{value:1,label:"Pilnb ierobeota - neatbild uz spgiem stimuliem"},{value:2,label:"oti ierobeota - rea tikai uz spcgiem stimuliem"},{value:3,label:"Nedaudz ierobeota - rea uz verbliem nordjumiem"},{value:4,label:"Nav traucjumu - rea uz verbliem nordjumiem"}]},{id:"moisture",label:"Mitrums",description:"Cik liel mr da ir pakauta mitrumam",options:[{value:1,label:"Pastvgi mitra - da gandrz vienmr ir mitra"},{value:2,label:"oti mitra - da biei ir mitra"},{value:3,label:"Reizm mitra - da reizm ir mitra"},{value:4,label:"Reti mitra - da parasti ir sausa"}]},{id:"activity",label:"Aktivitte",description:"Fizisks aktivittes lmenis",options:[{value:1,label:"Gulos - gu gult"},{value:2,label:"Sdos - staiganas spjas oti ierobeotas"},{value:3,label:"Reizm staig - staig reizm dienas laik"},{value:4,label:"Staig biei - staig rpus istabas vismaz 2x dien"}]},{id:"mobility",label:"Mobilitte",description:"Spja maint un kontrolt ermea stvokli",options:[{value:1,label:"Pilnb nekustgs - nemaina ermea stvokli bez paldzbas"},{value:2,label:"oti ierobeota - veic nelielas pozcijas izmaias"},{value:3,label:"Nedaudz ierobeota - biei maina pozciju patstvgi"},{value:4,label:"Nav ierobeojumu - maina pozciju bez paldzbas"}]},{id:"nutrition",label:"Uzturs",description:"Parastais uztura uzemanas rems",options:[{value:1,label:"oti slikts - reti apd pilnu maltti"},{value:2,label:"Iespjams nepietiekams - reti apd vairk nek pusi malttes"},{value:3,label:"Adekvts - apd vairk nek pusi malttes"},{value:4,label:"Izcils - apd lielko dau malttes"}]},{id:"frictionShear",label:"Berze un bde",description:"Berzes un bdes ietekme uz du",maxValue:3,options:[{value:1,label:"Problma - vajadzga maksimla paldzba kustbm"},{value:2,label:"Potencila problma - kustas ar zinmm grtbm"},{value:3,label:"Nav acmredzamas problmas - kustas patstvgi gult/krsl"}]}];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(bs,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Bradena skala - Izguljumu risks"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Novrtjiet spiediena las risku"})]})]}),e.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg border-2 ${b[v.color]}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Kopjais punktu skaits"}),e.jsx("p",{className:"text-3xl font-bold",children:I})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium",children:"Riska lmenis"}),e.jsx("p",{className:"text-xl font-bold",children:v.label})]})]}),e.jsxs("div",{className:"mt-2 text-xs",children:[e.jsx("span",{children:"12: oti augsts"}),e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{children:"13-14: Augsts"}),e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{children:"15-18: Vidjs"}),e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{children:"19+: Zems"})]})]}),e.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[C.map(w=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900",children:w.label}),e.jsx("p",{className:"text-xs text-gray-500",children:w.description})]}),e.jsx("span",{className:"text-lg font-bold text-orange-600 ml-2",children:l[w.id]})]}),e.jsx("div",{className:"space-y-1",children:w.options.map(E=>e.jsxs("label",{className:"flex items-start gap-2 cursor-pointer py-1",children:[e.jsx("input",{type:"radio",name:w.id,value:E.value,checked:l[w.id]===E.value,onChange:S=>N(w.id,S.target.value),className:"mt-0.5 text-orange-500 focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-700 flex-1",children:E.label}),e.jsx("span",{className:"text-xs text-gray-400",children:E.value})]},E.value))})]},w.id)),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Piezmes"}),e.jsx("textarea",{value:p,onChange:w=>g(w.target.value),rows:2,placeholder:"Papildus novrojumi par das stvokli...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Atcelt"}),e.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50",children:f?"Saglab...":"Saglabt novrtjumu"})]})]})]})})},_b=({resident:r,onSave:n,onClose:i})=>{const l=mi(r.id).filter(S=>S.status==="active").map(S=>S.aidType),[u,c]=y.useState(new Set(l)),[x,p]=y.useState(""),[g,f]=y.useState(""),[h,N]=y.useState("Msa"),[I,D]=y.useState(!1),v=S=>{c(R=>{const z=new Set(R);return z.has(S)?z.delete(S):z.add(S),z})},k=()=>{x.trim()&&(c(S=>new Set([...S,`custom:${x.trim()}`])),p(""))},b=async S=>{var R;S.preventDefault(),D(!0);try{const z=[...u].filter(B=>!l.includes(B));for(const B of z){const A=B.startsWith("custom:"),H=A?B.replace("custom:",""):((R=w().find(O=>O.value===B))==null?void 0:R.label)||B;bb(r.id,{category:A?"other":C(B),aidType:A?"custom":B,description:H,assignedBy:h,notes:g})}n()}catch(z){console.error("Error saving technical aids:",z)}finally{D(!1)}},C=S=>{for(const[R,z]of Object.entries(fc))if(z.items.some(B=>B.value===S))return R;return"other"},w=()=>Object.values(fc).flatMap(S=>S.items),E=[{value:"compression_socks",label:"Kompresijas zees"},{value:"anti_slip_socks",label:"Pretsldes zees"},{value:"pressure_cushion",label:"Pretspiediena spilvens"},{value:"transfer_belt",label:"Prvietoanas josta"},{value:"bed_wedge",label:"Gultas lis"},{value:"grab_bars",label:"Rokturi"},{value:"commode",label:"Tualetes krsls"},{value:"urinal",label:"Urinls"},{value:"feeding_cup",label:"Dzeranas trauks ar snpi"},{value:"adaptive_cutlery",label:"Adaptvie galda piederumi"}];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(Nx,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Tehniskie palgldzeki"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Izvltos: ",u.size," palgldzeki"]})]})]}),e.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[Object.entries(fc).map(([S,R])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:R.label}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:R.items.map(z=>e.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border cursor-pointer transition-colors ${u.has(z.value)?"bg-orange-50 border-orange-300":"bg-white border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${u.has(z.value)?"bg-orange-500 border-orange-500 text-white":"border-gray-300"}`,children:u.has(z.value)&&e.jsx(mt,{className:"w-3 h-3"})}),e.jsx("input",{type:"checkbox",checked:u.has(z.value),onChange:()=>v(z.value),className:"sr-only"}),e.jsx("span",{className:"text-sm text-gray-700",children:z.label})]},z.value))})]},S)),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Papildus palgldzeki"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.map(S=>e.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border cursor-pointer transition-colors ${u.has(S.value)?"bg-orange-50 border-orange-300":"bg-white border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${u.has(S.value)?"bg-orange-500 border-orange-500 text-white":"border-gray-300"}`,children:u.has(S.value)&&e.jsx(mt,{className:"w-3 h-3"})}),e.jsx("input",{type:"checkbox",checked:u.has(S.value),onChange:()=>v(S.value),className:"sr-only"}),e.jsx("span",{className:"text-sm text-gray-700",children:S.label})]},S.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Cits palgldzeklis"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x,onChange:S=>p(S.target.value),placeholder:"Ievadt citu palgldzekli...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",onKeyPress:S=>{S.key==="Enter"&&(S.preventDefault(),k())}}),e.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Pievienot"})]}),[...u].filter(S=>S.startsWith("custom:")).map(S=>e.jsxs("span",{className:"inline-flex items-center gap-1 mt-2 mr-2 px-2 py-1 bg-orange-100 text-orange-700 rounded text-sm",children:[S.replace("custom:",""),e.jsx("button",{type:"button",onClick:()=>v(S),className:"hover:text-orange-900",children:e.jsx(Te,{className:"w-3 h-3"})})]},S))]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Piezmes"}),e.jsx("textarea",{value:g,onChange:S=>f(S.target.value),rows:2,placeholder:"Papildus informcija par palgldzekiem...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Atcelt"}),e.jsx("button",{type:"submit",disabled:I,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50",children:I?"Saglab...":"Saglabt"})]})]})]})})},Lx=[{id:"bisoprolol-5",name:"Bisoprolol Actavis 5 mg",activeIngredient:"Bisoprololum",form:"tabletes",defaultDose:"5",defaultUnit:"mg",atcCode:"C07AB07",category:"Kardiovaskulrie"},{id:"amlodipine-5",name:"Amlodipine Teva 5 mg",activeIngredient:"Amlodipinum",form:"tabletes",defaultDose:"5",defaultUnit:"mg",atcCode:"C08CA01",category:"Kardiovaskulrie"},{id:"ramipril-5",name:"Ramipril Actavis 5 mg",activeIngredient:"Ramiprilum",form:"tabletes",defaultDose:"5",defaultUnit:"mg",atcCode:"C09AA05",category:"Kardiovaskulrie"},{id:"furosemide-40",name:"Furosemide Grindeks 40 mg",activeIngredient:"Furosemidum",form:"tabletes",defaultDose:"40",defaultUnit:"mg",atcCode:"C03CA01",category:"Kardiovaskulrie"},{id:"aspirin-100",name:"Aspirin Cardio 100 mg",activeIngredient:"Acidum acetylsalicylicum",form:"tabletes",defaultDose:"100",defaultUnit:"mg",atcCode:"B01AC06",category:"Kardiovaskulrie"},{id:"metformin-500",name:"Metformin Actavis 500 mg",activeIngredient:"Metforminum",form:"tabletes",defaultDose:"500",defaultUnit:"mg",atcCode:"A10BA02",category:"Diabts"},{id:"gliclazide-30",name:"Gliclada 30 mg",activeIngredient:"Gliclazidum",form:"tabletes",defaultDose:"30",defaultUnit:"mg",atcCode:"A10BB09",category:"Diabts"},{id:"lthyroxin-50",name:"L-Thyroxin Berlin-Chemie 50 mcg",activeIngredient:"Levothyroxinum natricum",form:"tabletes",defaultDose:"50",defaultUnit:"mcg",atcCode:"H03AA01",category:"Vairogdziedzeris"},{id:"lthyroxin-100",name:"L-Thyroxin Berlin-Chemie 100 mcg",activeIngredient:"Levothyroxinum natricum",form:"tabletes",defaultDose:"100",defaultUnit:"mcg",atcCode:"H03AA01",category:"Vairogdziedzeris"},{id:"sertraline-50",name:"Sertraline Krka 50 mg",activeIngredient:"Sertralinum",form:"tabletes",defaultDose:"50",defaultUnit:"mg",atcCode:"N06AB06",category:"Psihotropie"},{id:"mirtazapine-15",name:"Mirtazapine Actavis 15 mg",activeIngredient:"Mirtazapinum",form:"tabletes",defaultDose:"15",defaultUnit:"mg",atcCode:"N06AX11",category:"Psihotropie"},{id:"quetiapine-25",name:"Quetiapine Teva 25 mg",activeIngredient:"Quetiapinum",form:"tabletes",defaultDose:"25",defaultUnit:"mg",atcCode:"N05AH04",category:"Psihotropie"},{id:"paracetamol-500",name:"Paracetamol Grindeks 500 mg",activeIngredient:"Paracetamolum",form:"tabletes",defaultDose:"500",defaultUnit:"mg",atcCode:"N02BE01",category:"Pretspju"},{id:"tramadol-50",name:"Tramadol Stada 50 mg",activeIngredient:"Tramadolum",form:"kapsulas",defaultDose:"50",defaultUnit:"mg",atcCode:"N02AX02",category:"Pretspju"},{id:"omeprazole-20",name:"Omeprazole Actavis 20 mg",activeIngredient:"Omeprazolum",form:"kapsulas",defaultDose:"20",defaultUnit:"mg",atcCode:"A02BC01",category:"GI trakts"},{id:"pantoprazole-40",name:"Pantoprazole Krka 40 mg",activeIngredient:"Pantoprazolum",form:"tabletes",defaultDose:"40",defaultUnit:"mg",atcCode:"A02BC02",category:"GI trakts"},{id:"lactulose",name:"Duphalac 667 mg/ml",activeIngredient:"Lactulosum",form:"skidrums",defaultDose:"15",defaultUnit:"ml",atcCode:"A06AD11",category:"GI trakts"},{id:"vitamin-d3",name:"Vigantol 1000 SV",activeIngredient:"Colecalciferolum",form:"pilieni",defaultDose:"2",defaultUnit:"drops",atcCode:"A11CC05",category:"Vitamni"},{id:"calcium-d3",name:"Calcium-D3 Stada",activeIngredient:"Calcii carbonas, Colecalciferolum",form:"tabletes",defaultDose:"1",defaultUnit:"tab",atcCode:"A12AX",category:"Vitamni"},{id:"allopurinol-100",name:"Allopurinol Grindeks 100 mg",activeIngredient:"Allopurinolum",form:"tabletes",defaultDose:"100",defaultUnit:"mg",atcCode:"M04AA01",category:"Citi"}],Rb=()=>{const r={};return Lx.forEach(n=>{r[n.category]||(r[n.category]=[]),r[n.category].push(n)}),r};function Tb(r){const n={};return(!r.medicationName||r.medicationName.trim()==="")&&(n.medicationName="Medikamenta nosaukums ir obligts"),r.frequency!=="as_needed"&&(Object.values(r.schedule||{}).some(l=>l==null?void 0:l.enabled)||(n.schedule="Jnorda vismaz viens lietoanas laiks")),r.schedule&&Object.entries(r.schedule).forEach(([i,l])=>{l!=null&&l.enabled&&(!l.dose||l.dose.trim()===""?n[`schedule.${i}.dose`]="Deva ir obligta":isNaN(parseFloat(l.dose))&&(n[`schedule.${i}.dose`]="Devai jbt skaitlim"),(!l.unit||l.unit.trim()==="")&&(n[`schedule.${i}.unit`]="Mrvienba ir obligta"),(!l.time||l.time.trim()==="")&&(n[`schedule.${i}.time`]="Laiks ir obligts"))}),(!r.prescribedBy||r.prescribedBy.trim()==="")&&(n.prescribedBy="rsta vrds ir obligts"),r.prescribedDate||(n.prescribedDate="Ordinanas datums ir obligts"),r.frequency==="specific_days"&&(!r.specificDays||r.specificDays.length===0)&&(n.specificDays="Jnorda vismaz viena diena"),r.conditional&&(!r.conditionText||r.conditionText.trim()==="")&&(n.conditionText="Nosacjuma teksts ir obligts"),{isValid:Object.keys(n).length===0,errors:n}}function Ab(r){const n={};return r.actionType||(n.actionType="Jnorda darbbas veids"),(r.actionType==="increased"||r.actionType==="decreased")&&(!r.actualDose||r.actualDose.trim()===""?n.actualDose="Jaun deva ir obligta":isNaN(parseFloat(r.actualDose))?n.actualDose="Devai jbt skaitlim":parseFloat(r.actualDose)<=0&&(n.actualDose="Devai jbt lielkai par 0")),(!r.reason||r.reason.trim()==="")&&(n.reason="Iemesls ir obligts"),(!r.administeredBy||r.administeredBy.trim()==="")&&(n.administeredBy="Jnorda, kas veica darbbu"),{isValid:Object.keys(n).length===0,errors:n}}function Pb(r){return{residentId:r,medicationName:"",activeIngredient:"",form:"tabletes",prescribedDate:new Date().toISOString().split("T")[0],prescribedBy:"Dakteris Gints",validUntil:"",schedule:{morning:{time:"08:00",dose:"",unit:"mg",enabled:!1},noon:{time:"12:00",dose:"",unit:"mg",enabled:!1},evening:{time:"18:00",dose:"",unit:"mg",enabled:!1},night:{time:"21:00",dose:"",unit:"mg",enabled:!1}},instructions:"",conditional:!1,conditionText:"",frequency:"daily",specificDays:[],notes:""}}function zb(r){return{...r,validUntil:r.validUntil||"",instructions:r.instructions||"",conditionText:r.conditionText||"",notes:r.notes||""}}function Lb({resident:r,prescription:n,onSave:i,onClose:l}){const u=!!n,[c,x]=y.useState(()=>u?zb(n):Pb(r.id)),[p,g]=y.useState({}),[f,h]=y.useState(!1),[N,I]=y.useState(""),D=Rb(),v=S=>{if(I(S),!S)return;const R=Lx.find(z=>z.id===S);R&&x(z=>({...z,medicationName:R.name,activeIngredient:R.activeIngredient,form:R.form,schedule:{morning:{...z.schedule.morning,dose:R.defaultDose,unit:R.defaultUnit},noon:{...z.schedule.noon,dose:R.defaultDose,unit:R.defaultUnit},evening:{...z.schedule.evening,dose:R.defaultDose,unit:R.defaultUnit},night:{...z.schedule.night,dose:R.defaultDose,unit:R.defaultUnit}}}))};y.useEffect(()=>{const S=R=>{R.key==="Escape"&&l()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[l]);const k=(S,R)=>{x(z=>({...z,[S]:R})),p[S]&&g(z=>{const B={...z};return delete B[S],B})},b=(S,R,z)=>{x(B=>({...B,schedule:{...B.schedule,[S]:{...B.schedule[S],[R]:z}}}))},C=S=>{x(R=>({...R,schedule:{...R.schedule,[S]:{...R.schedule[S],enabled:!R.schedule[S].enabled}}}))},w=S=>{x(R=>{const z=R.specificDays||[];return z.includes(S)?{...R,specificDays:z.filter(B=>B!==S)}:{...R,specificDays:[...z,S]}})},E=async()=>{const S=Tb(c);if(!S.isValid){g(S.errors);return}h(!0);try{u?yv(n.id,c):fv(c),i()}catch(R){console.error("Error saving prescription:",R),g({submit:"Kda saglabjot. Ldzu miniet vlreiz."})}finally{h(!1)}};return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:l}),e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:u?"Redit ordinciju":"Jauna ordincija"}),e.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(Nt,{className:"w-4 h-4"}),"Medikamenta informcija"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Izvlieties no kataloga"}),e.jsxs("select",{value:N,onChange:S=>v(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-orange-50",children:[e.jsx("option",{value:"",children:" Izvlties medikamentu "}),Object.entries(D).map(([S,R])=>e.jsx("optgroup",{label:S,children:R.map(z=>e.jsx("option",{value:z.id,children:z.name},z.id))},S))]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Izvloties no saraksta, lauki tiks aizpildti automtiski"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medikamenta nosaukums *"}),e.jsx("input",{type:"text",value:c.medicationName,onChange:S=>k("medicationName",S.target.value),placeholder:"Nosaukums no kataloga vai ievadiet manuli",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${p.medicationName?"border-red-500":"border-gray-300"}`}),p.medicationName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.medicationName})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aktv viela"}),e.jsx("input",{type:"text",value:c.activeIngredient,onChange:S=>k("activeIngredient",S.target.value),placeholder:"Piem., Levothyroxinum",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zu forma"}),e.jsx("select",{value:c.form,onChange:S=>k("form",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:Dv.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(Wt,{className:"w-4 h-4"}),"Ordinanas informcija"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"rsts"}),e.jsx("input",{type:"text",value:c.prescribedBy,readOnly:!0,className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-700"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Piesldzies k rsts"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordinanas datums *"}),e.jsx("input",{type:"date",value:c.prescribedDate,onChange:S=>k("prescribedDate",S.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${p.prescribedDate?"border-red-500":"border-gray-300"}`}),p.prescribedDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.prescribedDate})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(Ht,{className:"w-4 h-4"}),"Lietoanas grafiks"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bieums"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ev.map(S=>e.jsx("button",{type:"button",onClick:()=>k("frequency",S.value),className:`px-4 py-2 rounded-lg border transition-colors ${c.frequency===S.value?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:border-orange-300"}`,children:S.label},S.value))})]}),c.frequency==="specific_days"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dienas"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:_v.map(S=>{var R;return e.jsx("button",{type:"button",onClick:()=>w(S.value),className:`w-10 h-10 rounded-lg border font-medium transition-colors ${(R=c.specificDays)!=null&&R.includes(S.value)?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:border-orange-300"}`,title:S.label,children:S.short},S.value)})}),p.specificDays&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.specificDays})]}),c.frequency!=="as_needed"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lietoanas laiki *"}),p.schedule&&e.jsx("p",{className:"text-sm text-red-600",children:p.schedule}),Oa.map(S=>{var R,z,B,A,H,O;return e.jsx("div",{className:`border rounded-lg p-3 transition-colors ${(R=c.schedule[S])!=null&&R.enabled?"border-orange-300 bg-orange-50":"border-gray-200 bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:((z=c.schedule[S])==null?void 0:z.enabled)||!1,onChange:()=>C(S),className:"w-5 h-5 text-orange-500 rounded focus:ring-orange-500"}),e.jsx("span",{className:"font-medium text-gray-700 w-20",children:Ta[S].label}),((B=c.schedule[S])==null?void 0:B.enabled)&&e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:"time",value:((A=c.schedule[S])==null?void 0:A.time)||Ta[S].defaultTime,onChange:K=>b(S,"time",K.target.value),className:"px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),e.jsx("input",{type:"text",value:((H=c.schedule[S])==null?void 0:H.dose)||"",onChange:K=>b(S,"dose",K.target.value),placeholder:"Deva",className:"w-20 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),e.jsx("select",{value:((O=c.schedule[S])==null?void 0:O.unit)||"mg",onChange:K=>b(S,"unit",K.target.value),className:"px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:Tx.map(K=>e.jsx("option",{value:K.value,children:K.label},K.value))})]})]})},S)})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",checked:c.conditional||!1,onChange:S=>k("conditional",S.target.checked),className:"w-5 h-5 mt-0.5 text-orange-500 rounded focus:ring-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nosacta lietoana (pc nepiecieambas)"}),c.conditional&&e.jsx("input",{type:"text",value:c.conditionText||"",onChange:S=>k("conditionText",S.target.value),placeholder:"Piem., pie spm vai ja t>37,5C",className:`mt-2 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${p.conditionText?"border-red-500":"border-gray-300"}`}),p.conditionText&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.conditionText})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(bs,{className:"w-4 h-4"}),"Papildu nordjumi"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"paas nordes (pardsies sarkan krs)"}),e.jsx("textarea",{value:c.instructions||"",onChange:S=>k("instructions",S.target.value),placeholder:"Piem., 1/2 tab., lietot ar dienu, u.c.",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Piezmes (iekjai lietoanai)"}),e.jsx("textarea",{value:c.notes||"",onChange:S=>k("notes",S.target.value),placeholder:"Papildu piezmes...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),p.submit&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700",children:p.submit})]})}),e.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:l,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:E,disabled:f,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"Saglab...":u?"Saglabt izmaias":"Pievienot ordinciju"})]})]})})]})}const Mb="Msa Lga";function Ob({resident:r,prescription:n,timeSlot:i,onSave:l,onClose:u}){const[c,x]=y.useState("given"),[p,g]=y.useState(""),[f,h]=y.useState(""),[N,I]=y.useState(""),[D,v]=y.useState(""),[k,b]=y.useState(""),[C,w]=y.useState({}),[E,S]=y.useState(!1),R=Mb,z=Ta[i],B=n.schedule[i],A=`${(B==null?void 0:B.dose)||""} ${(B==null?void 0:B.unit)||""}`.trim();y.useEffect(()=>{B!=null&&B.unit&&h(B.unit)},[B]),y.useEffect(()=>{const F=J=>{J.key==="Escape"&&u()};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[u]);const H=()=>N==="custom"?D:N,O=()=>c==="skipped"?null:c==="given"?A:`${p} ${f}`.trim(),K=async()=>{const F=H(),J=O(),le=Ab({actionType:c,actualDose:c==="increased"||c==="decreased"?p:"n/a",reason:F,administeredBy:R});if(!le.isValid){w(le.errors);return}S(!0);try{jv(n.id,r.id,i,c,A,J,F,R,k),l()}catch(te){console.error("Error saving dose action:",te),w({submit:"Kda saglabjot. Ldzu miniet vlreiz."})}finally{S(!1)}},ae=[{value:"given",label:"Iedot parasto devu",sublabel:A,icon:mt,color:"green"},{value:"increased",label:"Iedot palielintu devu",sublabel:"Nordt jauno devu",icon:id,color:"blue"},{value:"decreased",label:"Iedot samazintu devu",sublabel:"Nordt jauno devu",icon:ld,color:"yellow"},{value:"skipped",label:"Izlaist o devu",sublabel:"Deva netiks iedota",icon:jt,color:"red"}],ce=(F,J)=>({green:J?"border-green-300 bg-green-50":"border-gray-200 hover:border-green-200",blue:J?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-blue-200",yellow:J?"border-yellow-300 bg-yellow-50":"border-gray-200 hover:border-yellow-200",red:J?"border-red-300 bg-red-50":"border-gray-200 hover:border-red-200"})[F],je=F=>({green:"text-green-600",blue:"text-blue-600",yellow:"text-yellow-600",red:"text-red-600"})[F],Ce=()=>({given:"bg-green-600 hover:bg-green-700",increased:"bg-blue-600 hover:bg-blue-700",decreased:"bg-yellow-600 hover:bg-yellow-700",skipped:"bg-red-600 hover:bg-red-700"})[c],Ae=()=>({given:"bg-green-50",increased:"bg-blue-50",decreased:"bg-yellow-50",skipped:"bg-red-50"})[c];return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:u}),e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:`flex items-center justify-between px-6 py-4 border-b border-gray-200 rounded-t-xl ${Ae()}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:e.jsx(my,{className:"w-5 h-5 text-orange-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Devas darbba"})]}),e.jsx("button",{onClick:u,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white rounded-lg transition-colors",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 space-y-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"font-medium text-gray-900",children:n.medicationName}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[z==null?void 0:z.label," (",B==null?void 0:B.time,")  Paredzts: ",A]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Rezidents: ",r.firstName," ",r.lastName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ko dart ar o devu? *"}),e.jsx("div",{className:"space-y-2",children:ae.map(F=>{const J=F.icon,le=c===F.value;return e.jsxs("label",{className:`flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${ce(F.color,le)}`,children:[e.jsx("input",{type:"radio",name:"actionType",value:F.value,checked:le,onChange:te=>x(te.target.value),className:"w-4 h-4 text-orange-500 focus:ring-orange-500"}),e.jsx(J,{className:`w-5 h-5 ${je(F.color)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-900 font-medium",children:F.label}),e.jsx("div",{className:"text-sm text-gray-500",children:F.sublabel})]})]},F.value)})}),C.actionType&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.actionType})]}),(c==="increased"||c==="decreased")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jaun deva *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:p,onChange:F=>g(F.target.value),placeholder:"Piem., 2",className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${C.actualDose?"border-red-500":"border-gray-300"}`}),e.jsx("select",{value:f,onChange:F=>h(F.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:Tx.map(F=>e.jsx("option",{value:F.value,children:F.label},F.value))})]}),C.actualDose&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.actualDose}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Iepriekj deva: ",A]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Iemesls *"}),e.jsxs("select",{value:N,onChange:F=>I(F.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 ${C.reason?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:" Izvlieties iemeslu "}),Rv.map((F,J)=>e.jsx("option",{value:F,children:F},J)),e.jsx("option",{value:"custom",children:"Cits iemesls..."})]}),N==="custom"&&e.jsx("textarea",{value:D,onChange:F=>v(F.target.value),placeholder:"Aprakstiet iemeslu...",rows:2,className:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),C.reason&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.reason})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kas veica *"}),e.jsx("div",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-700",children:R})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Papildu piezmes"}),e.jsx("textarea",{value:k,onChange:F=>b(F.target.value),placeholder:"Piem., rezidents juts labk ar mazku devu...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),C.submit&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700",children:C.submit})]}),e.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200",children:[e.jsx("button",{onClick:u,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Atcelt"}),e.jsx("button",{onClick:K,disabled:E,className:`px-6 py-2 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${Ce()}`,children:E?"Saglab...":"Apstiprint"})]})]})})]})}const $b=({prescription:r,onSave:n,onClose:i})=>{const[l,u]=y.useState("pause"),[c,x]=y.useState(""),[p,g]=y.useState(""),[f,h]=y.useState(""),[N,I]=y.useState(!1),D=new Date;D.setDate(D.getDate()+1);const v=D.toISOString().split("T")[0],k=async w=>{if(w.preventDefault(),h(""),l==="pause"){if(!c){h("Ldzu nordiet datumu, ldz kuram prtraukt");return}if(c<v){h("Datumam jbt nkotn");return}}I(!0);try{l==="pause"?vv(r.id,c,p):bv(r.id,p),n()}catch(E){h(E.message||"Kda saglabjot")}finally{I(!1)}},b=["Hospitalizcija","Opercija","Citu medikamentu lietoana","Blakuspardbas","Pagaidu prtraukums"],C=["rstana pabeigta","Blakuspardbas","Neefektvs","Maints uz citu prepartu","Pacients atteicies","Nve"];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Atcelt zles"}),e.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.medicationName}),r.activeIngredient&&e.jsx("p",{className:"text-xs text-gray-500",children:r.activeIngredient})]}),e.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>u("pause"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-colors ${l==="pause"?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[e.jsx(uy,{className:"w-6 h-6"}),e.jsx("span",{className:"text-sm font-medium",children:"Uz laiku"}),e.jsx("span",{className:"text-xs text-center",children:"Prtraukt ldz datumam"})]}),e.jsxs("button",{type:"button",onClick:()=>u("discontinue"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-colors ${l==="discontinue"?"border-red-500 bg-red-50 text-red-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[e.jsx(fy,{className:"w-6 h-6"}),e.jsx("span",{className:"text-sm font-medium",children:"Pavisam"}),e.jsx("span",{className:"text-xs text-center",children:"Atcelt neatgriezeniski"})]})]}),l==="pause"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prtraukt ldz *"}),e.jsx("input",{type:"date",value:c,onChange:w=>x(w.target.value),min:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Iemesls ",l==="discontinue"?"":"(neobligts)"]}),e.jsxs("select",{value:p,onChange:w=>g(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 mb-2",children:[e.jsx("option",{value:"",children:"Izvlieties iemeslu..."}),(l==="pause"?b:C).map(w=>e.jsx("option",{value:w,children:w},w))]}),e.jsx("input",{type:"text",value:p,onChange:w=>g(w.target.value),placeholder:"Vai ievadiet citu iemeslu...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),l==="discontinue"&&e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx(ut,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-red-700",children:[e.jsx("p",{className:"font-medium",children:"Uzmanbu!"}),e.jsx("p",{children:" darbba ir neatgriezeniska. Zles tiks pilnb atceltas no ordincijas plna."})]})]}),f&&e.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg text-sm",children:f}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Atcelt"}),e.jsx("button",{type:"submit",disabled:N,className:`px-4 py-2 text-white rounded-lg transition-colors disabled:opacity-50 ${l==="discontinue"?"bg-red-600 hover:bg-red-700":"bg-orange-500 hover:bg-orange-600"}`,children:N?"Saglab...":l==="pause"?"Prtraukt":"Atcelt zles"})]})]})]})})};function Mx({status:r,isToday:n=!1,onClick:i,compact:l=!1}){const c=(()=>{switch(r){case"complete":return{bg:"bg-teal-500",hoverBg:"hover:bg-teal-600",icon:e.jsx(mt,{className:"w-4 h-4 text-white"}),title:"Visas devas iedotas"};case"refused":return{bg:"bg-red-500",hoverBg:"hover:bg-red-600",icon:e.jsx(Te,{className:"w-4 h-4 text-white"}),title:"Ir atteikumi"};case"partial":return{bg:"bg-cyan-500",hoverBg:"hover:bg-cyan-600",icon:e.jsx(Ht,{className:"w-4 h-4 text-white"}),title:"Daji iedots"};case"pending":return{bg:"bg-cyan-400",hoverBg:"hover:bg-cyan-500",icon:e.jsx(Ht,{className:"w-4 h-4 text-white"}),title:"Gaida"};case"future":return{bg:"bg-gray-200",hoverBg:"hover:bg-gray-300",icon:e.jsx(o0,{className:"w-4 h-4 text-gray-400"}),title:"Nkotne"};case"not_scheduled":return{bg:"bg-transparent",hoverBg:"",icon:null,title:"Nav ieplnots"};default:return{bg:"bg-gray-100",hoverBg:"",icon:null,title:""}}})(),x=l?"w-5 h-5":"w-8 h-8",p=l?"w-3 h-3":"w-4 h-4",g=l?"px-0.5 py-1":"px-1 py-2";if(r==="not_scheduled")return e.jsx("td",{className:`${g} text-center`,children:e.jsx("div",{className:`${x} mx-auto`})});const f=()=>{switch(r){case"complete":return e.jsx(mt,{className:`${p} text-white`});case"refused":return e.jsx(Te,{className:`${p} text-white`});case"partial":case"pending":return e.jsx(Ht,{className:`${p} text-white`});case"future":return e.jsx(o0,{className:`${p} text-gray-400`});default:return null}};return e.jsx("td",{className:`${g} text-center ${n?"bg-orange-50":""}`,children:e.jsx("button",{onClick:i,className:`${x} rounded-full ${c.bg} ${c.hoverBg} flex items-center justify-center mx-auto transition-colors cursor-pointer`,title:c.title,children:f()})})}function Ox(){const r=[{status:"complete",label:"Iedots",color:"bg-teal-500"},{status:"refused",label:"Atteikums",color:"bg-red-500"},{status:"pending",label:"Gaida",color:"bg-cyan-400"},{status:"future",label:"Nkotne",color:"bg-gray-200"}];return e.jsx("div",{className:"flex flex-wrap gap-4 text-xs text-gray-600",children:r.map(n=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${n.color}`}),e.jsx("span",{children:n.label})]},n.status))})}function Bb({prescriptions:r,residentId:n,onDayClick:i}){const[l,u]=y.useState(0),c=y.useMemo(()=>{const D=new Date;return D.setDate(D.getDate()+l*7),Nv(D)},[l]),x=y.useMemo(()=>On().filter(D=>D.residentId===n),[n]),p=new Date().toISOString().split("T")[0],g=D=>new Date(D).getDate(),f=()=>{const D=new Date(c[0]),v=new Date(c[6]),k=D.toLocaleDateString("lv-LV",{month:"short"}),b=v.toLocaleDateString("lv-LV",{month:"short"}),C=D.getFullYear();return k===b?`${k} ${C}`:`${k} - ${b} ${C}`},h=()=>u(D=>D-1),N=()=>u(D=>D+1),I=()=>u(0);return!r||r.length===0?e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:"Nav aktvu ordinciju"}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:h,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Iepriekj neda",children:e.jsx(mx,{className:"w-4 h-4"})}),e.jsx("button",{onClick:N,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Nkam neda",children:e.jsx(_a,{className:"w-4 h-4"})}),l!==0&&e.jsx("button",{onClick:I,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:" neda"})]}),e.jsx("div",{className:"text-sm font-medium text-gray-600",children:f()})]}),e.jsx(Ox,{}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600 min-w-[200px]",children:"Preparts"}),c.map((D,v)=>{const k=D===p;return e.jsxs("th",{className:`px-1 py-3 text-center text-sm font-medium w-12 ${k?"bg-orange-50":""}`,children:[e.jsx("div",{className:`${k?"text-orange-600":"text-gray-600"}`,children:wv[v]}),e.jsx("div",{className:`text-xs ${k?"text-orange-500 font-semibold":"text-gray-400"}`,children:g(D)})]},D)})]})}),e.jsx("tbody",{children:r.map(D=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:D.medicationName}),D.activeIngredient&&e.jsx("div",{className:"text-xs text-gray-500",children:D.activeIngredient}),e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:Vb(D.schedule)})]}),c.map((v,k)=>{const b=v===p,C=Rx(D,v,x);return e.jsx(Mx,{status:C,isToday:b,onClick:()=>i&&i(D,v)},v)})]},D.id))})]})}),e.jsx("div",{className:"text-xs text-gray-400 text-center md:hidden",children:" Velciet, lai skattu vairk "})]})}function Vb(r){var i,l,u,c;const n=[];return(i=r.morning)!=null&&i.enabled&&n.push(r.morning.time||"Rts"),(l=r.noon)!=null&&l.enabled&&n.push(r.noon.time||"Diena"),(u=r.evening)!=null&&u.enabled&&n.push(r.evening.time||"Vakars"),(c=r.night)!=null&&c.enabled&&n.push(r.night.time||"Nakts"),n.join(", ")||"Nav laika"}function Fb({prescriptions:r,residentId:n,residentName:i,onDayClick:l}){const[u,c]=y.useState(0),{monthDates:x,monthLabel:p,year:g}=y.useMemo(()=>{const w=new Date;w.setMonth(w.getMonth()+u),w.setDate(1);const E=w.getFullYear(),S=w.getMonth(),R=new Date(E,S+1,0).getDate(),z=[];for(let A=1;A<=R;A++){const H=new Date(E,S,A);z.push(H.toISOString().split("T")[0])}const B=w.toLocaleDateString("lv-LV",{month:"long",year:"numeric"});return{monthDates:z,monthLabel:B,year:E}},[u]),f=y.useMemo(()=>On().filter(w=>w.residentId===n),[n]),h=new Date().toISOString().split("T")[0],N=y.useMemo(()=>f.filter(w=>w.status!=="refused"?!1:x.includes(w.date)).sort((w,E)=>new Date(w.date)-new Date(E.date)),[f,x]),I=w=>new Date(w).getDate(),D=w=>{const E=new Date(w).getDay();return["Sv","P","O","T","C","Pk","S"][E]},v=()=>c(w=>w-1),k=()=>c(w=>w+1),b=()=>c(0),C=()=>{window.print()};return!r||r.length===0?e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:"Nav aktvu ordinciju"}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"hidden print:block print:mb-4",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Mnea ordincijas plns"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i," - ",p]})]}),e.jsxs("div",{className:"flex items-center justify-between print:hidden",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:v,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Iepriekjais mnesis",children:e.jsx(mx,{className:"w-4 h-4"})}),e.jsx("button",{onClick:k,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Nkamais mnesis",children:e.jsx(_a,{className:"w-4 h-4"})}),u!==0&&e.jsx("button",{onClick:b,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"is mnesis"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 capitalize",children:p}),e.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-3 py-2 bg-orange-500 text-white text-sm rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(La,{className:"w-4 h-4"}),"Drukt"]})]})]}),e.jsx("div",{className:"print:text-xs",children:e.jsx(Ox,{})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm print:text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-2 py-2 text-left font-medium text-gray-600 min-w-[150px] print:min-w-[100px]",children:"Preparts"}),x.map(w=>{const E=w===h,S=new Date(w).getDay()===0||new Date(w).getDay()===6;return e.jsxs("th",{className:`px-0.5 py-1 text-center font-medium w-6 print:w-4 ${E?"bg-orange-50":S?"bg-gray-50":""}`,children:[e.jsx("div",{className:`text-[10px] ${E?"text-orange-600":"text-gray-400"}`,children:D(w)}),e.jsx("div",{className:`text-xs ${E?"text-orange-600 font-semibold":"text-gray-600"}`,children:I(w)})]},w)})]})}),e.jsx("tbody",{children:r.map(w=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsxs("td",{className:"px-2 py-1",children:[e.jsx("div",{className:"font-medium text-gray-900 text-xs truncate max-w-[150px]",children:w.medicationName}),e.jsx("div",{className:"text-[10px] text-gray-400 truncate",children:Ub(w.schedule)})]}),x.map(E=>{const S=E===h,R=Rx(w,E,f);return e.jsx(Mx,{status:R,isToday:S,compact:!0,onClick:()=>l&&l(w,E)},E)})]},w.id))})]})}),N.length>0&&e.jsxs("div",{className:"mt-6 border-t pt-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-gray-900 mb-3",children:[e.jsx(ut,{className:"w-4 h-4 text-red-500"}),"Atteikumi aj mnes (",N.length,")"]}),e.jsx("div",{className:"space-y-2",children:N.map((w,E)=>{const S=r.find(R=>R.id===w.prescriptionId);return e.jsxs("div",{className:"flex items-start gap-3 text-sm bg-red-50 rounded-lg px-3 py-2",children:[e.jsx("div",{className:"text-red-600 font-medium min-w-[80px]",children:new Date(w.date).toLocaleDateString("lv-LV",{day:"numeric",month:"short"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-900 font-medium",children:(S==null?void 0:S.medicationName)||"Nezinms preparts"}),w.notes&&e.jsxs("div",{className:"text-gray-600 text-xs mt-0.5",children:["Iemesls: ",w.notes]})]}),e.jsx("div",{className:"text-gray-500 text-xs",children:w.timeSlot==="morning"?"Rts":w.timeSlot==="noon"?"Diena":w.timeSlot==="evening"?"Vakars":"Nakts"})]},E)})})]}),e.jsx("style",{children:`
        @media print {
          @page {
            size: A4 landscape;
            margin: 1cm;
          }
        }
      `})]})}function Ub(r){var i,l,u,c;const n=[];return(i=r.morning)!=null&&i.enabled&&n.push("R"),(l=r.noon)!=null&&l.enabled&&n.push("D"),(u=r.evening)!=null&&u.enabled&&n.push("V"),(c=r.night)!=null&&c.enabled&&n.push("N"),n.join("/")||"-"}const h0=[{value:"7days",label:"Pdjs 7 dienas"},{value:"30days",label:"Pdjs 30 dienas"},{value:"90days",label:"Pdjs 90 dienas"},{value:"all",label:"Visi ieraksti"}],f0=[{value:"all",label:"Visi statusi"},{value:"given",label:"Iedotas"},{value:"increased",label:"Palielintas"},{value:"decreased",label:"Samazintas"},{value:"refused",label:"Atteikumi"},{value:"skipped",label:"Izlaistas"}];function qb({filters:r,onFiltersChange:n,medications:i=[]}){var N,I,D;const[l,u]=y.useState(!1),c=v=>{n({...r,datePreset:v})},x=v=>{n({...r,status:v})},p=v=>{n({...r,medicationId:v})},g=v=>{n({...r,searchQuery:v})},f=()=>{n({datePreset:"7days",status:"all",medicationId:"",searchQuery:""})},h=r.datePreset!=="7days"||r.status!=="all"||r.medicationId||r.searchQuery;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(Ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Meklt medikamentu...",value:r.searchQuery||"",onChange:v=>g(v.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),r.searchQuery&&e.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Te,{className:"w-4 h-4"})})]}),e.jsx("select",{value:r.datePreset||"7days",onChange:v=>c(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:h0.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))}),e.jsx("select",{value:r.status||"all",onChange:v=>x(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:f0.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))}),e.jsxs("button",{onClick:()=>u(!l),className:`flex items-center gap-1 px-3 py-2 border rounded-lg text-sm transition-colors ${l||r.medicationId?"border-orange-300 bg-orange-50 text-orange-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(rd,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Filtri"}),e.jsx(In,{className:`w-4 h-4 transition-transform ${l?"rotate-180":""}`})]}),h&&e.jsx("button",{onClick:f,className:"px-3 py-2 text-sm text-gray-500 hover:text-gray-700",children:"Notrt"})]}),l&&e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medikaments"}),e.jsxs("select",{value:r.medicationId||"",onChange:v=>p(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Visi medikamenti"}),i.map(v=>e.jsx("option",{value:v.id,children:v.medicationName},v.id))]})]})})}),h&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.datePreset!=="7days"&&e.jsx(Jl,{label:(N=h0.find(v=>v.value===r.datePreset))==null?void 0:N.label,onRemove:()=>c("7days")}),r.status!=="all"&&e.jsx(Jl,{label:(I=f0.find(v=>v.value===r.status))==null?void 0:I.label,onRemove:()=>x("all")}),r.medicationId&&e.jsx(Jl,{label:((D=i.find(v=>v.id===r.medicationId))==null?void 0:D.medicationName)||"Medikaments",onRemove:()=>p("")}),r.searchQuery&&e.jsx(Jl,{label:`"${r.searchQuery}"`,onRemove:()=>g("")})]})]})}function Jl({label:r,onRemove:n}){return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-700 rounded-full text-xs",children:[r,e.jsx("button",{onClick:n,className:"hover:bg-orange-200 rounded-full p-0.5",children:e.jsx(Te,{className:"w-3 h-3"})})]})}function Kb({residentId:r,prescriptions:n}){const[i,l]=y.useState({datePreset:"7days",status:"all",medicationId:"",searchQuery:""}),[u,c]=y.useState(null),x=y.useMemo(()=>{const I=Sv(i.datePreset);return kv(r,{...I,status:i.status,medicationId:i.medicationId,searchQuery:i.searchQuery})},[r,i]),p=y.useMemo(()=>{const I={};return x.forEach(D=>{I[D.date]||(I[D.date]=[]),I[D.date].push(D)}),I},[x]),g=I=>{const D=new Date(I),v=new Date().toISOString().split("T")[0],k=new Date;k.setDate(k.getDate()-1);const b=k.toISOString().split("T")[0];return I===v?"odien":I===b?"Vakar":D.toLocaleDateString("lv-LV",{weekday:"short",day:"numeric",month:"short"})},f=I=>new Date(I).toLocaleTimeString("lv-LV",{hour:"2-digit",minute:"2-digit"}),h=I=>{switch(I){case"given":return{icon:e.jsx(mt,{className:"w-4 h-4"}),label:"Iedota",bgColor:"bg-teal-100",textColor:"text-teal-700",iconColor:"text-teal-600"};case"increased":return{icon:e.jsx(id,{className:"w-4 h-4"}),label:"Palielinta",bgColor:"bg-blue-100",textColor:"text-blue-700",iconColor:"text-blue-600"};case"decreased":return{icon:e.jsx(ld,{className:"w-4 h-4"}),label:"Samazinta",bgColor:"bg-yellow-100",textColor:"text-yellow-700",iconColor:"text-yellow-600"};case"refused":return{icon:e.jsx(Te,{className:"w-4 h-4"}),label:"Atteics",bgColor:"bg-red-100",textColor:"text-red-700",iconColor:"text-red-600"};case"skipped":return{icon:e.jsx(py,{className:"w-4 h-4"}),label:"Izlaista",bgColor:"bg-gray-100",textColor:"text-gray-700",iconColor:"text-gray-600"};default:return{icon:e.jsx(Ht,{className:"w-4 h-4"}),label:"Nezinms",bgColor:"bg-gray-100",textColor:"text-gray-700",iconColor:"text-gray-600"}}},N=I=>{c(u===I?null:I)};return e.jsxs("div",{className:"space-y-4",children:[e.jsx(qb,{filters:i,onFiltersChange:l,medications:n}),e.jsx("div",{className:"text-sm text-gray-500",children:x.length===0?"Nav ierakstu":`${x.length} ierakst${x.length===1?"s":"i"}`}),Object.keys(p).length===0?e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:"Nav atrasti ieraksti ar izvltajiem filtriem"}):e.jsx("div",{className:"space-y-6",children:Object.entries(p).map(([I,D])=>e.jsxs("div",{children:[e.jsx("div",{className:"sticky top-0 bg-white py-2 mb-2 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:g(I)})}),e.jsx("div",{className:"space-y-2",children:D.map(v=>{var w;const k=h(v.status),b=u===v.id,C=v.refusalReason||v.adjustmentReason||v.notes||v.actualDose;return e.jsxs("div",{className:`border rounded-lg overflow-hidden transition-colors ${v.status==="refused"?"border-red-200 bg-red-50":"border-gray-200 bg-white"}`,children:[e.jsxs("button",{onClick:()=>C&&N(v.id),className:`w-full flex items-center gap-3 p-3 text-left ${C?"cursor-pointer hover:bg-gray-50":"cursor-default"}`,children:[e.jsx("div",{className:`p-2 rounded-full ${k.bgColor} ${k.iconColor}`,children:k.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm truncate",children:v.medicationName}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(w=Ta[v.timeSlot])==null?void 0:w.label,"  ",v.dose," ",v.unit]})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bgColor} ${k.textColor}`,children:k.label}),C&&e.jsx("div",{className:"text-gray-400",children:b?e.jsx(ty,{className:"w-4 h-4"}):e.jsx(In,{className:"w-4 h-4"})})]}),b&&C&&e.jsx("div",{className:"px-3 pb-3 pt-0 border-t border-gray-100",children:e.jsxs("div",{className:"ml-11 space-y-2 text-sm",children:[(v.status==="increased"||v.status==="decreased")&&v.actualDose&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Deva mainta: "}),e.jsx("span",{className:"text-gray-700 line-through mr-1",children:v.originalDose}),e.jsx("span",{className:"text-gray-500",children:""}),e.jsx("span",{className:`ml-1 font-medium ${v.status==="increased"?"text-blue-700":"text-yellow-700"}`,children:v.actualDose})]}),v.adjustmentReason&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Iemesls: "}),e.jsx("span",{className:`${v.status==="skipped"?"text-gray-700":v.status==="increased"?"text-blue-700":"text-yellow-700"}`,children:v.adjustmentReason})]}),v.refusalReason&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Iemesls: "}),e.jsx("span",{className:"text-red-700",children:v.refusalReason})]}),v.notes&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Piezmes: "}),e.jsx("span",{className:"text-gray-700",children:v.notes})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Atzmja: ",v.administeredBy,"  ",f(v.administeredAt)]})]})}),!b&&e.jsxs("div",{className:"px-3 pb-2 text-xs text-gray-400 ml-11",children:[v.administeredBy,"  ",f(v.administeredAt)]})]},v.id)})})]},I))})]})}const Gb=[{id:"basic",label:"Pamatinformcija"},{id:"housing",label:"Izmitinana"},{id:"health",label:"Veselbas aprpe"},{id:"social",label:"Socil aprpe"},{id:"care",label:"Aprpe"},{id:"attachments",label:"Pielikumi"},{id:"services",label:"Papildpakalpojumi"}],Hb=({residentId:r,onBack:n,onPrint:i})=>{var Ba,Va,Bn,Vn;const[l,u]=y.useState("health"),[c,x]=y.useState(null),[p,g]=y.useState(null),[f,h]=y.useState([]),[N,I]=y.useState(null),[D,v]=y.useState([]),[k,b]=y.useState([]),[C,w]=y.useState([]),[E,S]=y.useState([]),[R,z]=y.useState([]),[B,A]=y.useState(null),[H,O]=y.useState(null),[K,ae]=y.useState(null),[ce,je]=y.useState([]),[Ce,Ae]=y.useState([]),[F,J]=y.useState("today"),[le,te]=y.useState(!1),[L,W]=y.useState(null),[he,fe]=y.useState(!1),[be,pe]=y.useState(null),[Ee,Ne]=y.useState(!1),[Re,He]=y.useState(null),[gt,Jt]=y.useState([]),[wt,Bt]=y.useState([]),[Me,ot]=y.useState(null),[Vt,ls]=y.useState(!1),[_t,pt]=y.useState(null),[Qt,Rt]=y.useState(!1),[Ms,Ns]=y.useState(!1),[ar,ws]=y.useState(null),[ks,q]=y.useState(!1),[ke,Ue]=y.useState(!1),[tt,Ss]=y.useState(!1),[G,U]=y.useState(!1),[Le,Pe]=y.useState(!1);y.useEffect(()=>{if(r){const re=lx(r);x(re),re&&(g(p0(r)),h(zc(r)),I(Lc(r)),v(Mc(r)),b(Oc(r)),w($c(r)),S(Bc(r)),z(Vc(r)),A(Fc(r)),O(Uc(r)),ae(qc(r)),je(mi(r).filter(Ct=>Ct.status==="active")),Ae(di(r)),Jt(js(r)),Bt(En(r)),ot(Ac(r)))}},[r]);const ht=()=>{r&&Ae(di(r))},is=()=>{r&&(Jt(js(r)),Bt(En(r)),ot(Ac(r)))},st=()=>{r&&(g(p0(r)),h(zc(r)),I(Lc(r)),v(Mc(r)),b(Oc(r)),w($c(r)),S(Bc(r)),z(Vc(r)),A(Fc(r)),O(Uc(r)),ae(qc(r)),je(mi(r).filter(re=>re.status==="active")))},os=()=>{pt(null),ls(!0)},Tt=()=>{ls(!1),pt(null),st()},kt=()=>{Rt(!0)},Cs=()=>{Rt(!1),st()},Rr=()=>{ws(null),Ns(!0)},Tr=()=>{Ns(!1),ws(null),st()},Ar=()=>{q(!0)},Pr=()=>{q(!1),st()},nr=()=>{Ue(!0)},zr=()=>{Ue(!1),st()},Is=()=>{Ss(!0)},lr=()=>{Ss(!1),st()},Ds=()=>{U(!0)},na=()=>{U(!1),st()},St=()=>{Pe(!0)},Os=()=>{Pe(!1),st()},$s=()=>{W(null),te(!0)},Bs=(re,Ct)=>{pe({prescription:re,timeSlot:Ct}),fe(!0)},ki=()=>{te(!1),W(null),ht()},Si=()=>{fe(!1),pe(null),ht(),is()},Ci=re=>{He(re),Ne(!0)},Vs=()=>{Ne(!1),He(null),ht()},$n=re=>{W(re),te(!0)};if(!c)return e.jsx(Ye,{children:e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{children:"Rezidents nav atrasts"}),e.jsx("button",{onClick:n,className:"mt-4 text-orange-600 hover:text-orange-700",children:"Atgriezties"})]})});const Ft=re=>re?new Date(re).toLocaleDateString("lv-LV"):null,Ii=re=>{if(!re)return null;const Ct=new Date,cs=new Date(re);let Fs=Ct.getFullYear()-cs.getFullYear();const Us=Ct.getMonth()-cs.getMonth();return(Us<0||Us===0&&Ct.getDate()<cs.getDate())&&Fs--,Fs},Lr=(re,Ct)=>{if(!re)return null;const cs=bf[Ct],Fs=cs==null?void 0:cs.levels.find(Us=>Us.level===re.riskLevel);return Fs?{label:Fs.label,color:Fs.color}:null},$a=Ii(c.birthDate);return e.jsxs(Ye,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("button",{onClick:n,className:"hover:text-orange-600",children:"Rezidenti"}),e.jsx(_a,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-gray-900",children:[c.firstName," ",c.lastName]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-orange-100 border-2 border-orange-300 flex items-center justify-center flex-shrink-0",children:e.jsx(Wt,{className:"w-8 h-8 text-orange-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:[c.firstName," ",c.lastName]}),e.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-sm font-medium rounded border border-orange-200",children:c.careLevel||"GI 2"})]}),e.jsxs("div",{className:"text-gray-600 mt-1",children:[c.personalCode||"","  ",$a," gadi  Istaba ",c.roomNumber]})]})]}),i&&e.jsxs("button",{onClick:i,className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[e.jsx(La,{className:"w-4 h-4"}),"Drukt"]})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex gap-0 px-6 overflow-x-auto",children:Gb.map(re=>{const Ct=l===re.id;return e.jsx("button",{onClick:()=>u(re.id),className:`
                      whitespace-nowrap px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px
                      ${Ct?"text-orange-600 border-orange-500":"text-gray-500 hover:text-gray-700 border-transparent"}
                    `,children:re.label},re.id)})})}),e.jsxs("div",{className:"p-4",children:[l==="basic"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personas dati"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Vrds, uzvrds"}),e.jsxs("p",{className:"font-medium",children:[c.firstName," ",c.lastName]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Personas kods"}),e.jsx("p",{className:"font-medium",children:c.personalCode||""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Dzimanas datums"}),e.jsx("p",{className:"font-medium",children:Ft(c.birthDate)||""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Vecums"}),e.jsxs("p",{className:"font-medium",children:[$a," gadi"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Aprpes lmenis"}),e.jsx("p",{className:"font-medium",children:c.careLevel||""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"imenes rsts"}),e.jsx("p",{className:"font-medium",children:c.familyDoctor||""})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Deklart adrese"}),e.jsx("p",{className:"font-medium",children:c.declaredAddress||""})]})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Kontaktpersonas"]}),e.jsxs("button",{onClick:()=>alert("Kontaktpersonu pievienoana - funkcionalitte tiks pievienota"),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(ii,{className:"w-4 h-4"}),"Pievienot"]})]}),!c.contactPersons||c.contactPersons.length===0?e.jsx("p",{className:"text-gray-500",children:"Nav pievienotu kontaktpersonu - rkrtas gadjumos svargi!"}):e.jsx("div",{className:"space-y-3",children:c.contactPersons.slice(0,5).map((re,Ct)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-green-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:re.name}),e.jsx("p",{className:"text-sm text-gray-500",children:re.relationship||"Radinieks"})]}),e.jsxs("a",{href:`tel:${re.phone}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),re.phone]})]},Ct))})]})]}),l==="housing"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Izmitinanas informcija"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Istabas numurs"}),e.jsx("p",{className:"font-medium",children:c.roomNumber||""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Gultas vieta"}),e.jsx("p",{className:"font-medium",children:c.bedNumber||""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Uzemanas datums"}),e.jsx("p",{className:"font-medium",children:Ft(c.admissionDate)||""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Lguma numurs"}),e.jsx("p",{className:"font-medium",children:c.contractNumber||""})]})]})]})}),l==="health"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(Cr,{title:"Diagnozes",icon:sd,count:f.length,onAdd:os,defaultOpen:f.length>0,children:e.jsx(ib,{diagnoses:f,onEdit:re=>{pt(re),ls(!0)},onDelete:()=>st()})}),e.jsx(Cr,{title:"Msas apskate",icon:li,lastUpdate:N?Ft(N.measuredAt):null,onAdd:kt,onHistory:()=>{},defaultOpen:!0,children:e.jsx(lb,{vitals:N,onRecordNew:kt})}),e.jsx(Cr,{title:"rsta apskate",icon:nd,count:k.length,lastUpdate:k[0]?Ft(k[0].assessedAt):null,onAdd:Ar,onHistory:()=>{},children:k.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav apskau ierakstu"}):e.jsx("div",{className:"space-y-2",children:k.slice(0,3).map(re=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[e.jsxs("div",{className:"flex justify-between text-gray-500 text-xs mb-1",children:[e.jsx("span",{children:Ft(re.assessedAt)}),e.jsx("span",{children:re.assessedBy})]}),e.jsx("p",{className:"text-gray-700",children:re.findings||re.notes||"Nav piezmju"})]},re.id))})}),e.jsx(Cr,{title:"Psihiatra apskate",icon:Ea,count:E.length,lastUpdate:E[0]?Ft(E[0].assessedAt):null,onAdd:nr,children:E.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav apskau ierakstu"}):e.jsx("div",{className:"space-y-2",children:E.slice(0,3).map(re=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[e.jsxs("div",{className:"flex justify-between text-gray-500 text-xs mb-1",children:[e.jsx("span",{children:Ft(re.assessedAt)}),e.jsx("span",{children:re.assessedBy})]}),e.jsx("p",{className:"text-gray-700",children:re.findings||re.notes||"Nav piezmju"})]},re.id))})}),e.jsx(Cr,{title:"Vakcincija",icon:vx,count:D.length,onAdd:Rr,children:D.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav vakcincijas ierakstu"}):e.jsx("div",{className:"space-y-2",children:D.map(re=>e.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:re.vaccineName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Srija: ",re.series||"","  Datums: ",Ft(re.administeredDate)]})]})},re.id))})}),e.jsx(Cr,{title:"Kritienu risks (Morsa skala)",icon:ut,badge:B?(Ba=Lr(B,"morse"))==null?void 0:Ba.label:null,badgeColor:B?(Va=Lr(B,"morse"))==null?void 0:Va.color:"gray",lastUpdate:B?Ft(B.assessedAt):null,onAdd:Is,children:B?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Punktu skaits"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:B.score})]}):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav novrtjuma"})}),e.jsx(Cr,{title:"Izguljumu risks (Bradena skala)",icon:bs,badge:H?(Bn=Lr(H,"braden"))==null?void 0:Bn.label:null,badgeColor:H?(Vn=Lr(H,"braden"))==null?void 0:Vn.color:"gray",lastUpdate:H?Ft(H.assessedAt):null,onAdd:Ds,children:H?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Punktu skaits"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:H.score})]}):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav novrtjuma"})}),e.jsx(Cr,{title:"Tehniskie palgldzeki",icon:Nx,count:ce.length,onAdd:St,children:ce.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nav pieirtu palgldzeku"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:ce.map(re=>e.jsx("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm",children:re.description||re.aidType},re.id))})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ordincijas"}),c.allergies&&c.allergies.length>0&&e.jsx(Ov,{allergies:c.allergies}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>J("today"),className:`px-3 py-2 text-sm transition-colors ${F==="today"?"bg-orange-100 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:"odien"}),e.jsxs("button",{onClick:()=>J("week"),className:`px-3 py-2 text-sm flex items-center gap-1 border-l border-gray-300 transition-colors ${F==="week"?"bg-orange-100 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(ea,{className:"w-4 h-4"}),"Neda"]}),e.jsxs("button",{onClick:()=>J("month"),className:`px-3 py-2 text-sm flex items-center gap-1 border-l border-gray-300 transition-colors ${F==="month"?"bg-orange-100 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(ey,{className:"w-4 h-4"}),"Mnesis"]}),e.jsxs("button",{onClick:()=>J("history"),className:`px-3 py-2 text-sm flex items-center gap-1 border-l border-gray-300 transition-colors ${F==="history"?"bg-orange-100 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(hx,{className:"w-4 h-4"}),"Vsture"]})]}),e.jsxs("button",{onClick:$s,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(ii,{className:"w-4 h-4"}),"Pievienot"]})]}),F==="today"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(Pv,{prescriptions:Ce,onRefuse:Bs,onEdit:$n,onCancel:Ci})}),e.jsx("div",{className:"block md:hidden",children:e.jsx(Lv,{prescriptions:Ce,onRefuse:Bs})})]}),F==="week"&&e.jsx(Bb,{prescriptions:Ce,residentId:c.id,onDayClick:()=>{}}),F==="month"&&e.jsx(Fb,{prescriptions:Ce,residentId:c.id,residentName:`${c.firstName} ${c.lastName}`,onDayClick:()=>{}}),F==="history"&&e.jsx(Kb,{residentId:c.id,prescriptions:Ce})]})]}),l==="social"&&e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:e.jsx("p",{children:"Socils aprpes sadaa tiks pievienota"})})}),l==="care"&&e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:e.jsx("p",{children:"Aprpes sadaa tiks pievienota"})})}),l==="attachments"&&e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:e.jsx("p",{children:"Pielikumu sadaa tiks pievienota"})})}),l==="services"&&e.jsxs("div",{className:"space-y-4",children:[Me&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Medikamenti"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:Me.totalItems})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"No noliktavas"}),e.jsx("p",{className:"text-xl font-bold text-orange-600",children:Me.fromBulk})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"No radiniekiem"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:Me.fromRelatives})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Brdinjumi"}),e.jsx("p",{className:`text-xl font-bold ${Me.alerts>0?"text-red-600":"text-gray-900"}`,children:Me.alerts})]})]}),wt.length>0&&e.jsx(ui,{alerts:wt}),gt.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nav pievienotu medikamentu krjumu"}):e.jsx(Px,{items:gt})]})]})]})]}),le&&e.jsx(Lb,{resident:c,prescription:L,onSave:ki,onClose:()=>{te(!1),W(null)}}),he&&be&&e.jsx(Ob,{resident:c,prescription:be.prescription,timeSlot:be.timeSlot,onSave:Si,onClose:()=>{fe(!1),pe(null)}}),Ee&&Re&&e.jsx($b,{prescription:Re,onSave:Vs,onClose:()=>{Ne(!1),He(null)}}),Vt&&e.jsx(jb,{resident:c,diagnosis:_t,onSave:Tt,onClose:()=>{ls(!1),pt(null)}}),Qt&&e.jsx(kb,{resident:c,onSave:Cs,onClose:()=>Rt(!1)}),Ms&&e.jsx(Sb,{resident:c,vaccination:ar,onSave:Tr,onClose:()=>{Ns(!1),ws(null)}}),ks&&e.jsx(Cb,{resident:c,onSave:Pr,onClose:()=>q(!1)}),ke&&e.jsx(Ib,{resident:c,onSave:zr,onClose:()=>Ue(!1)}),tt&&e.jsx(Db,{resident:c,onSave:lr,onClose:()=>Ss(!1)}),G&&e.jsx(Eb,{resident:c,onSave:na,onClose:()=>U(!1)}),Le&&e.jsx(_b,{resident:c,onSave:Os,onClose:()=>Pe(!1)})]})},Kc=3,xd="adorable-demo-data-version",Ql=["Anna","Marta","Lga","Ilze","Inga","Dace","Baiba","Inese","Aija","Vija","Zenta","Mirdza","Ausma","Rasma","Biruta","Dzintra","Gaida","Helna","Irna","Janna","Kristne","Laima","Maija","Natlija","Olga","Paula","Ruta","Sandra","Tamra","Valija","Vera","Zelma","Alma","Elvra","Emlija","Gertrde","Hermne","Lidija","Milda","Silvija","Tekla","Veronika","Zinada","Antonija","Broislava","Elfrda","Leontne","Marija","Otlija","Stefnija"],Yl=["Jnis","Pteris","Andris","Mris","Krlis","Juris","Valdis","Aivars","Gunrs","Imants","Edgars","Raimonds","Viktors","Aleksandrs","Arvds","Bruno","Dvis","Elmrs","Fricis","Guntis","Harijs","Ivars","Jkabs","Konstantns","Leons","Mihails","Nikolajs","Oskars","Paulis","Roberts","Staislavs","Teodors","Uldis","Vilhelms","Zigfrds","dolfs","Bernhards","Eduards","Gothards","Herberts","Jzeps","Krijnis","Ludvigs","Markuss","Normunds","Oegs","Pvils","Reinis","Sergejs","Voldemrs"],Zl=["Brzi","Kalni","Ozoli","Jansons","Liepi","Krmi","Balodis","Egltis","Zari","Vanags","Vtols","boli","Celmi","Dmi","Feldmanis","Grundulis","Hofmanis","Ivankovs","Jurvics","Kavi","Lagzdi","Mednis","Niedra","Osis","Petrovs","Rudztis","Sili","Trums","Upenieks","Vveris","Zais","bols","Blumbergs","Crulis","Dreimanis","Ezernieks","Freibergs","Gailis","Hermanis","Ivanovs"],Xl=["Brzia","Kalnia","Ozolia","Jansone","Liepia","Krmia","Balode","Eglte","Zaria","Vanaga","Vtola","bolia","Celmia","Dmia","Feldmane","Grundule","Hofmane","Ivankova","Jurvica","Kavia","Lagzdia","Medne","Niedre","Ose","Petrova","Rudzte","Silia","Truma","Upeniece","Vvere","Zae","bola","Blumberga","Crule","Dreimane","Ezerniece","Freiberga","Gaile","Hermane","Ivanova"],y0=["Dls","Meita","Mazdls","Mazmeita","Brlis","Msa","Bradls","Msasmeita","Draugs","Draudzene"],v0=["Penicilns","Olas","Laktoze","Glutns","Rieksti","Zivs","Soja","Aspirns","Ibuprofns","Sulfti"],b0=["Brvbas iela","Raia bulvris","Dzirnavu iela","aka iela","Blaumaa iela","Stabu iela","Trbatas iela","Barona iela","Valdemra iela","Elizabetes iela"],j0=["Dr. Jnis Ozoli","Dr. Aija Liepa","Dr. Mris Vtoli","Dr. Inga Brzia","Dr. Pteris Kalni","Dr. Dace Eglte","Dr. Gunrs Zari","Dr. Ilze Balode"],Ie=r=>{const n=Math.sin(r)*1e4;return n-Math.floor(n)},Wb=()=>{const r=[];for(let n=1;n<=200;n++){const i=n*13.37,l=Ie(i)>.45,u=l?Ql[Math.floor(Ie(i+1)*Ql.length)]:Yl[Math.floor(Ie(i+1)*Yl.length)],c=l?Xl[Math.floor(Ie(i+2)*Xl.length)]:Zl[Math.floor(Ie(i+2)*Zl.length)],x=1930+Math.floor(Ie(i+3)*25),p=1+Math.floor(Ie(i+4)*12),g=1+Math.floor(Ie(i+5)*28),f=`${x}-${String(p).padStart(2,"0")}-${String(g).padStart(2,"0")}`,h=1+Math.floor(Ie(i+6)*4),N=1+Math.floor(Ie(i+7)*15),I=1+Math.floor(Ie(i+8)*2),D=`ROOM-${h}${String(N).padStart(2,"0")}`,v=String(1+Math.floor(Ie(i+9)*4)),b=Ie(i+10)<.3?1+Math.floor(Ie(i+11)*2):0,C=[];for(let H=0;H<b;H++){const O=v0[Math.floor(Ie(i+12+H)*v0.length)];C.includes(O)||C.push(O)}const w=1+Math.floor(Ie(i+15)*2),E=[];for(let H=0;H<w;H++){const O=Ie(i+16+H)>.5,K=O?Ql[Math.floor(Ie(i+17+H)*Ql.length)]:Yl[Math.floor(Ie(i+17+H)*Yl.length)],ae=O?Xl[Math.floor(Ie(i+18+H)*Xl.length)]:Zl[Math.floor(Ie(i+18+H)*Zl.length)],ce=`+371 2${Math.floor(Ie(i+19+H)*9e6+1e6)}`,je=y0[Math.floor(Ie(i+20+H)*y0.length)];E.push({name:`${K} ${ae}`,phone:ce,relationship:je})}const S=`https://ui-avatars.com/api/?name=${encodeURIComponent(u+"+"+c)}&size=128&background=${l?"f8b4c4":"87ceeb"}&color=333&bold=true`,R=2024+Math.floor(Ie(i+25)*2),z=1+Math.floor(Ie(i+26)*12),B=1+Math.floor(Ie(i+27)*28),A=`${R}-${String(z).padStart(2,"0")}-${String(B).padStart(2,"0")}`;r.push({id:`RES-${String(n).padStart(3,"0")}`,firstName:u,lastName:c,birthDate:f,personalCode:`${String(g).padStart(2,"0")}${String(p).padStart(2,"0")}${String(x).slice(2)}-${1e4+Math.floor(Ie(i+28)*89999)}`,phone:Ie(i+29)>.7?`+371 2${Math.floor(Ie(i+30)*9e6+1e6)}`:null,email:Ie(i+31)>.8?`${u.toLowerCase()}.${c.toLowerCase()}@inbox.lv`:null,gender:l?"female":"male",leadId:`L-2025-${String(n).padStart(3,"0")}`,agreementNumber:`A-2025-${String(n).padStart(3,"0")}`,careLevel:v,roomId:D,roomNumber:`${h}${String(N).padStart(2,"0")}`,bedNumber:I,allergies:C,photo:S,status:"active",admissionDate:A,dischargeDate:null,createdAt:`${A}T10:00:00.000Z`,contactPersons:E,familyDoctor:j0[Math.floor(Ie(i+32)*j0.length)],declaredAddress:`${b0[Math.floor(Ie(i+33)*b0.length)]} ${1+Math.floor(Ie(i+34)*150)}, Rga, LV-10${10+Math.floor(Ie(i+35)*90)}`})}return r},N0=Wb(),Jb=[{id:"DX-001",residentId:"RES-001",code:"I10",description:"Arteril hipertensija",diagnosedDate:"2020-05-15",status:"active",notes:"Kontrol ar medikamentiem",createdBy:"Dr. Liepi",createdAt:"2025-06-01T10:30:00.000Z"},{id:"DX-002",residentId:"RES-001",code:"E11",description:"2. tipa cukura diabts",diagnosedDate:"2018-03-10",status:"active",notes:"Dita un metformns",createdBy:"Dr. Liepi",createdAt:"2025-06-01T10:35:00.000Z"},{id:"DX-003",residentId:"RES-002",code:"G30.9",description:"Alcheimera slimba",diagnosedDate:"2023-01-20",status:"active",notes:"Vidji smaga pakpe",createdBy:"Dr. Kalni",createdAt:"2025-07-15T15:00:00.000Z"},{id:"DX-004",residentId:"RES-002",code:"M81.0",description:"Osteoporoze",diagnosedDate:"2022-06-15",status:"active",notes:"",createdBy:"Dr. Kalni",createdAt:"2025-07-15T15:05:00.000Z"},{id:"DX-005",residentId:"RES-003",code:"I25.9",description:"Hroniska imiska sirds slimba",diagnosedDate:"2019-08-25",status:"active",notes:"",createdBy:"Dr. Ozols",createdAt:"2025-08-01T09:30:00.000Z"}],Qb=[{id:"VIT-001",residentId:"RES-001",temperature:36.5,bloodPressure:"138/85",pulse:72,oxygen:97,weight:68.5,bloodSugar:6.2,measuredAt:"2026-01-07T08:00:00.000Z",measuredBy:"Msa Irna",notes:""},{id:"VIT-002",residentId:"RES-001",temperature:36.4,bloodPressure:"142/88",pulse:74,oxygen:96,weight:68.5,bloodSugar:5.8,measuredAt:"2026-01-06T08:00:00.000Z",measuredBy:"Msa Irna",notes:""},{id:"VIT-003",residentId:"RES-002",temperature:36.8,bloodPressure:"125/78",pulse:68,oxygen:98,weight:75.2,bloodSugar:5.1,measuredAt:"2026-01-07T08:15:00.000Z",measuredBy:"Msa Irna",notes:""},{id:"VIT-004",residentId:"RES-003",temperature:36.6,bloodPressure:"145/90",pulse:80,oxygen:95,weight:62,bloodSugar:5.5,measuredAt:"2026-01-07T08:30:00.000Z",measuredBy:"Msa Dace",notes:"Nedaudz paaugstints asinsspiediens"}],Yb=[{id:"VAC-001",residentId:"RES-001",vaccineName:"Comirnaty (Pfizer-BioNTech)",vaccineType:"COVID-19",series:"BNT162b2",administeredDate:"2024-10-15",expirationDate:"2025-10-15",administeredBy:"Dr. Liepi",createdAt:"2024-10-15T10:00:00.000Z"},{id:"VAC-002",residentId:"RES-001",vaccineName:"Influvac Tetra",vaccineType:"Gripa",series:"INF2024",administeredDate:"2024-11-01",expirationDate:"2025-11-01",administeredBy:"Msa Irna",createdAt:"2024-11-01T09:00:00.000Z"},{id:"VAC-003",residentId:"RES-002",vaccineName:"Comirnaty (Pfizer-BioNTech)",vaccineType:"COVID-19",series:"BNT162b2",administeredDate:"2024-10-20",expirationDate:"2025-10-20",administeredBy:"Dr. Kalni",createdAt:"2024-10-20T11:00:00.000Z"},{id:"VAC-004",residentId:"RES-003",vaccineName:"Influvac Tetra",vaccineType:"Gripa",series:"INF2024",administeredDate:"2024-11-05",expirationDate:"2025-11-05",administeredBy:"Msa Dace",createdAt:"2024-11-05T14:00:00.000Z"}],Zb=[{id:"DOC-001",residentId:"RES-001",assessedAt:"2026-01-05T10:00:00.000Z",assessedBy:"Dr. Liepi",findings:"Stabils stvoklis. Turpint pareizjo rstanu.",recommendations:"Kontrole pc 1 mnea",notes:""},{id:"DOC-002",residentId:"RES-002",assessedAt:"2026-01-03T11:00:00.000Z",assessedBy:"Dr. Kalni",findings:"Kognitvs funkcijas nemaingas. Izteikta slaicgs atmias traucjumi.",recommendations:"Turpint kognitvo stimulciju",notes:""},{id:"DOC-003",residentId:"RES-003",assessedAt:"2026-01-04T09:30:00.000Z",assessedBy:"Dr. Ozols",findings:"Sdzas par aizdusas epizodm. EKG bez izmaim.",recommendations:"Palielint diurtia devu",notes:"Kontrolt svaru katru dienu"}],Xb=[{id:"NRS-001",residentId:"RES-001",assessedAt:"2026-01-07T07:30:00.000Z",assessedBy:"Msa Irna",findings:"Guljusi labi. stgribu normla.",notes:""},{id:"NRS-002",residentId:"RES-002",assessedAt:"2026-01-07T07:45:00.000Z",assessedBy:"Msa Irna",findings:"Dezorientts no rta. Paldzba vajadzga rbjoties.",notes:"Uzmangi sekot aktivittm"},{id:"NRS-003",residentId:"RES-003",assessedAt:"2026-01-07T08:00:00.000Z",assessedBy:"Msa Dace",findings:"Nedaudz nogurusi. Kjas pietkuas.",notes:"Pacelt kjas gult"}],ej=[{id:"PSY-001",residentId:"RES-002",assessedAt:"2025-12-15T14:00:00.000Z",assessedBy:"Dr. Straupe",findings:"MMSE: 18/30. Vidji smagi kognitvi traucjumi.",recommendations:"Turpint donepezilu",notes:""}],tj=[{id:"PHY-001",residentId:"RES-001",assessedAt:"2026-01-02T10:00:00.000Z",assessedBy:"Fiziot. Kalnja",findings:"Gaita stabila ar rollatoru. Izpilda vingrojumus patstvgi.",notes:"Turpint ikdienas vingrojumus"},{id:"PHY-002",residentId:"RES-002",assessedAt:"2026-01-02T11:00:00.000Z",assessedBy:"Fiziot. Kalnja",findings:"Nepiecieama paldzba staigjot. Izmanto rolatoru.",notes:"Uzmanba - kritienu risks"}],sj=[{id:"MORSE-001",residentId:"RES-001",scaleType:"morse",score:35,riskLevel:"medium",factors:{fallHistory:0,secondaryDiagnosis:15,ambulatoryAid:15,ivTherapy:0,gait:5,mentalStatus:0},assessedAt:"2026-01-01T10:00:00.000Z",assessedBy:"Msa Irna"},{id:"MORSE-002",residentId:"RES-002",scaleType:"morse",score:55,riskLevel:"high",factors:{fallHistory:25,secondaryDiagnosis:15,ambulatoryAid:15,ivTherapy:0,gait:0,mentalStatus:0},assessedAt:"2026-01-01T10:30:00.000Z",assessedBy:"Msa Irna"},{id:"MORSE-003",residentId:"RES-003",scaleType:"morse",score:25,riskLevel:"low",factors:{fallHistory:0,secondaryDiagnosis:15,ambulatoryAid:0,ivTherapy:0,gait:10,mentalStatus:0},assessedAt:"2026-01-01T11:00:00.000Z",assessedBy:"Msa Dace"}],rj=[{id:"BRADEN-001",residentId:"RES-001",scaleType:"braden",score:18,riskLevel:"low",factors:{sensoryPerception:4,moisture:3,activity:3,mobility:3,nutrition:3,frictionShear:2},assessedAt:"2026-01-01T10:00:00.000Z",assessedBy:"Msa Irna"},{id:"BRADEN-002",residentId:"RES-002",scaleType:"braden",score:14,riskLevel:"medium",factors:{sensoryPerception:3,moisture:3,activity:2,mobility:2,nutrition:2,frictionShear:2},assessedAt:"2026-01-01T10:30:00.000Z",assessedBy:"Msa Irna"}],aj=[{id:"BARTHEL-001",residentId:"RES-001",scaleType:"barthel",score:75,riskLevel:"medium",factors:{feeding:10,bathing:0,grooming:5,dressing:10,bowels:10,bladder:10,toiletUse:10,transfers:10,mobility:10,stairs:0},assessedAt:"2026-01-01T10:00:00.000Z",assessedBy:"Msa Irna"},{id:"BARTHEL-002",residentId:"RES-002",scaleType:"barthel",score:45,riskLevel:"severe",factors:{feeding:5,bathing:0,grooming:0,dressing:5,bowels:5,bladder:5,toiletUse:5,transfers:10,mobility:10,stairs:0},assessedAt:"2026-01-01T10:30:00.000Z",assessedBy:"Msa Irna"},{id:"BARTHEL-003",residentId:"RES-003",scaleType:"barthel",score:85,riskLevel:"low",factors:{feeding:10,bathing:5,grooming:5,dressing:10,bowels:10,bladder:10,toiletUse:10,transfers:10,mobility:15,stairs:0},assessedAt:"2026-01-01T11:00:00.000Z",assessedBy:"Msa Dace"}],nj=[{id:"AID-001",residentId:"RES-001",aidType:"rollator",description:"Rollators ar sdekli",assignedDate:"2025-06-01",status:"active",notes:"Izmanto ikdien"},{id:"AID-002",residentId:"RES-002",aidType:"rollator",description:"Rollators",assignedDate:"2025-07-15",status:"active",notes:""},{id:"AID-003",residentId:"RES-002",aidType:"bed_rails",description:"Gultas margalas",assignedDate:"2025-07-15",status:"active",notes:"Kritienu profilaksei"},{id:"AID-004",residentId:"RES-003",aidType:"walking_cane",description:"Spieis",assignedDate:"2025-08-01",status:"active",notes:""}],lj=()=>{Object.values(ve).forEach(r=>{localStorage.removeItem(r)}),Object.values(fs).forEach(r=>{localStorage.removeItem(r)}),localStorage.removeItem(xd),console.log("Demo data cleared")},ij=()=>{const r=localStorage.getItem(xd),n=localStorage.getItem(ve.RESIDENTS);return r!==String(Kc)?(console.log(`Demo data version mismatch (${r} vs ${Kc}), refreshing...`),lj(),!1):n&&JSON.parse(n).length>0},oj=()=>{if(ij()){console.log("Demo data already initialized");return}console.log("Initializing demo data..."),Zc(),N0.forEach(r=>{rx(r.roomId,r.bedNumber,r.id)}),localStorage.setItem(ve.RESIDENTS,JSON.stringify(N0)),localStorage.setItem(ve.DIAGNOSES,JSON.stringify(Jb)),localStorage.setItem(ve.VITALS_LOG,JSON.stringify(Qb)),localStorage.setItem(ve.VACCINATIONS,JSON.stringify(Yb)),localStorage.setItem(ve.DOCTOR_ASSESSMENTS,JSON.stringify(Zb)),localStorage.setItem(ve.NURSE_ASSESSMENTS,JSON.stringify(Xb)),localStorage.setItem(ve.PSYCHIATRIST_ASSESSMENTS,JSON.stringify(ej)),localStorage.setItem(ve.PHYSIO_ASSESSMENTS,JSON.stringify(tj)),localStorage.setItem(ve.RISK_MORSE,JSON.stringify(sj)),localStorage.setItem(ve.RISK_BRADEN,JSON.stringify(rj)),localStorage.setItem(ve.RISK_BARTHEL,JSON.stringify(aj)),localStorage.setItem(ve.TECHNICAL_AIDS,JSON.stringify(nj)),localStorage.setItem(xd,String(Kc)),console.log("Demo data initialized successfully")},cj=({lead:r,queuePosition:n,onClose:i,onSend:l})=>{var h,N,I;const[u,c]=y.useState(!1),[x]=y.useState(()=>Ay(r,n)),p=async()=>{const D=`Subject: ${x.subject}

${x.body}`;try{await navigator.clipboard.writeText(D),c(!0),setTimeout(()=>c(!1),2e3)}catch(v){console.error("Failed to copy:",v)}},g=()=>{l(r)},f=D=>{switch(D){case"single":return"Vienvietga istaba";case"double":return"Divvietga istaba";case"triple":return"Trsvietga istaba";default:return D}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Yr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"}),"Piedvjums no rindas"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Pozcija rind: #",n]})]}),e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Te,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-4 sm:p-6 bg-blue-50 border-b border-blue-100",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block",children:"Klients"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[r.firstName," ",r.lastName]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block",children:"Aprpes lmenis"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[(h=r.consultation)==null?void 0:h.careLevel,". lmenis"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block",children:"Istaba"}),e.jsx("span",{className:"font-semibold text-gray-900",children:f((N=r.consultation)==null?void 0:N.roomType)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block",children:"Cena"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[(I=r.consultation)==null?void 0:I.price," /d"]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Samjs:"}),e.jsxs("div",{className:"font-medium text-gray-900",children:[r.firstName," ",r.lastName," <",r.email,">"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Temats:"}),e.jsx("div",{className:"font-semibold text-gray-900",children:x.subject})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Ziojums:"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-gray-700 leading-relaxed",children:x.body})})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx($t,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-green-900",children:[e.jsx("p",{className:"font-medium mb-1",children:"Piedvjums vietas pieejambai"}),e.jsx("p",{className:"text-green-700",children:"Klients tiks informts, ka vieta ir pieejama un jsazins 3 darba dienu laik. Pc nostanas klients paliks rind ldz apstiprinsiet lgumu."})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 p-4 sm:p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:i,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Atcelt"}),e.jsx("button",{onClick:p,className:"flex-1 px-6 py-2.5 border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 font-medium flex items-center justify-center gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-4 h-4"}),"Nokopts!"]}):e.jsxs(e.Fragment,{children:[e.jsx(xx,{className:"w-4 h-4"}),"Kopt saturu"]})}),e.jsxs("button",{onClick:g,className:"flex-1 px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(sa,{className:"w-4 h-4"}),"Nostt piedvjumu"]})]})]})})};oj();const dj=()=>{const{leads:r,addLead:n,updateLead:i}=ed(),{saveContract:l}=td(),[u,c]=y.useState(Q.LIST),[x,p]=y.useState("all-leads"),[g,f]=y.useState({firstName:"",lastName:"",email:"",phone:"",comment:""}),[h,N]=y.useState(null),[I,D]=y.useState({}),[v,k]=y.useState({careLevel:"",duration:"",roomType:"",notes:"",hasDementia:!1,fillScenario:"in-person"}),[b,C]=y.useState(!1),[w,E]=y.useState(null),[S,R]=y.useState(null),[z,B]=y.useState(null),[A,H]=y.useState(null),[O,K]=y.useState(null),[ae,ce]=y.useState(null),[je,Ce]=y.useState(null),[Ae,F]=y.useState(null),[J,le]=y.useState(!1),[te,L]=y.useState(null),W=G=>{G.preventDefault();const U=H0(g);if(D(U),W0(U)){const Le=ff(g);N(Le),n(Le),c(Q.LEAD_VIEW)}},he=()=>{const G=hc(v),U={...v,price:G},Le=yf(h,U);N(Le),n(Le),v.fillScenario==="in-person"?c(Q.SURVEY):c(Q.WAITING)},fe=G=>{const U={...h,...G};N(U),i(h.id,G)},be=G=>{const U=hc(G),Le={...h.consultation,...G,price:U},Pe={...h,consultation:Le};N(Pe),n(Pe)},pe=()=>{c(Q.SURVEY)},Ee=G=>{const U={...h,status:Se.SURVEY_FILLED,survey:G};N(U),n(U),c(Q.OFFER_REVIEW)},Ne=G=>{const U={...h,status:Se.SURVEY_FILLED,offer:G};N(U),n(U),c(Q.OFFER_REVIEW)},Re=()=>{ce(h),K(null),c(Q.CONTRACT_CREATE)},He=()=>{const G=Xm(h);N(G),n(G),c(Q.QUEUE)},gt=()=>{const G=Xm(h);N(G),n(G),c(Q.QUEUE)},Jt=G=>{E(G),C(!0)},wt=G=>{const U=vf(G);n(U),C(!1),E(null)},Bt=G=>{const U={...G,acceptedFromQueueDate:Sn(),acceptedFromQueueTime:Cn()};N(U),n(U),ce(U),K(null),c(Q.CONTRACT_CREATE)},Me=(G,U)=>{const Le=r.find(Pe=>Pe.id===G);if(Le){const Pe={...Le,status:Se.CANCELLED,cancellation:U};n(Pe)}},ot=G=>{N(G),c(Q.QUEUE)},Vt=()=>{const G={...h,emailSent:!0,emailSentDate:Sn(),emailSentTime:Cn()};N(G),n(G)},ls=G=>{const U={...h.survey,...G},Le={...h,survey:U};N(Le),n(Le);const Pe=hf(),ht={...Le,status:Se.AGREEMENT,agreementNumber:Pe};N(ht),n(ht),c(Q.AGREEMENT)},_t=G=>{const U={...h,status:Se.CANCELLED,cancellation:G};N(U),n(U),c(Q.LIST)},pt=()=>{c(Q.FORM),f({firstName:"",lastName:"",email:"",phone:"",comment:""}),N(null),k({careLevel:"",duration:"",roomType:"",notes:"",hasDementia:!1,fillScenario:"in-person"}),D({})},Qt=G=>{if(G.status===Se.CANCELLED)return;N({...G,assignedTo:G.assignedTo||"Kristens Blms",createdTime:G.createdTime||"10:00"});const U=G.status||Se.PROSPECT;U===Se.PROSPECT?c(Q.LEAD_VIEW):U===Se.CONSULTATION?c(Q.WAITING):U===Se.SURVEY_FILLED?c(Q.OFFER_REVIEW):U===Se.AGREEMENT?c(Q.AGREEMENT):U===Se.QUEUE&&c(Q.QUEUE)},Rt=G=>{p(G),G==="queue"?c(Q.QUEUE_LIST):G==="residents"?(R(null),c(Q.RESIDENT_LIST)):G==="room-management"?c(Q.ROOM_MANAGEMENT):G==="bulk-inventory"?c(Q.INVENTORY_DASHBOARD):G==="resident-inventory"?(B(null),c(Q.RESIDENT_INVENTORY_LIST)):G==="inventory-reports"?c(Q.INVENTORY_REPORTS):G==="contracts"?(K(null),ce(null),c(Q.CONTRACT_LIST)):c(Q.LIST)},Ms=G=>{R(G),c(Q.RESIDENT_PROFILE)},Ns=()=>{c(Q.PRESCRIPTION_PRINT)},ar=hc(v),ws=v.careLevel&&v.duration&&v.roomType,ks=[Q.RESIDENT_LIST,Q.RESIDENT_PROFILE,Q.PRESCRIPTION_PRINT].includes(u),q=u===Q.ROOM_MANAGEMENT,ke=u===Q.QUEUE_LIST,Ue=[Q.CONTRACT_LIST,Q.CONTRACT_CREATE,Q.CONTRACT_VIEW,Q.CONTRACT_PRINT].includes(u),tt=u===Q.LIST?x:ks?"residents":q?"room-management":ke?"queue":Ue?"contracts":u===Q.INVENTORY_DASHBOARD?"bulk-inventory":u===Q.RESIDENT_INVENTORY_LIST||u===Q.RESIDENT_INVENTORY?"resident-inventory":u===Q.INVENTORY_REPORTS?"inventory-reports":null,Ss=u===Q.OFFER_CUSTOMER;return e.jsxs("div",{children:[e.jsx(ky,{onNavigate:Rt,currentView:tt,isCustomerView:Ss}),u===Q.FORM&&e.jsx(Sy,{leadData:g,errors:I,onChange:f,onSubmit:W,onBack:()=>c(Q.LIST)}),u===Q.LEAD_VIEW&&h&&e.jsx(Iy,{savedLead:h,onBack:()=>c(Q.LIST),onStartConsultation:()=>c(Q.CONSULTATION),onUpdate:fe,onCancelLead:_t}),u===Q.CONSULTATION&&h&&e.jsx(Dy,{savedLead:h,consultation:v,price:ar,allSelected:ws,onConsultationChange:k,onSave:he,onBack:()=>c(Q.LEAD_VIEW)}),u===Q.WAITING&&h&&e.jsx(Py,{savedLead:h,onBack:()=>c(Q.CONSULTATION),onCreateAgreement:pe,onAddToQueue:gt,onViewList:()=>c(Q.LIST),onUpdateConsultation:be,onEmailSent:Vt,onCancelLead:_t}),u===Q.SURVEY&&h&&e.jsx(zy,{savedLead:h,onSubmit:Ee,onBack:()=>c(Q.WAITING)}),u===Q.OFFER_CUSTOMER&&h&&e.jsx(Ly,{savedLead:h,onSubmit:Ne,onCancel:()=>c(Q.WAITING)}),u===Q.OFFER_REVIEW&&h&&e.jsx(Oy,{savedLead:h,onCreateAgreement:Re,onAddToQueue:He,onBack:()=>c(Q.SURVEY),onEmailSent:Vt,onCancelLead:_t,onUpdateSurveyAndCreateAgreement:ls}),u===Q.AGREEMENT&&h&&e.jsx(By,{savedLead:h,onBack:()=>c(Q.OFFER_REVIEW),onViewList:()=>c(Q.LIST),onAddNew:pt,onCancelLead:_t,onBookBed:()=>c(Q.BED_BOOKING),onEditContract:()=>{ce(h),K(null),c(Q.CONTRACT_CREATE)},onPrintContract:()=>{var U,Le,Pe,ht,is,st,os,Tt,kt,Cs;const G={id:h.id,contractNumber:h.agreementNumber||h.contractId,status:"aktvs",residence:"melodija",residentName:`${h.firstName||""} ${h.lastName||""}`.trim(),clientName:((U=h.survey)==null?void 0:U.signerScenario)==="resident"?`${h.firstName||""} ${h.lastName||""}`.trim():`${((Le=h.survey)==null?void 0:Le.clientFirstName)||""} ${((Pe=h.survey)==null?void 0:Pe.clientLastName)||""}`.trim(),residentIsClient:((ht=h.survey)==null?void 0:ht.signerScenario)==="resident",startDate:((is=h.survey)==null?void 0:is.stayDateFrom)||new Date().toISOString().split("T")[0],endDate:((st=h.survey)==null?void 0:st.stayDateTo)||null,noEndDate:!((os=h.survey)!=null&&os.stayDateTo),careLevel:(Tt=h.consultation)!=null&&Tt.careLevel?`GIR${h.consultation.careLevel}`:null,dailyRate:((kt=h.consultation)==null?void 0:kt.price)||null,dailyRateWithDiscount:((Cs=h.consultation)==null?void 0:Cs.price)||null,discountPercent:0,createdAt:h.createdDate,appendixes:[]};K(G),c(Q.CONTRACT_PRINT)},onViewResident:G=>{const U=lx(G);U&&(R(U),c(Q.RESIDENT_PROFILE))}}),u===Q.QUEUE&&h&&e.jsx(Vy,{savedLead:h,allLeads:r,onBack:()=>c(Q.OFFER_REVIEW),onViewList:()=>c(Q.LIST),onAddNew:pt,onCancelLead:_t,onCreateContract:()=>{ce(h),K(null),c(Q.CONTRACT_CREATE)}}),u===Q.QUEUE_LIST&&e.jsx(Fy,{allLeads:r,onSendOffer:Jt,onAcceptFromQueue:Bt,onViewLead:ot,onCancelLead:Me}),u===Q.LIST&&e.jsx(Uy,{allLeads:r,onAddNew:pt,onSelectLead:Qt,filterView:x}),u===Q.RESIDENT_LIST&&e.jsx(Cv,{onSelectResident:Ms,onBack:()=>c(Q.LIST)}),u===Q.RESIDENT_PROFILE&&S&&e.jsx(Hb,{residentId:S.id,onBack:()=>c(Q.RESIDENT_LIST),onPrint:Ns}),u===Q.PRESCRIPTION_PRINT&&S&&e.jsx(Vv,{resident:S,onBack:()=>c(Q.RESIDENT_PROFILE)}),u===Q.INVENTORY_DASHBOARD&&e.jsx(qv,{onNavigate:Rt,onSelectResident:G=>{H(G),B(null),c(Q.RESIDENT_INVENTORY_LIST)}}),(u===Q.RESIDENT_INVENTORY_LIST||u===Q.RESIDENT_INVENTORY)&&e.jsx(Yv,{selectedResident:z,preselectedBulkItem:A,onBack:()=>{H(null),c(Q.INVENTORY_DASHBOARD)},onNavigate:Rt}),u===Q.INVENTORY_REPORTS&&e.jsxs("div",{className:"p-6 text-center text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"Atskaites (drzum)"}),e.jsx("p",{className:"text-sm mt-2",children:" funkcionalitte tiks pievienota nkamaj versij."})]}),u===Q.ROOM_MANAGEMENT&&e.jsx(eb,{onBack:()=>Rt("all-leads")}),u===Q.BED_BOOKING&&h&&!J&&e.jsx(m0,{lead:h,onComplete:G=>{const U={...h,residentId:G.id,bookedRoomId:G.roomId,bookedBedNumber:G.bedNumber};N(U),n(U),c(Q.AGREEMENT)},onBack:()=>c(Q.AGREEMENT)}),u===Q.BED_BOOKING&&J&&e.jsx(m0,{lead:ae||h,selectionOnly:!0,targetDate:te==null?void 0:te.startDate,onSelectRoom:({room:G,bedNumber:U})=>{Ce(G),F(U),le(!1),c(Q.CONTRACT_CREATE)},onBack:()=>{le(!1),c(Q.CONTRACT_CREATE)}}),u===Q.CONTRACT_LIST&&e.jsx(ab,{onCreateNew:()=>{K(null),ce(null),c(Q.CONTRACT_CREATE)},onViewContract:G=>{K(G),c(Q.CONTRACT_PRINT)},onEditContract:G=>{K(G),ce(null),c(Q.CONTRACT_CREATE)},onPrintContract:G=>{K(G),c(Q.CONTRACT_PRINT)}}),u===Q.CONTRACT_CREATE&&e.jsx(sb,{lead:ae,existingContract:O,initialRoom:je,initialBed:Ae,initialFormState:te,onSave:G=>{K(G)},onSelectRoom:G=>{L(G),le(!0),c(Q.BED_BOOKING)},onBack:()=>{ae?(ce(null),Ce(null),F(null),L(null),c(Q.OFFER_REVIEW)):(K(null),Ce(null),F(null),L(null),c(Q.CONTRACT_LIST))},onComplete:G=>{if(Ce(null),F(null),L(null),K(G),ae){const U={...h,status:Se.AGREEMENT,contractId:G.id,agreementNumber:G.contractNumber,bookedRoomId:G.roomId,bookedBedNumber:G.bedNumber,bookedRoomNumber:G.roomNumber};N(U),n(U)}c(Q.CONTRACT_PRINT)}}),u===Q.CONTRACT_PRINT&&O&&e.jsx(nb,{contract:O,lead:ae,onBack:()=>{h&&(O.contractNumber===h.agreementNumber||O.id===h.id)?(K(null),ce(null),c(Q.AGREEMENT)):(K(null),ce(null),c(Q.CONTRACT_LIST))},onMarkSigned:G=>{const U={...G,signedAt:new Date().toISOString()};l(U),K(U)},onMoveIn:(G,U)=>{var Le,Pe,ht,is,st,os,Tt,kt,Cs,Rr,Tr,Ar,Pr,nr,zr,Is,lr;if(G.roomId&&G.bedNumber){const Ds=(U==null?void 0:U.id)||G.id,na=ix(Ds);if(na){const St={...G,residentCreatedAt:G.residentCreatedAt||new Date().toISOString(),createdResidentId:na.id};l(St),K(St);return}try{const St={id:Ds,firstName:((Le=U==null?void 0:U.survey)==null?void 0:Le.firstName)||(U==null?void 0:U.firstName)||((Pe=G.residentName)==null?void 0:Pe.split(" ")[0]),lastName:((ht=U==null?void 0:U.survey)==null?void 0:ht.lastName)||(U==null?void 0:U.lastName)||((is=G.residentName)==null?void 0:is.split(" ").slice(1).join(" ")),phone:((st=U==null?void 0:U.survey)==null?void 0:st.phone)||(U==null?void 0:U.phone)||G.residentPhone,email:((os=U==null?void 0:U.survey)==null?void 0:os.email)||(U==null?void 0:U.email)||G.residentEmail,agreementNumber:G.contractNumber,birthDate:((Tt=U==null?void 0:U.survey)==null?void 0:Tt.birthDate)||G.residentBirthDate,personalCode:((kt=U==null?void 0:U.survey)==null?void 0:kt.personalCode)||G.residentPersonalCode,gender:((Cs=U==null?void 0:U.survey)==null?void 0:Cs.gender)||G.residentGender,street:(Rr=U==null?void 0:U.survey)==null?void 0:Rr.street,city:(Tr=U==null?void 0:U.survey)==null?void 0:Tr.city,postalCode:(Ar=U==null?void 0:U.survey)==null?void 0:Ar.postalCode,clientFirstName:(Pr=U==null?void 0:U.survey)==null?void 0:Pr.clientFirstName,clientLastName:(nr=U==null?void 0:U.survey)==null?void 0:nr.clientLastName,clientPhone:(zr=U==null?void 0:U.survey)==null?void 0:zr.clientPhone,clientEmail:(Is=U==null?void 0:U.survey)==null?void 0:Is.clientEmail,relationship:(lr=U==null?void 0:U.survey)==null?void 0:lr.relationship,consultation:{careLevel:G.careLevel}},Os=ox(St,G.roomId,G.bedNumber),$s={...G,residentCreatedAt:new Date().toISOString(),createdResidentId:Os.id};if(l($s),K($s),h&&U){const Bs={...h,residentId:Os.id};N(Bs),n(Bs)}}catch(St){console.error("Error creating resident:",St),alert("Kda iebraucinot rezidentu: "+St.message)}}}}),b&&w&&e.jsx(cj,{lead:w,queuePosition:J0(w,r),onClose:()=>{C(!1),E(null)},onSend:wt})]})},uj=()=>{const{id:r}=L0(),{leads:n}=ed(),i=n.find(c=>c.id===r);if(!i)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[e.jsx(bs,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pieteikums nav atrasts"}),e.jsx("p",{className:"text-gray-600",children:" saite vairs nav derga vai pieteikums ir dzsts."})]})});const l=i.consultation||{},u=i.survey||{};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"https://via.placeholder.com/60x60/f97316/ffffff?text=A",alt:"Adoro",className:"w-12 h-12 rounded-lg"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Adoro ampteris"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Socils aprpes centrs"})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Je,{className:"w-7 h-7 text-green-600"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:["Labdien, ",u.firstName||i.firstName," ",u.lastName||i.lastName,"!"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Paldies, ka apmekljt msu iestdi. eit Js varat prskatt informciju, ko esam savkui pc msu sarunas. Ldzu prbaudiet, vai viss ir pareizi."})]})]})}),e.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-5 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(bs,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Tikai apskatei"}),e.jsx("p",{className:"text-sm text-blue-800",children:" ir tikai informcijas apskates lapa. Ja pamant kdu vai vlaties ko maint, ldzu sazinieties ar mums pa e-pastu vai tlruni (kontakti lapas apak)."})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ta,{className:"w-5 h-5 text-orange-500"}),"Jsu izvltais pakalpojums"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Aprpes lmenis"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[l.careLevel,". lmenis"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Uzturans"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:l.duration==="long"?"Ilglaicga":"slaicga"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Istabas veids"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[l.roomType==="single"?"Vienvietga":"Divvietga",l.hasDementia&&" (Specila)"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("p",{className:"text-sm text-green-700 mb-1",children:"Cena"}),e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[l.price,"  / dien"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Wt,{className:"w-5 h-5 text-orange-500"}),"Jsu persong informcija"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Vrds, uzvrds"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[u.firstName||i.firstName," ",u.lastName||i.lastName]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[e.jsx(er,{className:"w-3 h-3"})," Tlrunis"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:u.phone||i.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[e.jsx($t,{className:"w-3 h-3"})," E-pasts"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:u.email||i.email})]})]}),u.street&&u.city&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[e.jsx(_c,{className:"w-3 h-3"})," Adrese"]}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[u.street,", ",u.city,", ",u.postalCode]})]})]})]}),u.signerScenario==="relative"&&u.clientFirstName&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lguma paraksttjs"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Vrds, uzvrds"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 mt-1",children:[u.clientFirstName," ",u.clientLastName]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Tlrunis"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:u.clientPhone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"E-pasts"}),e.jsx("p",{className:"text-base font-medium text-gray-900 mt-1",children:u.clientEmail})]})]})]})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-5",children:[e.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:"Nkamie soi"}),e.jsx("p",{className:"text-sm text-orange-800 mb-3",children:"Ja visa informcija ir pareiza, ms turpinsim ar lguma sagatavoanu un sazinsimies ar Jums tuvkaj laik."}),e.jsx("p",{className:"text-sm text-orange-800",children:"Ja ir jautjumi vai nepiecieami labojumi, ldzu sazinieties ar mums."})]})]}),e.jsx("div",{className:"bg-white border-t border-gray-200 mt-12",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Adoro ampteris"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Zolitdes iela 68A"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rga, LV-1046"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Kontakti"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tlrunis: +371 20 616 003"}),e.jsx("p",{className:"text-sm text-gray-600",children:"E-pasts: rezidence.sampeteris@adoro.lv"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"www.adoro.lv"})]})]})})})]})},mj=()=>{const{id:r}=L0(),{leads:n,addLead:i}=ed(),l=n.find(C=>C.id===r),[u,c]=y.useState(!1),[x,p]=y.useState({}),g=(l==null?void 0:l.survey)||{},[f,h]=y.useState(g.signerScenario||"resident"),[N,I]=y.useState({firstName:g.firstName||(l==null?void 0:l.firstName)||"",lastName:g.lastName||(l==null?void 0:l.lastName)||"",phone:g.phone||(l==null?void 0:l.phone)||"",email:g.email||(l==null?void 0:l.email)||"",birthDate:g.birthDate||"",personalCode:g.personalCode||"",street:g.street||"",city:g.city||"",postalCode:g.postalCode||"",gender:g.gender||"",disabilityGroup:g.disabilityGroup||"",disabilityDateFrom:g.disabilityDateFrom||"",disabilityDateTo:g.disabilityDateTo||"",stayDateFrom:g.stayDateFrom||new Date().toISOString().split("T")[0],stayDateTo:g.stayDateTo||"",clientFirstName:g.clientFirstName||"",clientLastName:g.clientLastName||"",relationship:g.relationship||"",clientPhone:g.clientPhone||"",clientEmail:g.clientEmail||"",clientStreet:g.clientStreet||"",clientCity:g.clientCity||"",clientPostalCode:g.clientPostalCode||"",clientPersonalCode:g.clientPersonalCode||""});if(!l)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[e.jsx(bs,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pieteikums nav atrasts"}),e.jsx("p",{className:"text-gray-600",children:" saite vairs nav derga vai pieteikums ir dzsts."})]})});if(u)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Je,{className:"w-10 h-10 text-green-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Paldies!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Jsu anketa ir veiksmgi nostta. Ms sazinsimies ar Jums tuvkaj laik."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[e.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"Adoro ampteris"}),e.jsx("p",{className:"text-sm text-blue-800 mt-2",children:"Tlrunis: +371 20 616 003"}),e.jsx("p",{className:"text-sm text-blue-800",children:"E-pasts: rezidence.sampeteris@adoro.lv"})]})]})});const D=(C,w)=>{I(E=>({...E,[C]:w})),x[C]&&p(E=>{const S={...E};return delete S[C],S})},v=C=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100",children:C.title}),e.jsx("div",{className:"space-y-4",children:C.fields.map(w=>{var R;const E=N.disabilityGroup&&N.disabilityGroup!=="none"&&N.disabilityGroup!=="";if((w.name==="disabilityDateFrom"||w.name==="disabilityDateTo")&&!E)return null;const S=()=>w.type==="date"?"max-w-xs":w.type==="tel"||w.name==="personalCode"||w.name==="clientPersonalCode"?"max-w-sm":w.name==="postalCode"||w.name==="clientPostalCode"?"max-w-xs":w.name==="city"||w.name==="clientCity"?"max-w-sm":w.type==="select"&&(w.name==="gender"||w.name==="disabilityGroup")?"max-w-xs":"w-full";return e.jsx("div",{children:w.type==="select"?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[w.label," ",w.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:N[w.name],onChange:z=>D(w.name,z.target.value),className:`${S()} px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white`,children:[e.jsx("option",{value:"",children:"Izvlieties..."}),(R=w.options)==null?void 0:R.map(z=>e.jsx("option",{value:z.value,children:z.label},z.value))]})]}):e.jsxs("div",{className:S(),children:[e.jsx(ys,{label:w.label,name:w.name,type:w.type,value:N[w.name],onChange:z=>D(w.name,z.target.value),error:x[w.name],required:w.required,placeholder:w.placeholder}),w.helper&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:w.helper})]})},w.name)})})]},C.id),k=C=>{C.preventDefault();const w={};if(tr.forEach(E=>{E.fields.forEach(S=>{S.required&&!N[S.name]&&(w[S.name]="Obligts lauks")})}),f==="relative"&&sr.forEach(E=>{E.fields.forEach(S=>{S.required&&!N[S.name]&&(w[S.name]="Obligts lauks")})}),p(w),Object.keys(w).length===0){const E={...l,status:"survey_filled",survey:{...N,signerScenario:f}};i(E),c(!0)}else window.scrollTo({top:0,behavior:"smooth"})},b=l.consultation||{};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"https://via.placeholder.com/60x60/f97316/ffffff?text=A",alt:"Adoro",className:"w-12 h-12 rounded-lg"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Adoro ampteris"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Socils aprpes centrs"})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:["Labdien, ",l.firstName," ",l.lastName,"!"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Paldies par interesi par Adoro aprpes centru. Ldzu aizpildiet o anketu ar visu nepiecieamo informciju lguma sagatavoanai."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Jsu izvltais pakalpojums:"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Aprpe:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[b.careLevel,". lmenis"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Istaba:"}),e.jsx("span",{className:"ml-1 font-medium",children:b.roomType==="single"?"Vienvietga":"Divvietga"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Periods:"}),e.jsx("span",{className:"ml-1 font-medium",children:b.duration==="long"?"Ilglaicgs":"slaicgs"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Cena:"}),e.jsxs("span",{className:"ml-1 font-bold text-green-700",children:[b.price," /dien"]})]})]})]})]}),e.jsxs("form",{onSubmit:k,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Wt,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Rezidenta informcija"})]}),tr.map(C=>v(C))]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Lguma paraksttjs"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${f==="resident"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"resident",checked:f==="resident",onChange:C=>h(C.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Rezidents pats"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Parakstu persongi"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${f==="relative"?"border-blue-500 bg-white shadow-sm":"border-transparent hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:"scenario",value:"relative",checked:f==="relative",onChange:C=>h(C.target.value),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 block",children:"Radinieks / Pilnvarot persona"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Paraksts cita persona"})]})]})]})}),f==="relative"&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Paraksttja informcija"}),sr.map(C=>v(C))]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-gray-200",children:e.jsxs("button",{type:"submit",className:"flex-1 px-8 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(zn,{className:"w-5 h-5"}),"Nostt anketu"]})})]})]}),e.jsx("div",{className:"bg-white border-t border-gray-200 mt-12",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"Adoro ampteris"}),e.jsx("p",{children:"Zolitdes iela 68A, Rga, LV-1046"}),e.jsx("p",{className:"mt-2",children:"Tlrunis: +371 20 616 003 | E-pasts: rezidence.sampeteris@adoro.lv"})]})})})]})};Ap.createRoot(document.getElementById("root")).render(e.jsx(y.StrictMode,{children:e.jsx(tf,{basename:"/adorable-prototype",children:e.jsxs(Rh,{children:[e.jsx(ei,{path:"/",element:e.jsx(dj,{})}),e.jsx(ei,{path:"/review/:id",element:e.jsx(uj,{})}),e.jsx(ei,{path:"/fill/:id",element:e.jsx(mj,{})})]})})}));
